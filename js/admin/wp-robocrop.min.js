!function(t){var i;i=_.extend(window.robocrop,{cropFromFocusPoint:function(t,i){var e=(t.focuspoint.x+1)/2*t.width,h=(1-t.focuspoint.y)/2*t.height,a=Math.min(t.width/i.min_width,t.height/i.min_height),o=i.min_width*a,n=i.min_height*a,r=Math.min(Math.max(e-o/2,0),t.width-o),c=Math.min(Math.max(h-n/2,0),t.height-n);return{names:i.sizes,x:r/t.width,y:c/t.height,width:o/t.width,height:n/t.height}},relToAbsCoords:function(t,i){var e,h={};for(e in t)switch(e){case"x":case"x1":case"x2":case"width":h[e]=t[e]*i.width;break;case"y":case"y1":case"y2":case"height":h[e]=t[e]*i.height;break;default:h[e]=t[e]}return h},absToRelCoords:function(t,i){var e,h={};for(e in t)switch(e){case"x":case"x1":case"x2":case"width":h[e]=t[e]/i.width;break;case"y":case"y1":case"y2":case"height":h[e]=t[e]/i.height;break;default:h[e]=t[e]}return h},pointToRectCoords:function(t){return{x:t.x1,y:t.y1,width:t.x2-t.x1,height:t.y2-t.y1}},rectToPointCoords:function(t){return{x1:t.x,y1:t.y,x2:t.maxX?t.maxX:t.x+t.width,y2:t.maxY?t.maxY:t.y+t.height}},view:{},controller:{}}),t.media.robocrop=i}(wp);
!function(t,e){var i=t.media.robocrop,o=i.image_ratios,s=i.image_sizes,a=i.l10n;i.options;i.view.Img=t.media.View.extend({className:"attachment-image",tagName:"img",id:"robocrop-image",initialize:function(){var t=this;_.defaults(this.options,{src:""}),this.$el.on("load",function(){t.width=t.$el.get(0).naturalWidth,t.height=t.$el.get(0).naturalHeight,t.ratio=t.width/t.height,t.trigger("load",t)}),this.$el.attr("src",this.options.src)},getSrc:function(t){return this.$el.attr("src")},setSrc:function(t){return!!t&&this.$el.attr("src",t),this}}),i.view.RobocropRatioSelect=t.media.View.extend({className:"robocrop-select",template:t.template("robocrop-select"),events:{'click [name="robocrop-select-ratio"]':"selectRatio"},initialize:function(){t.Backbone.View.prototype.initialize.apply(this,arguments),_.defaults({ratios:{},tools:{}},this.options),this.options.l10n=a},render:function(){t.Backbone.View.prototype.render.apply(this,arguments);var o=this;_.each(this.options.tools,function(t,e){o.views.add(new i.view.RobocropRatioSelectItem({ratiokey:e,sizenames:!1,ratio:e,title:t.title,enabled:!0}))}),_.each(this.options.ratios,function(t,a){var n=[],r=_.template('<span class="sizename<%= cancrop ? "" : " disabled" %>"><%= name %> (<%= width %>Ã—<%= height %>)</span>');_.each(t.sizes,function(t,i){var a=e.extend(!0,{cancrop:o.model.get("width")>=s[t].width&&o.model.get("height")>=s[t].height},s[t]);a.crop&&n.push(r(a))}),o.views.add(new i.view.RobocropRatioSelectItem({ratiokey:a,sizenames:n.join(""),ratio:a,title:a+" : 1",enabled:o.model.get("width")>=t.min_width&&o.model.get("height")>=t.min_height}))})},setSelected:function(t){this.$el.find('[name="robocrop-select-ratio"][value="'+t+'"]').prop("checked",!0),this.selectRatio()},getSelected:function(){return this.$el.find('[name="robocrop-select-ratio"]:checked').val()},selectRatio:function(t){this.options.ratios[this.getSelected()]?this.trigger("select-ratio"):this.options.tools[this.getSelected()]&&this.trigger("select-tool"),this.trigger("select")}}),i.view.RobocropRatioSelectItem=t.media.View.extend({className:"robocrop-select-item",template:t.template("robocrop-select-item"),sizekey:"",sizenames:"",ratio:0,enabled:null,render:function(){t.Backbone.View.prototype.render.apply(this,arguments),this.$el.find('input[type="radio"]').prop("disabled",!this.options.enabled)}}),i.view.RobocropImage=t.media.View.extend({className:"image-robocrop",template:t.template("robocrop"),image_ratios:o,image_sizes:s,_croppers:null,events:{"click .robocrop-autocrop-current":"autocrop","click .robocrop-autocrop-all":"autocropAll"},initialize:function(e){this._croppers={},this.image=new i.view.Img({src:this.model.get("url")}),this.controller=e.controller,this.focuspointtool=new i.view.focuspoint.ImageFocusPointSelect({image:this.image,focuspoint:{x:0,y:0},src:this.model.get("url")}),this.listenTo(this.focuspointtool,"changed",this.updateFocusPoint),t.media.View.prototype.initialize.apply(this,arguments)},dismiss:function(){var t=this.$areaSelect();t&&t.remove(),this.$el.remove()},createSelect:function(){this.select=new i.view.RobocropRatioSelect({choices:choices})},hasChanged:function(){this.trigger("changed")},render:function(){var e=this;return t.media.View.prototype.render.apply(this,arguments),this.views.set(".robocrop-content",this.focuspointtool),this.focuspointtool.setFocuspoint(this.model.get("focuspoint")),this.image.$el.imgAreaSelect({parent:this.image.$el.closest(".robocrop-image-box"),instance:!0,handles:!0,keys:!0,persistent:!0,enabled:!0,movable:!0,resizable:!0,imageHeight:this.model.get("height"),imageWidth:this.model.get("width"),onSelectEnd:function(t,o){var s=i.pointToRectCoords(o);e._setCropSizes(s),e.hasChanged()}}),this.selectRatio=new i.view.RobocropRatioSelect({tools:{focuspoint:{title:a.SetFocusPoint,trigger:"focuspoint"}},ratios:this.image_ratios,model:this.model}),this.selectRatio.on("select-ratio",this.onselectratio,this).on("select-tool",this.onselecttool,this).on("select",this.updateButtons,this),this.views.set(".select-ratio",this.selectRatio),this.$autoButton=this.$el.find(".robocrop-autocrop-current"),this.$autoAllButton=this.$el.find(".robocrop-autocrop-all"),this},ready:function(){var e,i;return t.media.view.EditImage.prototype.ready.apply(this,arguments),_.isUndefined(this.options.sizeToSelect)||(i=_.find(this.image_ratios,function(t){return t.sizes.indexOf(this.options.sizeToSelect)>-1},this))&&(e=i.name),_.isUndefined(e)&&(e="focuspoint"),this.selectRatio.setSelected(e),this},save:function(){var t={attachments:{}},i=this.model.get("id"),o=this.$autoAllButton.add(this.$autoButton).prop("disabled",!0),s=this;return t.attachments[i]={sizes:this.model.get("sizes"),focuspoint:this.model.get("focuspoint")},this.model.saveCompat(t,{}).done(function(t){var i=new Date;_.each(s.model.attributes.sizes,function(t,o){var s='img[src^="'+t.url+'"]',a=function(){e(this).removeAttr("src").attr("src",t.url+"?"+i.getTime())};refresh_mce=function(){e(this).removeAttr("data-mce-src").attr("data-mce-src",t.url+"?"+i.getTime())},"full"!==o&&(e(document).add(e("iframe").contents()).find(s).each(a),e(".mce-edit-area iframe").each(function(){e(this).contents().find(s).each(a).each(refresh_mce)}))},s),o.prop("disabled",!1),s.trigger("saved")}),this},updateButtons:function(){var t=this.selectRatio.getSelected();this.$autoButton.toggleClass("hidden","focuspoint"===t),this.$autoAllButton.toggleClass("hidden","focuspoint"!==t)},onselecttool:function(){var t=this.selectRatio.getSelected();switch(this.$areaSelect().cancelSelection(),t){case"focuspoint":this.focuspointtool.setEnabled(!0)}},onselectratio:function(){this.focuspointtool.setEnabled(!1);var t,e,i,o=this.selectRatio.getSelected(),a=this.model.get("sizes"),n=this,r=this.model.get("width"),c=this.model.get("height");if(this.current_ratio=this.image_ratios[o],i={aspectRatio:this.current_ratio.ratio+":1",minWidth:this.current_ratio.min_width,minHeight:this.current_ratio.min_height},_.each(this.current_ratio.sizes,function(t){!e&&a[t]&&a[t].cropdata&&(e=a[t].cropdata),s[t].width<=r&&s[t].height<=c&&(i.minWidth=Math.max(i.minWidth,s[t].width),i.minHeight=Math.max(i.minHeight,s[t].height))}),e)t={},_.extend(t,e);else{var h=Math.min(this.model.get("width")/this.current_ratio.ratio,this.model.get("height"));t={x:0,y:0,width:h*this.current_ratio.ratio,height:h},t.x=(this.model.get("width")-t.width)/2,t.y=(this.model.get("height")-t.height)/2}return this.$areaSelect().setOptions(i),this.image.$el.get(0).complete?this.selectCrop(t):this.image.$el.on("load",function(){n.selectCrop(t)}),this},autocrop:function(t){var e,o={width:this.model.get("width"),height:this.model.get("height"),focuspoint:this.model.get("focuspoint")};return e=i.cropFromFocusPoint(o,this.current_ratio),e=i.relToAbsCoords(e,o),this._setCropSizes(e),this.selectCrop(e),this},autocropAll:function(t){var e=this,o={width:this.model.get("width"),height:this.model.get("height"),focuspoint:this.model.get("focuspoint")};return _.each(this.image_ratios,function(t){var s;s=i.cropFromFocusPoint(o,t),s=i.relToAbsCoords(s,o),e._setCropSizes(s,t)}),this},selectCrop:function(t){var e=(this._image_scale_factor(),i.rectToPointCoords(t)),o=this.$areaSelect();return o.setSelection(e.x1,e.y1,e.x2,e.y2,!1),o.setOptions({show:!0}),o.update(),this},$areaSelect:function(){return this.image.$el.data("imgAreaSelect")},_image_scale_factor:function(){var t=this.image.$el.closest(".robocrop-image-box"),e=Math.min(this.model.get("width"),t.width()),i=Math.min(this.model.get("height"),t.height());return Math.min(e/this.model.get("width"),i/this.model.get("height"))},updateFocusPoint:function(){this.model.set("focuspoint",this.focuspointtool.getFocuspoint())},_setCropSizes:function(t,e){var i=this.model.get("sizes");e=e||this.current_ratio,_.each(e.sizes,function(e){!i[e]&&(i[e]={}),i[e].cropdata=t}),this.model.set("sizes",i)},_getRelativeCoords:function(t){var e=this.model.get("width"),i=this.model.get("height");for(var o in t)if("number"==typeof t[o])switch(o){case"x":case"x1":case"x2":case"width":case"minX":case"maxX":t[o]/=e;break;default:t[o]/=i}},_getAbsoluteCoords:function(t){var e=this.model.get("width"),i=this.model.get("height");for(var o in t)if("number"==typeof t[o])switch(o){case"x":case"x1":case"x2":case"width":case"minX":case"maxX":t[o]*=e;break;default:t[o]*=i}}}),i.view.Frame=t.media.view.MediaFrame.extend({template:t.template("robocrop-modal"),regions:["title","content","instructions","buttons"]}),i.view.Frame.Crop=i.view.Frame.extend({events:{"click .robocrop-save":"save","click .robocrop-cancel":"close"},save:function(){this.$(".robocrop-save, .robocrop-cancel").prop("disabled",!0),this._content.save()},initialize:function(t){i.view.Frame.prototype.initialize.apply(this,arguments),this.createTitle(),this.createContent(),this.createButtons(),this.on("close",this.dismiss,this),this.listenTo(this._content,"saved",this.modelSync)},modelSync:function(){this.$(".robocrop-save, .robocrop-cancel").prop("disabled",!1)},dismiss:function(){this._content.dismiss()},createTitle:function(){this._title=new t.media.View({tagName:"h1"}),this._title.$el.text(a.AttachmentDetails),this.title.set([this._title])},createContent:function(){var t=_.extend({controller:this.controller,model:this.model},this.options);this._content=new i.view.RobocropImage(t),this.content.set([this._content])},createButtons:function(){this.buttons.set([new t.media.view.Button({text:a.Close,className:"button-secondary robocrop-cancel"}),new t.media.view.Button({text:a.SaveChanges,className:"button-primary robocrop-save"})])}})}(wp,jQuery);
!function(t,i){var e,o,s=t.media.robocrop,n=s.image_ratios,c=(s.image_sizes,s.l10n),a=t.media.View;t.media.view.MediaFrame;s.view.focuspoint={},o=s.view.focuspoint.CropRect=a.extend({template:t.template("croprect"),className:"tool-croprect",controller:null,events:{"mouseenter .label":"showHilite","mouseleave .label":"hideHilite"},initialize:function(){a.prototype.initialize.apply(this,arguments),_.defaults(this.options,{focuspoint:null,ratio:null}),this.options.label=this.options.ratio.name+" : 1",this.controller=this.options.controller,this.listenTo(this.controller.image,"load",this.imageLoaded)},imageLoaded:function(t){this.$el.attr("data-dir",this.options.ratio.ratio>t.ratio?"w":"h"),this.$el.css("width",100*Math.min(1,this.options.ratio.ratio/t.ratio)+"%"),this.setFocuspoint()},setFocuspoint:function(t){t&&(this.options.focuspoint=t);var i={width:this.controller.image.$el.width(),height:this.controller.image.$el.height(),focuspoint:this.options.focuspoint},e=s.cropFromFocusPoint(i,this.options.ratio),o=s.relToAbsCoords(e,i);return this.$el.css("left",o.x+"px"),this.$el.css("top",o.y+"px"),this},showHilite:function(t){this.$el.attr("data-hilite","true"),this.trigger("hilite:show")},hideHilite:function(t){this.$el.attr("data-hilite","false"),this.trigger("hilite:hide")}}),e=s.view.focuspoint.FocusPoint=a.extend({className:"tool-focuspoint",template:t.template("focuspoint"),initialize:function(){var t=this;_.defaults(this.options,{focuspoint:{x:0,y:0},enabled:!1,cropRects:[]}),this.options.cropRects.sort(function(t,i){return i.options.ratio.ratio-t.options.ratio.ratio}),this.$el.on("click",function(i){t.clickFocuspoint(i)})},render:function(){var t=this;return a.prototype.render.apply(this,arguments),_.each(this.options.cropRects,function(i){i.render(),t.$el.append(i.$el)}),this},setEnabled:function(t){var i=this.options.enabled;return this.options.enabled=t,this.$el.attr("data-enabled",t.toString()),i},clickFocuspoint:function(t){var i;this.options.enabled&&(i=this.$el.offset(),this.setFocuspoint({x:2*(t.pageX-i.left)/this.$el.width()-1,y:-2*(t.pageY-i.top)/this.$el.height()+1}))},getFocuspoint:function(){return this.focuspoint},setFocuspoint:function(t){var i=this;return this.focuspoint=t,this.$el.find(".focuspoint").css({left:50*(t.x+1)+"%",bottom:50*(t.y+1)+"%"}),_.each(this.options.cropRects,function(t){t.setFocuspoint(i.focuspoint)}),this.options.enabled&&this.trigger("change:focuspoint",this.focuspoint),this}}),s.view.focuspoint.ImageFocusPointSelect=a.extend({className:"robocrop-image-box",cropRects:[],initialize:function(){_.defaults(this.options,{controller:this,focuspoint:{x:0,y:0},src:!1,image:!1,enabled:!1});var t=this;!1!==this.options.image&&this.options.image.constructor.prototype==s.view.Img.prototype?this.image=this.options.image:!1!==this.options.src?this.image=new s.view.Img({src:this.options.src}):this.image=new s.view.Img({src:""},this.options.image),this.cropRects=[],_.each(n,function(i,e){var s=new o({controller:t,focuspoint:t.options.focuspoint,ratio:i});t.listenTo(s,"hilite:show",t.showHilite),t.listenTo(s,"hilite:hide",t.hideHilite),t.cropRects.push(s)}),this.focuspoint=new e({controller:this.controller,focuspoint:this.options.focuspoint,enabled:this.options.enabled,cropRects:this.cropRects}),this.listenTo(this.focuspoint,"change:focuspoint",this.valueChanged)},setEnabled:function(t){return this.focuspoint.setEnabled(t)},render:function(){a.prototype.render.apply(this,arguments);return this.views.set([this.image,this.focuspoint]),this},getFocuspoint:function(){return this.focuspoint.getFocuspoint()},setFocuspoint:function(t){return this.focuspoint&&this.focuspoint.setFocuspoint(t),this},getImageWidth:function(){return this.image.$el.get(0).naturalWidth},getImageHeight:function(){return this.image.$el.get(0).naturalHeight},setSrc:function(t){return this.image.$el.attr("src",t),this},valueChanged:function(){this.trigger("changed")},showHilite:function(t){this.$el.attr("data-hilite","true")},hideHilite:function(t){this.$el.attr("data-hilite","false")}}),s.view.Frame.Focuspoint=s.view.Frame.extend({className:"ask-focuspoint media-frame",events:{"click .reset":"reset","click .proceed":"proceed","click .cancel-upload":"cancelUpload"},initialize:function(){_.defaults(this.options,{uploader:!1,title:c.SetFocusPoint,modal:!!this.options&&this.options.modal,src:""}),s.view.Frame.prototype.initialize.apply(this,arguments),this.modal&&this.modal.on("escape",this.cancelUpload,this),this.createTitle(),this.createContent(),this.createInstructions(),this.createButtons()},createTitle:function(){this._title=new t.media.View({tagName:"h1"}),this._title.$el.text(this.options.title),this.title.set([this._title])},createContent:function(){this._content=new s.view.focuspoint.ImageFocusPointSelect({src:"",focuspoint:{x:0,y:0},controller:this,enabled:!0}),this.content.set([this._content])},createInstructions:function(){this.instructions.set([new t.media.View({el:i('<div class="instructions">'+c.FocusPointInstructions+"</div>")[0],priority:-40})])},createButtons:function(){this.buttons.set([new t.media.view.Button({text:c.CancelUpload,className:"cancel-upload"}),new t.media.view.Button({text:c.Reset,className:"reset"}),new t.media.view.Button({text:c.Okay,className:"button-primary proceed"})])},setSrc:function(t){this._content.setSrc(t)},setFile:function(t){var i=this,e=new FileReader;e.onload=function(t){i.setSrc(e.result)},e.readAsDataURL(t)},setFocuspoint:function(t){this._content.setFocuspoint(t),this._content.setEnabled(!0)},getFocuspoint:function(){return this._content.getFocuspoint()},getImageWidth:function(){return this._content.getImageWidth()},getImageHeight:function(){return this._content.getImageHeight()},reset:function(t){this.setFocuspoint({x:0,y:0})},proceed:function(t){this.trigger("proceed")},cancelUpload:function(t){this.trigger("cancel-upload"),this.close()}})}(wp,jQuery);
!function(e,t){var o=e.media.robocrop,n=(o.image_ratios,o.image_sizes,o.l10n),i=(o.options,'<button type="button" class="button robocrop-open">'+n.EditImageSizes+"</button>"),r='<button type="button" class="button-link robocrop-open">'+n.EditImageSizes+"</button>",a={createStates:function(){this._parentCreateStates.apply(this,arguments),this.states.add(new o.controller.RobocropImage({model:this.model,selection:this.options.selection}))}};_.extend(e.media.view.ImageDetails.prototype,{_parentPostRender:e.media.view.ImageDetails.prototype.postRender,postRender:function(){this._parentPostRender.apply(this,arguments),this.$el.find(".actions").append(i)},robocropOpen:function(e){console.log();var t=this.model.get("size");new o.view.Frame.Crop({controller:this.controller,model:this.controller.image.attachment,sizeToSelect:t}).open()}}),e.media.view.ImageDetails.prototype.events["click .robocrop-open"]="robocropOpen",_.extend(e.media.view.Attachment.Details.prototype,{_parentRender:e.media.view.Attachment.Details.prototype.render,render:function(){this._parentRender.apply(this,arguments),"image"===this.model.get("type")&&(this.$(".attachment-actions").append(i),t(r).insertAfter(this.$el.find("a.edit-attachment")))},robocropOpen:function(e){new o.view.Frame.Crop({controller:this.controller,model:this.model}).open()},_parentCreateStates:e.media.view.Attachment.Details.prototype.createStates},a),e.media.view.Attachment.Details.prototype.events["click .robocrop-open"]="robocropOpen"}(wp,jQuery);
!function(e){var t=wp.media.robocrop,o=t.image_ratios,i=(t.image_sizes,t.options),n={};i.ask_for_focuspoint&&_.extend(wp.media.view.UploaderWindow.prototype,{_parentReady:wp.media.view.UploaderWindow.prototype.ready,didReady:!1,ready:function(){function i(o){var a;p&&p.close().dispose(),s.length?(a=s.shift(),p=new t.view.Frame.Focuspoint({controller:e(this)}),p.on("proceed",function(){n[a.file.name]={focuspoint:p.getFocuspoint(),width:p.getImageWidth(),height:p.getImageHeight()},i(o)}).on("cancel-upload",function(){a.file.attachment.destroy()}),p.setFocuspoint({x:0,y:0}),p.setFile(a.blob),p.open()):o.start()}function a(e,t){s.push(e)}function r(e){var t={file:e,blob:e.getNative()};return t.blob||(t.blob=e.getSource()),t}var p,s=[];return this.didReady?this._parentReady.apply(this,arguments):(this.didReady=!0,ret=this._parentReady.apply(this,arguments),this.uploader.uploader.bind("FilesAdded",function(e,t){for(var o,n=0;n<t.length;n++)"image/png"!=t[n].type&&"image/jpeg"!=t[n].type||(o=r(t[n]),o.blob instanceof Blob&&a(o,e));s.length&&(e.stop(),e.refresh(),i(e),console.log("askfocus"))}),this.uploader.uploader.bind("BeforeUpload",function(e,i){var a,r;if(n[i.name]){imageinfo=n[i.name],r={};for(a in o)r[o[a].name]=t.cropFromFocusPoint(imageinfo,o[a]);e.settings.multipart_params.focuspoint=JSON.stringify(imageinfo.focuspoint),e.settings.multipart_params.cropdata=JSON.stringify(r),delete n[i.name]}}),ret)}})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvYm9jcm9wLWJhc2UuanMiLCJyb2JvY3JvcC1tZWRpYS12aWV3LmpzIiwicm9ib2Nyb3AtZm9jdXNwb2ludC1tZWRpYS12aWV3LmpzIiwicm9ib2Nyb3Atd3AtbWVkaWEtdmlldy5qcyIsInJvYm9jcm9wLWZvY3VzcG9pbnQtd3AtdXBsb2FkZXIuanMiXSwibmFtZXMiOlsiZXhwb3J0cyIsInJvYm9jcm9wIiwiXyIsImV4dGVuZCIsIndpbmRvdyIsImNyb3BGcm9tRm9jdXNQb2ludCIsImltYWdlaW5mbyIsImNyb3BpbmZvIiwiZnBfeCIsImZvY3VzcG9pbnQiLCJ4Iiwid2lkdGgiLCJmcF95IiwieSIsImhlaWdodCIsInNjYWxlIiwiTWF0aCIsIm1pbiIsIm1pbl93aWR0aCIsIm1pbl9oZWlnaHQiLCJjcm9wX3ciLCJjcm9wX2giLCJjcm9wX3giLCJtYXgiLCJjcm9wX3kiLCJuYW1lcyIsInNpemVzIiwicmVsVG9BYnNDb29yZHMiLCJjcm9wZGF0YSIsInMiLCJyZXQiLCJhYnNUb1JlbENvb3JkcyIsInBvaW50VG9SZWN0Q29vcmRzIiwicG9pbnRzIiwieDEiLCJ5MSIsIngyIiwieTIiLCJyZWN0VG9Qb2ludENvb3JkcyIsInJlY3QiLCJtYXhYIiwibWF4WSIsInZpZXciLCJjb250cm9sbGVyIiwibWVkaWEiLCJ3cCIsIiQiLCJpbWFnZV9yYXRpb3MiLCJpbWFnZV9zaXplcyIsImwxMG4iLCJvcHRpb25zIiwiSW1nIiwiVmlldyIsImNsYXNzTmFtZSIsInRhZ05hbWUiLCJpZCIsImluaXRpYWxpemUiLCJzZWxmIiwidGhpcyIsImRlZmF1bHRzIiwic3JjIiwiJGVsIiwib24iLCJnZXQiLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwicmF0aW8iLCJ0cmlnZ2VyIiwiYXR0ciIsImdldFNyYyIsInNldFNyYyIsIlJvYm9jcm9wUmF0aW9TZWxlY3QiLCJ0ZW1wbGF0ZSIsImV2ZW50cyIsImNsaWNrIFtuYW1lPVwicm9ib2Nyb3Atc2VsZWN0LXJhdGlvXCJdIiwiQmFja2JvbmUiLCJwcm90b3R5cGUiLCJhcHBseSIsImFyZ3VtZW50cyIsInJhdGlvcyIsInRvb2xzIiwicmVuZGVyIiwiZWFjaCIsInRvb2wiLCJrZXkiLCJ2aWV3cyIsImFkZCIsIlJvYm9jcm9wUmF0aW9TZWxlY3RJdGVtIiwicmF0aW9rZXkiLCJzaXplbmFtZXMiLCJ0aXRsZSIsImVuYWJsZWQiLCJuYW1lX3RwbCIsInNpemVuYW1lIiwic2l6ZSIsImNhbmNyb3AiLCJtb2RlbCIsImNyb3AiLCJwdXNoIiwiam9pbiIsInNldFNlbGVjdGVkIiwiZmluZCIsInByb3AiLCJzZWxlY3RSYXRpbyIsImdldFNlbGVjdGVkIiwidmFsIiwiZXZlbnQiLCJzaXpla2V5IiwiUm9ib2Nyb3BJbWFnZSIsIl9jcm9wcGVycyIsImNsaWNrIC5yb2JvY3JvcC1hdXRvY3JvcC1jdXJyZW50IiwiY2xpY2sgLnJvYm9jcm9wLWF1dG9jcm9wLWFsbCIsImltYWdlIiwiZm9jdXNwb2ludHRvb2wiLCJJbWFnZUZvY3VzUG9pbnRTZWxlY3QiLCJsaXN0ZW5UbyIsInVwZGF0ZUZvY3VzUG9pbnQiLCJkaXNtaXNzIiwiYXJlYVNlbGVjdCIsIiRhcmVhU2VsZWN0IiwicmVtb3ZlIiwiY3JlYXRlU2VsZWN0Iiwic2VsZWN0IiwiY2hvaWNlcyIsImhhc0NoYW5nZWQiLCJzZXQiLCJzZXRGb2N1c3BvaW50IiwiaW1nQXJlYVNlbGVjdCIsInBhcmVudCIsImNsb3Nlc3QiLCJpbnN0YW5jZSIsImhhbmRsZXMiLCJrZXlzIiwicGVyc2lzdGVudCIsIm1vdmFibGUiLCJyZXNpemFibGUiLCJpbWFnZUhlaWdodCIsImltYWdlV2lkdGgiLCJvblNlbGVjdEVuZCIsImNvb3JkcyIsIl9zZXRDcm9wU2l6ZXMiLCJTZXRGb2N1c1BvaW50Iiwib25zZWxlY3RyYXRpbyIsIm9uc2VsZWN0dG9vbCIsInVwZGF0ZUJ1dHRvbnMiLCIkYXV0b0J1dHRvbiIsIiRhdXRvQWxsQnV0dG9uIiwicmVhZHkiLCJjdXJyZW50UmF0aW8iLCJmb3VuZCIsIkVkaXRJbWFnZSIsImlzVW5kZWZpbmVkIiwic2l6ZVRvU2VsZWN0IiwiaW5kZXhPZiIsIm5hbWUiLCJzYXZlIiwiZGF0YSIsImF0dGFjaG1lbnRzIiwiJGJ0bnMiLCJzYXZlQ29tcGF0IiwiZG9uZSIsInJlc3AiLCJkIiwiRGF0ZSIsImF0dHJpYnV0ZXMiLCJzZWxlY3RvciIsInVybCIsInJlZnJlc2giLCJyZW1vdmVBdHRyIiwiZ2V0VGltZSIsInJlZnJlc2hfbWNlIiwiZG9jdW1lbnQiLCJjb250ZW50cyIsInRvb2xrZXkiLCJ0b2dnbGVDbGFzcyIsImNhbmNlbFNlbGVjdGlvbiIsInNldEVuYWJsZWQiLCJhcmVhU2VsZWN0T3B0aW9ucyIsImltZ1dpZHRoIiwiaW1nSGVpZ2h0IiwiY3VycmVudF9yYXRpbyIsImFzcGVjdFJhdGlvIiwibWluV2lkdGgiLCJtaW5IZWlnaHQiLCJzZXRPcHRpb25zIiwiY29tcGxldGUiLCJzZWxlY3RDcm9wIiwiYXV0b2Nyb3AiLCJhdXRvY3JvcEFsbCIsIl9pbWFnZV9zY2FsZV9mYWN0b3IiLCJzZXRTZWxlY3Rpb24iLCJzaG93IiwidXBkYXRlIiwiJGNvbnRhaW5lciIsInciLCJoIiwiZ2V0Rm9jdXNwb2ludCIsIm1vZGVsU2l6ZXMiLCJfZ2V0UmVsYXRpdmVDb29yZHMiLCJfZ2V0QWJzb2x1dGVDb29yZHMiLCJGcmFtZSIsIk1lZGlhRnJhbWUiLCJyZWdpb25zIiwiQ3JvcCIsImNsaWNrIC5yb2JvY3JvcC1zYXZlIiwiY2xpY2sgLnJvYm9jcm9wLWNhbmNlbCIsIl9jb250ZW50IiwiY3JlYXRlVGl0bGUiLCJjcmVhdGVDb250ZW50IiwiY3JlYXRlQnV0dG9ucyIsIm1vZGVsU3luYyIsIl90aXRsZSIsInRleHQiLCJBdHRhY2htZW50RGV0YWlscyIsIm9wdHMiLCJjb250ZW50IiwiYnV0dG9ucyIsIkJ1dHRvbiIsIkNsb3NlIiwiU2F2ZUNoYW5nZXMiLCJqUXVlcnkiLCJGb2N1c1BvaW50IiwiQ3JvcFJlY3QiLCJtb3VzZWVudGVyIC5sYWJlbCIsIm1vdXNlbGVhdmUgLmxhYmVsIiwibGFiZWwiLCJpbWFnZUxvYWRlZCIsImNzcyIsInJlcyIsImNvb3JkIiwic2hvd0hpbGl0ZSIsImUiLCJoaWRlSGlsaXRlIiwiY3JvcFJlY3RzIiwic29ydCIsImEiLCJiIiwiY2xpY2tGb2N1c3BvaW50IiwiYXBwZW5kIiwicHJldiIsInRvU3RyaW5nIiwib2ZmcyIsIm9mZnNldCIsInBhZ2VYIiwibGVmdCIsInBhZ2VZIiwidG9wIiwiYm90dG9tIiwiY29uc3RydWN0b3IiLCJ2YWx1ZUNoYW5nZWQiLCJnZXRJbWFnZVdpZHRoIiwiZ2V0SW1hZ2VIZWlnaHQiLCJGb2N1c3BvaW50IiwiY2xpY2sgLnJlc2V0IiwiY2xpY2sgLnByb2NlZWQiLCJjbGljayAuY2FuY2VsLXVwbG9hZCIsInVwbG9hZGVyIiwibW9kYWwiLCJjYW5jZWxVcGxvYWQiLCJjcmVhdGVJbnN0cnVjdGlvbnMiLCJpbnN0cnVjdGlvbnMiLCJlbCIsIkZvY3VzUG9pbnRJbnN0cnVjdGlvbnMiLCJwcmlvcml0eSIsIkNhbmNlbFVwbG9hZCIsIlJlc2V0IiwiT2theSIsInNldEZpbGUiLCJmaWxlIiwiZnIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwicmVzdWx0IiwicmVhZEFzRGF0YVVSTCIsInJlc2V0IiwicHJvY2VlZCIsImNsb3NlIiwiY3JvcEJ0bkhUTUwiLCJFZGl0SW1hZ2VTaXplcyIsImNyb3BMaW5rSFRNTCIsInJvYm9jcm9wU3RhdGVFeHRlbmQiLCJjcmVhdGVTdGF0ZXMiLCJfcGFyZW50Q3JlYXRlU3RhdGVzIiwic3RhdGVzIiwic2VsZWN0aW9uIiwiSW1hZ2VEZXRhaWxzIiwiX3BhcmVudFBvc3RSZW5kZXIiLCJwb3N0UmVuZGVyIiwicm9ib2Nyb3BPcGVuIiwiY29uc29sZSIsImxvZyIsImF0dGFjaG1lbnQiLCJvcGVuIiwiQXR0YWNobWVudCIsIkRldGFpbHMiLCJfcGFyZW50UmVuZGVyIiwiaW5zZXJ0QWZ0ZXIiLCJpbWFnZUluZm9zIiwiYXNrX2Zvcl9mb2N1c3BvaW50IiwiVXBsb2FkZXJXaW5kb3ciLCJfcGFyZW50UmVhZHkiLCJkaWRSZWFkeSIsImFza0ZvY3VzIiwiZmlsZUl0ZW0iLCJhc2tNb2RhbCIsImRpc3Bvc2UiLCJhc2tGb2N1c0ltYWdlcyIsImxlbmd0aCIsInNoaWZ0IiwiZGVzdHJveSIsImJsb2IiLCJzdGFydCIsImFkZEFza0ZvY3VzIiwiZmlsZURhdGEiLCJyZXNvbHZlRmlsZSIsIl9yZXQiLCJnZXROYXRpdmUiLCJnZXRTb3VyY2UiLCJiaW5kIiwidXAiLCJmaWxlcyIsImkiLCJ0eXBlIiwiQmxvYiIsInN0b3AiLCJzZXR0aW5ncyIsIm11bHRpcGFydF9wYXJhbXMiLCJKU09OIiwic3RyaW5naWZ5Il0sIm1hcHBpbmdzIjoiQ0FJQSxTQUFXQSxHQUNWLEdBQUlDLEVBRUpBLEdBQVdDLEVBQUVDLE9BQVFDLE9BQU9ILFVBQzNCSSxtQkFBb0IsU0FBVUMsRUFBV0MsR0FFeEMsR0FBSUMsSUFBWUYsRUFBVUcsV0FBV0MsRUFBSSxHQUFLLEVBQUlKLEVBQVVLLE1BQzNEQyxHQUFxQyxFQUF6Qk4sRUFBVUcsV0FBV0ksR0FBUyxFQUFJUCxFQUFVUSxPQUN4REMsRUFBUUMsS0FBS0MsSUFBS1gsRUFBVUssTUFBUUosRUFBU1csVUFBV1osRUFBVVEsT0FBU1AsRUFBU1ksWUFDcEZDLEVBQVNiLEVBQVNXLFVBQVlILEVBQzlCTSxFQUFTZCxFQUFTWSxXQUFhSixFQUMvQk8sRUFBU04sS0FBS0MsSUFBS0QsS0FBS08sSUFBS2YsRUFBT1ksRUFBUyxFQUFHLEdBQU1kLEVBQVVLLE1BQVFTLEdBQ3hFSSxFQUFTUixLQUFLQyxJQUFLRCxLQUFLTyxJQUFLWCxFQUFPUyxFQUFTLEVBQUcsR0FBTWYsRUFBVVEsT0FBU08sRUFDMUUsUUFDQ0ksTUFBT2xCLEVBQVNtQixNQUNoQmhCLEVBQUdZLEVBQVNoQixFQUFVSyxNQUN0QkUsRUFBR1csRUFBU2xCLEVBQVVRLE9BQ3RCSCxNQUFPUyxFQUFTZCxFQUFVSyxNQUMxQkcsT0FBUU8sRUFBU2YsRUFBVVEsU0FJN0JhLGVBQWdCLFNBQVVDLEVB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LEVBQUUsRUFBRUEsRUFBRUQsRUFBTWIsT0FBT2MsSUFDTCxhQUFqQkQsRUFBTUMsR0FBR0MsTUFBd0MsY0FBakJGLEVBQU1DLEdBQUdDLE9BQzdDVCxFQUFXQyxFQUFhTSxFQUFNQyxJQUN6QlIsRUFBU0gsZUFBZ0JhLE9BQzdCWCxFQUFhQyxFQUFVTSxHQUlyQmIsR0FBZUMsU0FDbkJZLEVBQUdLLE9BQ0hMLEVBQUd4SixVQUNIdUksRUFBVWlCLEdBQ1Y5QixRQUFRQyxJQUFJLGVBSWR4TyxLQUFLc00sU0FBU0EsU0FBUzhELEtBQUssZUFBZSxTQUFVQyxFQUFJbkQsR0FDeEQsR0FBSS9PLEdBQUdELENBRVAsSUFBSzZRLEVBQVc3QixFQUFLbEgsTUFBUSxDQUc1QnBKLFVBQVltUyxFQUFXN0IsRUFBS2xILE1BQzVCOUgsSUFDQSxLQUFLQyxJQUFLa0IsR0FDVG5CLEVBQVVtQixFQUFhbEIsR0FBRzZILE1BQVN6SixFQUFTSSxtQkFBb0JDLFVBQVd5QyxFQUFhbEIsR0FHekZrUyxHQUFHTSxTQUFTQyxpQkFBaUI3VCxXQUFhOFQsS0FBS0MsVUFBV2xVLFVBQVVHLFlBQ3BFc1QsRUFBR00sU0FBU0MsaUJBQWlCMVMsU0FBVzJTLEtBQUtDLFVBQVc1UyxTQUVqRDZRLEdBQVc3QixFQUFLbEgsU0FHbEI1SCxTQUlOOEwiLCJmaWxlIjoid3Atcm9ib2Nyb3AubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAcHJlc2VydmUgKGMpIDIwMTYgYnkgSm9lcm4gTHVuZFxuICogQGxpY2Vuc2UgR1BMM1xuICovXG4oZnVuY3Rpb24oIGV4cG9ydHMgKXtcblx0dmFyIHJvYm9jcm9wO1xuXG5cdHJvYm9jcm9wID0gXy5leHRlbmQoIHdpbmRvdy5yb2JvY3JvcCwge1xuXHRcdGNyb3BGcm9tRm9jdXNQb2ludDogZnVuY3Rpb24oIGltYWdlaW5mbywgY3JvcGluZm8gKSB7XG5cdFx0XHQvLyBub3JtYWxpemUgXG5cdFx0XHR2YXIgZnBfeCA9ICAgKCAgaW1hZ2VpbmZvLmZvY3VzcG9pbnQueCArIDEpIC8gMiAqIGltYWdlaW5mby53aWR0aCxcblx0XHRcdFx0ZnBfeSA9ICAgKCAtaW1hZ2VpbmZvLmZvY3VzcG9pbnQueSArIDEpIC8gMiAqIGltYWdlaW5mby5oZWlnaHQsXG5cdFx0XHRcdHNjYWxlID0gTWF0aC5taW4oIGltYWdlaW5mby53aWR0aCAvIGNyb3BpbmZvLm1pbl93aWR0aCwgaW1hZ2VpbmZvLmhlaWdodCAvIGNyb3BpbmZvLm1pbl9oZWlnaHQgKSxcblx0XHRcdFx0Y3JvcF93ID0gY3JvcGluZm8ubWluX3dpZHRoICogc2NhbGUsXG5cdFx0XHRcdGNyb3BfaCA9IGNyb3BpbmZvLm1pbl9oZWlnaHQgKiBzY2FsZSxcblx0XHRcdFx0Y3JvcF94ID0gTWF0aC5taW4oIE1hdGgubWF4KCBmcF94IC0gY3JvcF93IC8gMiwgMCApICwgaW1hZ2VpbmZvLndpZHRoIC0gY3JvcF93KSxcblx0XHRcdFx0Y3JvcF95ID0gTWF0aC5taW4oIE1hdGgubWF4KCBmcF95IC0gY3JvcF9oIC8gMiwgMCApICwgaW1hZ2VpbmZvLmhlaWdodCAtIGNyb3BfaCk7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRuYW1lczogY3JvcGluZm8uc2l6ZXMsXG5cdFx0XHRcdHg6IGNyb3BfeCAvIGltYWdlaW5mby53aWR0aCxcblx0XHRcdFx0eTogY3JvcF95IC8gaW1hZ2VpbmZvLmhlaWdodCxcblx0XHRcdFx0d2lkdGg6IGNyb3BfdyAvIGltYWdlaW5mby53aWR0aCxcblx0XHRcdFx0aGVpZ2h0OiBjcm9wX2ggLyBpbWFnZWluZm8uaGVpZ2h0XG5cdFx0XHR9O1xuXHRcdH0sXG5cblx0XHRyZWxUb0Fic0Nvb3JkczogZnVuY3Rpb24oIGNyb3BkYXRhLCBpbWFnZWluZm8gKSB7XG5cdFx0XHR2YXIgcywgcmV0ID0ge307XG5cdFx0XHRmb3IgKCBzIGluIGNyb3BkYXRhICkge1xuXHRcdFx0XHRzd2l0Y2ggKCBzICkge1xuXHRcdFx0XHRcdGNhc2UgJ3gnOlxuXHRcdFx0XHRcdGNhc2UgJ3gxJzpcblx0XHRcdFx0XHRjYXNlICd4Mic6XG5cdFx0XHRcdFx0Y2FzZSAnd2lkdGgnOlxuXHRcdFx0XHRcdFx0cmV0W3NdID0gY3JvcGRhdGFbc10gKiBpbWFnZWluZm8ud2lkdGhcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3knOlxuXHRcdFx0XHRcdGNhc2UgJ3kxJzpcblx0XHRcdFx0XHRjYXNlICd5Mic6XG5cdFx0XHRcdFx0Y2FzZSAnaGVpZ2h0Jzpcblx0XHRcdFx0XHRcdHJldFtzXSA9IGNyb3BkYXRhW3NdICogaW1hZ2VpbmZvLmhlaWdodFxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdHJldFtzXSA9IGNyb3BkYXRhW3NdO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fSxcblx0XHRhYnNUb1JlbENvb3JkczogZnVuY3Rpb24oIGNyb3BkYXRhLCBpbWFnZWluZm8gKSB7XG5cdFx0XHR2YXIgcywgcmV0ID0ge307XG5cdFx0XHRmb3IgKCBzIGluIGNyb3BkYXRhICkge1xuXHRcdFx0XHRzd2l0Y2ggKCBzICkge1xuXHRcdFx0XHRcdGNhc2UgJ3gnOlxuXHRcdFx0XHRcdGNhc2UgJ3gxJzpcblx0XHRcdFx0XHRjYXNlICd4Mic6XG5cdFx0XHRcdFx0Y2FzZSAnd2lkdGgnOlxuXHRcdFx0XHRcdFx0cmV0W3NdID0gY3JvcGRhdGFbc10gLyBpbWFnZWluZm8ud2lkdGhcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3knOlxuXHRcdFx0XHRcdGNhc2UgJ3kxJzpcblx0XHRcdFx0XHRjYXNlICd5Mic6XG5cdFx0XHRcdFx0Y2FzZSAnaGVpZ2h0Jzpcblx0XHRcdFx0XHRcdHJldFtzXSA9IGNyb3BkYXRhW3NdIC8gaW1hZ2VpbmZvLmhlaWdodFxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdHJldFtzXSA9IGNyb3BkYXRhW3NdO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fSxcblxuXHRcdHBvaW50VG9SZWN0Q29vcmRzOmZ1bmN0aW9uKCBwb2ludHMgKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHR4OiBwb2ludHMueDEsXG5cdFx0XHRcdHk6IHBvaW50cy55MSxcblx0XHRcdFx0d2lkdGg6ICBwb2ludHMueDIgLSBwb2ludHMueDEsXG5cdFx0XHRcdGhlaWdodDogcG9pbnRzLnkyIC0gcG9pbnRzLnkxXG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdHJlY3RUb1BvaW50Q29vcmRzOmZ1bmN0aW9uKCByZWN0ICkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0eDE6IHJlY3QueCxcblx0XHRcdFx0eTE6IHJlY3QueSxcblx0XHRcdFx0eDI6IChyZWN0Lm1heFggPyByZWN0Lm1heFggOiByZWN0LngrcmVjdC53aWR0aCksXG5cdFx0XHRcdHkyOiAocmVjdC5tYXhZID8gcmVjdC5tYXhZIDogcmVjdC55K3JlY3QuaGVpZ2h0KSxcblx0XHRcdH07XG5cdFx0fSxcblxuXHRcdHZpZXcgOiB7fSxcblx0XHRjb250cm9sbGVyIDoge31cblx0fSk7XG5cblx0ZXhwb3J0cy5tZWRpYS5yb2JvY3JvcCA9IHJvYm9jcm9wO1xuXG59KSggd3AgKTsiLCIoZnVuY3Rpb24od3AsJCkge1xuXG5cdHZhciByb2JvY3JvcCBcdFx0PSB3cC5tZWRpYS5yb2JvY3JvcCxcblx0XHRpbWFnZV9yYXRpb3NcdD0gcm9ib2Nyb3AuaW1hZ2VfcmF0aW9zLFxuXHRcdGltYWdlX3NpemVzXHRcdD0gcm9ib2Nyb3AuaW1hZ2Vfc2l6ZXMsXG5cdFx0bDEwblx0XHRcdD0gcm9ib2Nyb3AubDEwbixcblx0XHRvcHRpb25zXHRcdFx0PSByb2JvY3JvcC5vcHRpb25zO1xuXG5cblx0LyoqXG5cdCAqXHRBbiBJbWFnZVxuXHQgKi9cblx0cm9ib2Nyb3Audmlldy5JbWcgPSB3cC5tZWRpYS5WaWV3LmV4dGVuZCh7XG5cdFx0Y2xhc3NOYW1lOidhdHRhY2htZW50LWltYWdlJyxcblx0XHR0YWdOYW1lOidpbWcnLFxuXHRcdGlkOidyb2JvY3JvcC1pbWFnZScsXG5cdFx0aW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHRfLmRlZmF1bHRzKCB0aGlzLm9wdGlvbnMsIHtzcmM6Jyd9ICk7XG5cdFx0XHR0aGlzLiRlbC5vbignbG9hZCcsZnVuY3Rpb24oKXtcblx0XHRcdFx0c2VsZi53aWR0aCA9IHNlbGYuJGVsLmdldCgwKS5uYXR1cmFsV2lkdGg7XG5cdFx0XHRcdHNlbGYuaGVpZ2h0ID0gc2VsZi4kZWwuZ2V0KDApLm5hdHVyYWxIZWlnaHQ7XG5cdFx0XHRcdHNlbGYucmF0aW8gPSBzZWxmLndpZHRoIC8gc2VsZi5oZWlnaHQ7XG5cdFx0XHRcdHNlbGYudHJpZ2dlcignbG9hZCcsc2VsZik7XG5cdFx0XHR9KTtcblx0XHRcdHRoaXMuJGVsLmF0dHIoJ3NyYycsIHRoaXMub3B0aW9ucy5zcmMgKTtcblx0XHR9LFxuXHRcdGdldFNyYzogZnVuY3Rpb24oc3JjKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy4kZWwuYXR0ciggJ3NyYycgKTtcblx0XHR9LFxuXHRcdHNldFNyYzogZnVuY3Rpb24oc3JjKSB7XG5cdFx0XHQhIXNyYyAmJiB0aGlzLiRlbC5hdHRyKCAnc3JjJywgc3JjICk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH0pO1xuXG5cblx0LyoqXG5cdCAqXHRSYXRpbyBzZWxlY3QgbGlzdFxuXHQgKi9cblx0cm9ib2Nyb3Audmlldy5Sb2JvY3JvcFJhdGlvU2VsZWN0ID0gd3AubWVkaWEuVmlldy5leHRlbmQoe1xuXHRcdGNsYXNzTmFtZTogJ3JvYm9jcm9wLXNlbGVjdCcsXG5cdFx0dGVtcGxhdGU6IHdwLnRlbXBsYXRlKCdyb2JvY3JvcC1zZWxlY3QnKSxcblx0XHRldmVudHM6IHtcblx0XHRcdCdjbGljayBbbmFtZT1cInJvYm9jcm9wLXNlbGVjdC1yYXRpb1wiXSc6ICdzZWxlY3RSYXRpbycsXG5cdFx0fSxcblx0XHRpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcblx0XHRcdHdwLkJhY2tib25lLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0Xy5kZWZhdWx0cyh7XG5cdFx0XHRcdHJhdGlvczp7fSxcblx0XHRcdFx0dG9vbHM6e31cblx0XHRcdH0sdGhpcy5vcHRpb25zKTtcblx0XHRcdHRoaXMub3B0aW9ucy5sMTBuID0gbDEwbjtcblx0XHRcdFxuXHRcdH0sXG5cdFx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRcdHdwLkJhY2tib25lLlZpZXcucHJvdG90eXBlLnJlbmRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHRcblx0XHRcdF8uZWFjaCggdGhpcy5vcHRpb25zLnRvb2xzLCBmdW5jdGlvbiggdG9vbCwga2V5ICkge1xuXHRcdFx0XHRzZWxmLnZpZXdzLmFkZChuZXcgcm9ib2Nyb3Audmlldy5Sb2JvY3JvcFJhdGlvU2VsZWN0SXRlbSh7XG5cdFx0XHRcdFx0cmF0aW9rZXk6XHRrZXksXG5cdFx0XHRcdFx0c2l6ZW5hbWVzOlx0ZmFsc2UsXG5cdFx0XHRcdFx0cmF0aW86IFx0XHRrZXksXG5cdFx0XHRcdFx0dGl0bGU6XHRcdHRvb2wudGl0bGUsXG5cdFx0XHRcdFx0ZW5hYmxlZDogXHR0cnVlXG5cdFx0XHRcdH0pKVxuXHRcdFx0XHRcblx0XHRcdH0pO1xuXHRcdFx0Xy5lYWNoKCB0aGlzLm9wdGlvbnMucmF0aW9zLCBmdW5jdGlvbiggcmF0aW8sIGtleSApIHtcblx0XHRcdFx0dmFyIG5hbWVzID0gW10sXG5cdFx0XHRcdFx0dHBsX3N0ciA9ICc8c3BhbiBjbGFzcz1cInNpemVuYW1lPCU9IGNhbmNyb3AgPyBcIlwiIDogXCIgZGlzYWJsZWRcIiAlPlwiPjwlPSBuYW1lICU+ICg8JT0gd2lkdGggJT7DlzwlPSBoZWlnaHQgJT4pPC9zcGFuPicsXG5cdFx0XHRcdFx0bmFtZV90cGwgPSBfLnRlbXBsYXRlKHRwbF9zdHIpO1xuXHRcdFx0XHRfLmVhY2goIHJhdGlvLnNpemVzLCBmdW5jdGlvbihzaXplbmFtZSxrZXkpIHtcblx0XHRcdFx0XHR2YXIgc2l6ZSA9ICQuZXh0ZW5kKCB0cnVlLCB7XG5cdFx0XHRcdFx0XHRjYW5jcm9wIDpcdChzZWxmLm1vZGVsLmdldCgnd2lkdGgnKSA+PSBpbWFnZV9zaXplc1tzaXplbmFtZV0ud2lkdGgpICYmXG5cdFx0XHRcdFx0XHRcdFx0XHQoc2VsZi5tb2RlbC5nZXQoJ2hlaWdodCcpID49IGltYWdlX3NpemVzW3NpemVuYW1lXS5oZWlnaHQpXG5cdFx0XHRcdFx0fSwgaW1hZ2Vfc2l6ZXNbc2l6ZW5hbWVdKTtcblx0XHRcdFx0XHRpZiAoIHNpemUuY3JvcCApIHtcblx0XHRcdFx0XHRcdG5hbWVzLnB1c2goIG5hbWVfdHBsKCBzaXplICkgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRzZWxmLnZpZXdzLmFkZChuZXcgcm9ib2Nyb3Audmlldy5Sb2JvY3JvcFJhdGlvU2VsZWN0SXRlbSh7XG5cdFx0XHRcdFx0cmF0aW9rZXk6XHRrZXksXG5cdFx0XHRcdFx0c2l6ZW5hbWVzOlx0bmFtZXMuam9pbignJyksXG5cdFx0XHRcdFx0cmF0aW86IFx0XHRrZXksXG5cdFx0XHRcdFx0dGl0bGU6XHRcdGtleSArICcgOiAxJyxcblx0XHRcdFx0XHRlbmFibGVkOiBcdChzZWxmLm1vZGVsLmdldCgnd2lkdGgnKSAgPj0gcmF0aW8ubWluX3dpZHRoKSAmJlxuXHRcdFx0XHRcdFx0XHRcdChzZWxmLm1vZGVsLmdldCgnaGVpZ2h0JykgPj0gcmF0aW8ubWluX2hlaWdodClcblx0XHRcdFx0fSkpXG5cdFx0XHR9ICk7XG5cdFx0XHRcblx0XHRcdFxuXHRcdH0sXG5cdFx0c2V0U2VsZWN0ZWQ6IGZ1bmN0aW9uKCByYXRpb2tleSApIHtcblx0XHRcdHRoaXMuJGVsLmZpbmQoJ1tuYW1lPVwicm9ib2Nyb3Atc2VsZWN0LXJhdGlvXCJdW3ZhbHVlPVwiJytyYXRpb2tleSsnXCJdJykucHJvcCgnY2hlY2tlZCcsdHJ1ZSk7XG5cdFx0XHR0aGlzLnNlbGVjdFJhdGlvKCk7XG5cdFx0fSxcblx0XHRnZXRTZWxlY3RlZDogZnVuY3Rpb24oICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuJGVsLmZpbmQoJ1tuYW1lPVwicm9ib2Nyb3Atc2VsZWN0LXJhdGlvXCJdOmNoZWNrZWQnKS52YWwoKTtcblx0XHR9LFxuXHRcdHNlbGVjdFJhdGlvOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5yYXRpb3NbIHRoaXMuZ2V0U2VsZWN0ZWQoKSBdICkge1xuXHRcdFx0XHR0aGlzLnRyaWdnZXIoJ3NlbGVjdC1yYXRpbycpO1xuXHRcdFx0fSBlbHNlIGlmICggdGhpcy5vcHRpb25zLnRvb2xzWyB0aGlzLmdldFNlbGVjdGVkKCkgXSApIHtcblx0XHRcdFx0dGhpcy50cmlnZ2VyKCdzZWxlY3QtdG9vbCcpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy50cmlnZ2VyKCdzZWxlY3QnKTtcblx0XHR9XG5cdH0pO1xuXG5cdC8qKlxuXHQgKlx0UmF0aW8gc2VsZWN0IGxpc3QgSXRlbVxuXHQgKi9cblx0cm9ib2Nyb3Audmlldy5Sb2JvY3JvcFJhdGlvU2VsZWN0SXRlbSA9IHdwLm1lZGlhLlZpZXcuZXh0ZW5kKHtcblx0XHRjbGFzc05hbWU6ICdyb2JvY3JvcC1zZWxlY3QtaXRlbScsXG5cdFx0dGVtcGxhdGU6IHdwLnRlbXBsYXRlKCdyb2JvY3JvcC1zZWxlY3QtaXRlbScpLFxuXHRcdHNpemVrZXk6JycsXG5cdFx0c2l6ZW5hbWVzOicnLFxuXHRcdHJhdGlvOjAsXG5cdFx0ZW5hYmxlZDpudWxsLFxuXHRcdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHR3cC5CYWNrYm9uZS5WaWV3LnByb3RvdHlwZS5yZW5kZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0dGhpcy4kZWwuZmluZCgnaW5wdXRbdHlwZT1cInJhZGlvXCJdJykucHJvcCgnZGlzYWJsZWQnLCAhIHRoaXMub3B0aW9ucy5lbmFibGVkIClcblx0XHR9XG5cdH0pO1xuXG5cdHJvYm9jcm9wLnZpZXcuUm9ib2Nyb3BJbWFnZSA9IHdwLm1lZGlhLlZpZXcuZXh0ZW5kKHtcblx0XHRjbGFzc05hbWU6XHRcdCdpbWFnZS1yb2JvY3JvcCcsXG5cdFx0dGVtcGxhdGU6XHRcdHdwLnRlbXBsYXRlKCdyb2JvY3JvcCcpLFxuXHRcdGltYWdlX3JhdGlvczpcdGltYWdlX3JhdGlvcyxcblx0XHRpbWFnZV9zaXplczpcdGltYWdlX3NpemVzLFxuXHRcdF9jcm9wcGVyczpcdFx0bnVsbCxcblx0XHRldmVudHM6IHtcblx0XHRcdCdjbGljayAucm9ib2Nyb3AtYXV0b2Nyb3AtY3VycmVudCdcdDogJ2F1dG9jcm9wJyxcblx0XHRcdCdjbGljayAucm9ib2Nyb3AtYXV0b2Nyb3AtYWxsJ1x0XHQ6ICdhdXRvY3JvcEFsbCcsXG5cdFx0fSxcblx0XHRpbml0aWFsaXplOiBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0XHQvL1x0d3AubWVkaWEudmlldy5FZGl0SW1hZ2UucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0dGhpcy5fY3JvcHBlcnMgXHRcdD0ge307XG5cdFx0XHR0aGlzLmltYWdlIFx0XHRcdD0gbmV3IHJvYm9jcm9wLnZpZXcuSW1nKCB7c3JjOiB0aGlzLm1vZGVsLmdldCgndXJsJykgfSApO1xuXG5cdFx0XHR0aGlzLmNvbnRyb2xsZXIgXHQ9IG9wdGlvbnMuY29udHJvbGxlcjtcblx0XHRcdHRoaXMuZm9jdXNwb2ludHRvb2xcdD0gbmV3IHJvYm9jcm9wLnZpZXcuZm9jdXNwb2ludC5JbWFnZUZvY3VzUG9pbnRTZWxlY3QoeyBpbWFnZTogdGhpcy5pbWFnZSwgZm9jdXNwb2ludDoge3g6MCx5OjB9LCBzcmM6IHRoaXMubW9kZWwuZ2V0KCd1cmwnKSB9KTtcblx0XHRcdHRoaXMubGlzdGVuVG8oIHRoaXMuZm9jdXNwb2ludHRvb2wsICdjaGFuZ2VkJywgdGhpcy51cGRhdGVGb2N1c1BvaW50ICk7XG5cdFx0XHRcblx0XHRcdHdwLm1lZGlhLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH0sXG5cdFx0ZGlzbWlzczpmdW5jdGlvbigpIHtcblx0XHRcdHZhciBhcmVhU2VsZWN0ID0gdGhpcy4kYXJlYVNlbGVjdCgpXG5cdFx0XHRhcmVhU2VsZWN0ICYmIGFyZWFTZWxlY3QucmVtb3ZlKCk7XG5cdFx0XHR0aGlzLiRlbC5yZW1vdmUoKTtcblx0XHR9LFxuXHRcdGNyZWF0ZVNlbGVjdDogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnNlbGVjdCA9IG5ldyByb2JvY3JvcC52aWV3LlJvYm9jcm9wUmF0aW9TZWxlY3Qoe1xuXHRcdFx0XHRjaG9pY2VzOiBjaG9pY2VzXG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcdGhhc0NoYW5nZWQ6IGZ1bmN0aW9uKCl7XG5cdFx0XHR0aGlzLnRyaWdnZXIoICdjaGFuZ2VkJyApO1xuXHRcdH0sXG5cdFx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0d3AubWVkaWEuVmlldy5wcm90b3R5cGUucmVuZGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblxuXHRcdFx0dGhpcy52aWV3cy5zZXQoJy5yb2JvY3JvcC1jb250ZW50JywgdGhpcy5mb2N1c3BvaW50dG9vbCApO1xuXG5cdFx0XHR0aGlzLmZvY3VzcG9pbnR0b29sLnNldEZvY3VzcG9pbnQoIHRoaXMubW9kZWwuZ2V0KCAnZm9jdXNwb2ludCcgKSApO1xuXG5cdFx0XHR0aGlzLmltYWdlLiRlbC5pbWdBcmVhU2VsZWN0KHtcblx0XHRcdFx0cGFyZW50OiBcdFx0dGhpcy5pbWFnZS4kZWwuY2xvc2VzdCgnLnJvYm9jcm9wLWltYWdlLWJveCcpLFxuXHRcdFx0XHRpbnN0YW5jZTpcdCBcdHRydWUsXG5cdFx0XHRcdGhhbmRsZXM6IFx0XHR0cnVlLFxuXHRcdFx0XHRrZXlzOiBcdFx0XHR0cnVlLFxuXHRcdFx0XHRwZXJzaXN0ZW50Olx0XHR0cnVlLFxuXHRcdFx0XHRlbmFibGVkOlx0XHR0cnVlLFxuXHRcdFx0XHRtb3ZhYmxlOlx0XHR0cnVlLFxuXHRcdFx0XHRyZXNpemFibGU6XHRcdHRydWUsXG5cdFx0XHRcdGltYWdlSGVpZ2h0Olx0dGhpcy5tb2RlbC5nZXQoJ2hlaWdodCcpLFxuXHRcdFx0XHRpbWFnZVdpZHRoOlx0XHR0aGlzLm1vZGVsLmdldCgnd2lkdGgnKSxcblx0XHRcdFx0b25TZWxlY3RFbmQ6IGZ1bmN0aW9uKCBpbWFnZSwgY29vcmRzICkge1xuXHRcdFx0XHRcdHZhciBjcm9wZGF0YSA9IHJvYm9jcm9wLnBvaW50VG9SZWN0Q29vcmRzKCBjb29yZHMgKVxuXHRcdFx0XHRcdHNlbGYuX3NldENyb3BTaXplcyhjcm9wZGF0YSk7XG5cdFx0XHRcdFx0c2VsZi5oYXNDaGFuZ2VkKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBzZXQgcmF0aW8gc2VlbGN0XG5cdFx0XHR0aGlzLnNlbGVjdFJhdGlvID0gbmV3IHJvYm9jcm9wLnZpZXcuUm9ib2Nyb3BSYXRpb1NlbGVjdCh7XG5cdFx0XHRcdHRvb2xzOiB7XG5cdFx0XHRcdFx0Zm9jdXNwb2ludCA6IHtcblx0XHRcdFx0XHRcdHRpdGxlOiBsMTBuLlNldEZvY3VzUG9pbnQsXG5cdFx0XHRcdFx0XHR0cmlnZ2VyOiAnZm9jdXNwb2ludCdcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHJhdGlvczp0aGlzLmltYWdlX3JhdGlvcyxcblx0XHRcdFx0bW9kZWw6dGhpcy5tb2RlbFxuXHRcdFx0fSk7XG5cdFx0XHR0aGlzLnNlbGVjdFJhdGlvXG5cdFx0XHRcdC5vbignc2VsZWN0LXJhdGlvJywgdGhpcy5vbnNlbGVjdHJhdGlvLCB0aGlzIClcblx0XHRcdFx0Lm9uKCdzZWxlY3QtdG9vbCcsIHRoaXMub25zZWxlY3R0b29sLCB0aGlzIClcblx0XHRcdFx0Lm9uKCdzZWxlY3QnLCB0aGlzLnVwZGF0ZUJ1dHRvbnMsIHRoaXMgKTtcblxuXHRcdFx0dGhpcy52aWV3cy5zZXQoJy5zZWxlY3QtcmF0aW8nLCB0aGlzLnNlbGVjdFJhdGlvICk7XHRcblx0XHRcdC8vIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCl7IH0sMjApO1xuXHRcdFx0XG5cdFx0XHQvLyBidXR0b25zXG5cdFx0XHR0aGlzLiRhdXRvQnV0dG9uXHQ9IHRoaXMuJGVsLmZpbmQoJy5yb2JvY3JvcC1hdXRvY3JvcC1jdXJyZW50Jyk7XG5cdFx0XHR0aGlzLiRhdXRvQWxsQnV0dG9uXHQ9IHRoaXMuJGVsLmZpbmQoJy5yb2JvY3JvcC1hdXRvY3JvcC1hbGwnKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0cmVhZHk6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGN1cnJlbnRSYXRpbywgZm91bmQ7XG5cdFx0XHR3cC5tZWRpYS52aWV3LkVkaXRJbWFnZS5wcm90b3R5cGUucmVhZHkuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXG5cdFx0XHRpZiAoICEgXy5pc1VuZGVmaW5lZCggdGhpcy5vcHRpb25zLnNpemVUb1NlbGVjdCApICkge1xuXHRcdFx0XHRmb3VuZCA9IF8uZmluZCggdGhpcy5pbWFnZV9yYXRpb3MsIGZ1bmN0aW9uKCByYXRpbyApe1xuXHRcdFx0XHRcdHJldHVybiByYXRpby5zaXplcy5pbmRleE9mKCB0aGlzLm9wdGlvbnMuc2l6ZVRvU2VsZWN0ICkgPiAtMTtcblx0XHRcdFx0fSwgdGhpcyApO1xuXHRcdFx0XHRpZiAoIGZvdW5kICkge1xuXHRcdFx0XHRcdGN1cnJlbnRSYXRpbyA9IGZvdW5kLm5hbWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBfLmlzVW5kZWZpbmVkKCBjdXJyZW50UmF0aW8gKSApIHtcblx0XHRcdFx0Y3VycmVudFJhdGlvID0gJ2ZvY3VzcG9pbnQnOy8vXy5maXJzdChfLmtleXMoIHRoaXMuaW1hZ2VfcmF0aW9zICkpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5zZWxlY3RSYXRpby5zZXRTZWxlY3RlZCggY3VycmVudFJhdGlvICk7IFxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRzYXZlOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBkYXRhID0ge1xuXHRcdFx0XHRcdGF0dGFjaG1lbnRzOnt9XG5cdFx0XHRcdH0sIGlkID0gdGhpcy5tb2RlbC5nZXQoJ2lkJyksXG5cdFx0XHRcdCRidG5zID0gdGhpcy4kYXV0b0FsbEJ1dHRvbi5hZGQoIHRoaXMuJGF1dG9CdXR0b24gKS5wcm9wKCAnZGlzYWJsZWQnLCB0cnVlICksXG5cdFx0XHRcdHNlbGYgPSB0aGlzO1xuXHRcdFx0ZGF0YS5hdHRhY2htZW50c1tpZF0gPSB7IFxuXHRcdFx0XHRzaXplczpcdFx0dGhpcy5tb2RlbC5nZXQoJ3NpemVzJyksIFxuXHRcdFx0XHRmb2N1c3BvaW50OiB0aGlzLm1vZGVsLmdldCgnZm9jdXNwb2ludCcpXG5cdFx0XHR9O1xuXHRcdFx0dGhpcy5tb2RlbC5zYXZlQ29tcGF0KCBkYXRhLCB7fSApLmRvbmUoIGZ1bmN0aW9uKCByZXNwICkge1xuXHRcdFx0XHR2YXIgZCA9IG5ldyBEYXRlKCk7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBmb3JjZSByZWxvYWQgaW1hZ2UgLi4uXG5cdFx0XHRcdF8uZWFjaCggc2VsZi5tb2RlbC5hdHRyaWJ1dGVzLnNpemVzLCBmdW5jdGlvbiggc2l6ZSwgc2l6ZW5hbWUgKSB7XG5cdFx0XHRcdFx0dmFyIHNlbGVjdG9yID0gICdpbWdbc3JjXj1cIicrc2l6ZS51cmwrJ1wiXScsXG5cdFx0XHRcdFx0XHRyZWZyZXNoID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0JCh0aGlzKS5yZW1vdmVBdHRyKCdzcmMnKS5hdHRyKCAnc3JjJywgc2l6ZS51cmwrJz8nK2QuZ2V0VGltZSgpICk7XG5cdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRyZWZyZXNoX21jZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdCQodGhpcykucmVtb3ZlQXR0cignZGF0YS1tY2Utc3JjJykuYXR0ciggJ2RhdGEtbWNlLXNyYycsIHNpemUudXJsKyc/JytkLmdldFRpbWUoKSApO1xuXHRcdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0Ly8gLi4uIHVubGVzcyBpdCdzIGZ1bGxzaXplIC4uLlxuXHRcdFx0XHRcdGlmICggc2l6ZW5hbWUgIT09ICdmdWxsJyApIHtcblxuXHRcdFx0XHRcdFx0JChkb2N1bWVudCkuYWRkKCAkKCdpZnJhbWUnKS5jb250ZW50cygpIClcblx0XHRcdFx0XHRcdFx0LmZpbmQoIHNlbGVjdG9yIClcblx0XHRcdFx0XHRcdFx0LmVhY2goIHJlZnJlc2ggKTtcblxuXHRcdFx0XHRcdFx0Ly8gLi4uIGluc2lkZSB0aW55bWNlIGlmcmFtZXNcblx0XHRcdFx0XHRcdCQoJy5tY2UtZWRpdC1hcmVhIGlmcmFtZScpLmVhY2goZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRcdFx0JCh0aGlzKS5jb250ZW50cygpXG5cdFx0XHRcdFx0XHRcdFx0LmZpbmQoIHNlbGVjdG9yIClcblx0XHRcdFx0XHRcdFx0XHQuZWFjaCggcmVmcmVzaCApXG5cdFx0XHRcdFx0XHRcdFx0LmVhY2goIHJlZnJlc2hfbWNlICk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sIHNlbGYgKTtcblx0XHRcdFx0JGJ0bnMucHJvcCggJ2Rpc2FibGVkJywgZmFsc2UgKTtcblx0XHRcdFx0c2VsZi50cmlnZ2VyKCAnc2F2ZWQnICk7XG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0dXBkYXRlQnV0dG9uczogZnVuY3Rpb24oKXtcblx0XHRcdHZhciB0b29sa2V5ID0gdGhpcy5zZWxlY3RSYXRpby5nZXRTZWxlY3RlZCgpO1xuXHRcdFx0dGhpcy4kYXV0b0J1dHRvbi50b2dnbGVDbGFzcyggJ2hpZGRlbicsIHRvb2xrZXkgPT09ICdmb2N1c3BvaW50JyApO1xuXHRcdFx0dGhpcy4kYXV0b0FsbEJ1dHRvbi50b2dnbGVDbGFzcyggJ2hpZGRlbicsIHRvb2xrZXkgIT09ICdmb2N1c3BvaW50JyApO1xuXHRcdH0sXG5cdFx0b25zZWxlY3R0b29sOiBmdW5jdGlvbigpe1xuXHRcdFx0dmFyIHRvb2xrZXkgPSB0aGlzLnNlbGVjdFJhdGlvLmdldFNlbGVjdGVkKCk7XG5cdFx0XHR0aGlzLiRhcmVhU2VsZWN0KCkuY2FuY2VsU2VsZWN0aW9uKCk7XG5cblx0XHRcdHN3aXRjaCAoIHRvb2xrZXkgKSB7XG5cdFx0XHRcdGNhc2UgJ2ZvY3VzcG9pbnQnOlxuXHRcdFx0XHRcdC8vIHdyYXAgYXJvdW5kXG5cdFx0XHRcdFx0dGhpcy5mb2N1c3BvaW50dG9vbC5zZXRFbmFibGVkKCB0cnVlICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRvbnNlbGVjdHJhdGlvOiBmdW5jdGlvbiggKSB7XG5cdFx0XHR0aGlzLmZvY3VzcG9pbnR0b29sLnNldEVuYWJsZWQoIGZhbHNlICk7XG5cblx0XHRcdC8qKlxuXHRcdFx0ICpcdE9uIHN3aXRjaCByYXRpb1xuXHRcdFx0ICovXG5cdFx0XHR2YXIgcmF0aW9rZXkgPSB0aGlzLnNlbGVjdFJhdGlvLmdldFNlbGVjdGVkKCksXG5cdFx0XHRcdHNpemVzID0gdGhpcy5tb2RlbC5nZXQoJ3NpemVzJyksXG5cdFx0XHRcdGZhY3RvciwgcmVjdCwgY3JvcGRhdGEsIHNlbGYgPSB0aGlzLCBcblx0XHRcdFx0cywgYXJlYVNlbGVjdE9wdGlvbnMsXG5cdFx0XHRcdGltZ1dpZHRoICA9IHRoaXMubW9kZWwuZ2V0KCd3aWR0aCcpLCBcblx0XHRcdFx0aW1nSGVpZ2h0ID0gdGhpcy5tb2RlbC5nZXQoJ2hlaWdodCcpO1xuXG5cdFx0XHR0aGlzLmN1cnJlbnRfcmF0aW8gPSB0aGlzLmltYWdlX3JhdGlvc1tyYXRpb2tleV07XG5cblx0XHRcdGFyZWFTZWxlY3RPcHRpb25zID0ge1xuXHRcdFx0XHRhc3BlY3RSYXRpbzpcdHRoaXMuY3VycmVudF9yYXRpby5yYXRpbyArICc6MScsXG5cdFx0XHRcdG1pbldpZHRoOlx0XHR0aGlzLmN1cnJlbnRfcmF0aW8ubWluX3dpZHRoLFxuXHRcdFx0XHRtaW5IZWlnaHQ6XHRcdHRoaXMuY3VycmVudF9yYXRpby5taW5faGVpZ2h0XG5cdFx0XHR9O1xuXG5cdFx0XHRfLmVhY2godGhpcy5jdXJyZW50X3JhdGlvLnNpemVzLCBmdW5jdGlvbihzaXplKXtcblx0XHRcdFx0aWYgKCAhIGNyb3BkYXRhICYmICEhIHNpemVzW3NpemVdICYmICEhIHNpemVzW3NpemVdLmNyb3BkYXRhICkge1xuXHRcdFx0XHRcdGNyb3BkYXRhID0gc2l6ZXNbc2l6ZV0uY3JvcGRhdGE7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBpbWFnZV9zaXplc1tzaXplXS53aWR0aCA8PSBpbWdXaWR0aCAmJiBpbWFnZV9zaXplc1tzaXplXS5oZWlnaHQgPD0gaW1nSGVpZ2h0ICkge1xuXHRcdFx0XHRcdGFyZWFTZWxlY3RPcHRpb25zLm1pbldpZHRoICA9IE1hdGgubWF4KCBhcmVhU2VsZWN0T3B0aW9ucy5taW5XaWR0aCwgIGltYWdlX3NpemVzW3NpemVdLndpZHRoICk7XG5cdFx0XHRcdFx0YXJlYVNlbGVjdE9wdGlvbnMubWluSGVpZ2h0ID0gTWF0aC5tYXgoIGFyZWFTZWxlY3RPcHRpb25zLm1pbkhlaWdodCwgaW1hZ2Vfc2l6ZXNbc2l6ZV0uaGVpZ2h0ICk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRpZiAoICFjcm9wZGF0YSApIHtcblx0XHRcdFx0Ly8gd3AgZGVmYXVsdCBjcm9wZGF0YVxuXHRcdFx0XHR2YXIgc2NhbGUgPSBNYXRoLm1pbiggdGhpcy5tb2RlbC5nZXQoJ3dpZHRoJykgLyB0aGlzLmN1cnJlbnRfcmF0aW8ucmF0aW8sIHRoaXMubW9kZWwuZ2V0KCdoZWlnaHQnKSk7XG5cdFx0XHRcdFxuXHRcdFx0XHRyZWN0ID0ge1xuXHRcdFx0XHRcdHg6MCxcblx0XHRcdFx0XHR5OjAsXG5cdFx0XHRcdFx0d2lkdGg6ICBzY2FsZSAqIHRoaXMuY3VycmVudF9yYXRpby5yYXRpbyxcblx0XHRcdFx0XHRoZWlnaHQ6IHNjYWxlXG5cdFx0XHRcdH07XG5cdFx0XHRcdHJlY3QueCA9ICh0aGlzLm1vZGVsLmdldCgnd2lkdGgnKSAtIHJlY3Qud2lkdGgpLzI7XG5cdFx0XHRcdHJlY3QueSA9ICh0aGlzLm1vZGVsLmdldCgnaGVpZ2h0JykgLSByZWN0LmhlaWdodCkvMjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJlY3QgPSB7fTtcblx0XHRcdFx0XG5cdFx0XHRcdF8uZXh0ZW5kKHJlY3QsY3JvcGRhdGEpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLiRhcmVhU2VsZWN0KCkuc2V0T3B0aW9ucyggYXJlYVNlbGVjdE9wdGlvbnMgKTtcblx0XHRcdGlmICggISB0aGlzLmltYWdlLiRlbC5nZXQoMCkuY29tcGxldGUgKSB7XG5cdFx0XHRcdHRoaXMuaW1hZ2UuJGVsLm9uKCdsb2FkJyxmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRzZWxmLnNlbGVjdENyb3AocmVjdCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5zZWxlY3RDcm9wKHJlY3QpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRhdXRvY3JvcDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0Ly8gY3JvcCBieSBmb2N1cyBwb2ludFxuXHRcdFx0XG5cdFx0XHR2YXIgY3JvcGRhdGEsIGltYWdlaW5mbyA9IHtcblx0XHRcdFx0XHR3aWR0aDpcdFx0dGhpcy5tb2RlbC5nZXQoJ3dpZHRoJyksXG5cdFx0XHRcdFx0aGVpZ2h0Olx0XHR0aGlzLm1vZGVsLmdldCgnaGVpZ2h0JyksXG5cdFx0XHRcdFx0Zm9jdXNwb2ludDpcdHRoaXMubW9kZWwuZ2V0KCdmb2N1c3BvaW50Jylcblx0XHRcdFx0fTtcblx0XHRcdGNyb3BkYXRhID0gcm9ib2Nyb3AuY3JvcEZyb21Gb2N1c1BvaW50KCBpbWFnZWluZm8sIHRoaXMuY3VycmVudF9yYXRpbyApO1xuXHRcdFx0Y3JvcGRhdGEgPSByb2JvY3JvcC5yZWxUb0Fic0Nvb3JkcyggY3JvcGRhdGEsIGltYWdlaW5mbyApO1xuXG5cdFx0XHR0aGlzLl9zZXRDcm9wU2l6ZXMoIGNyb3BkYXRhICk7XG5cdFx0XHR0aGlzLnNlbGVjdENyb3AoIGNyb3BkYXRhICk7XG5cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0YXV0b2Nyb3BBbGw6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdFx0aW1hZ2VpbmZvID0ge1xuXHRcdFx0XHRcdHdpZHRoOlx0XHR0aGlzLm1vZGVsLmdldCgnd2lkdGgnKSxcblx0XHRcdFx0XHRoZWlnaHQ6XHRcdHRoaXMubW9kZWwuZ2V0KCdoZWlnaHQnKSxcblx0XHRcdFx0XHRmb2N1c3BvaW50Olx0dGhpcy5tb2RlbC5nZXQoJ2ZvY3VzcG9pbnQnKVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRfLmVhY2goIHRoaXMuaW1hZ2VfcmF0aW9zLCBmdW5jdGlvbiggcmF0aW8gKSB7XG5cdFx0XHRcdHZhciBjcm9wZGF0YTtcblx0XHRcdFx0Y3JvcGRhdGEgPSByb2JvY3JvcC5jcm9wRnJvbUZvY3VzUG9pbnQoIGltYWdlaW5mbywgcmF0aW8gKTtcblx0XHRcdFx0Y3JvcGRhdGEgPSByb2JvY3JvcC5yZWxUb0Fic0Nvb3JkcyggY3JvcGRhdGEsIGltYWdlaW5mbyApO1xuXHRcdFx0XHRzZWxmLl9zZXRDcm9wU2l6ZXMoIGNyb3BkYXRhLCByYXRpbyApO1xuXHRcdFx0fSApO1xuXG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHNlbGVjdENyb3A6ZnVuY3Rpb24oIHJlY3QgKSB7XG5cdFx0XHQvLyBkcmF3IGNyb3AgVUkgZWxlbWVudC5cblx0XHRcdHZhciBmYWN0b3IgPSB0aGlzLl9pbWFnZV9zY2FsZV9mYWN0b3IoKSxcblx0XHRcdFx0cG9pbnRzID0gcm9ib2Nyb3AucmVjdFRvUG9pbnRDb29yZHMoIHJlY3QgKSxcblx0XHRcdFx0JGFyZWFTZWxlY3QgPSB0aGlzLiRhcmVhU2VsZWN0KCk7XG5cdFx0XHRcblx0XHRcdCRhcmVhU2VsZWN0LnNldFNlbGVjdGlvbiggcG9pbnRzLngxLCBwb2ludHMueTEsIHBvaW50cy54MiwgcG9pbnRzLnkyLCBmYWxzZSApO1xuXHRcdFx0JGFyZWFTZWxlY3Quc2V0T3B0aW9ucygge3Nob3c6dHJ1ZX0gKTtcblx0XHRcdCRhcmVhU2VsZWN0LnVwZGF0ZSgpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHQkYXJlYVNlbGVjdCA6IGZ1bmN0aW9uKCl7XG5cdFx0XHRyZXR1cm4gdGhpcy5pbWFnZS4kZWwuZGF0YSgnaW1nQXJlYVNlbGVjdCcpO1xuXHRcdH0sXG5cdFx0X2ltYWdlX3NjYWxlX2ZhY3RvciA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyICRjb250YWluZXIgPSB0aGlzLmltYWdlLiRlbC5jbG9zZXN0KCcucm9ib2Nyb3AtaW1hZ2UtYm94JyksXG5cdFx0XHRcdHcgPSBNYXRoLm1pbih0aGlzLm1vZGVsLmdldCgnd2lkdGgnKSwkY29udGFpbmVyLndpZHRoKCkpLFxuXHRcdFx0XHRoID0gTWF0aC5taW4odGhpcy5tb2RlbC5nZXQoJ2hlaWdodCcpLCRjb250YWluZXIuaGVpZ2h0KCkpO1xuXHRcdFx0XG5cdFx0XHRyZXR1cm4gTWF0aC5taW4oIHcgLyB0aGlzLm1vZGVsLmdldCgnd2lkdGgnKSwgaCAvIHRoaXMubW9kZWwuZ2V0KCdoZWlnaHQnKSApO1xuXHRcdH0sXG5cdFx0dXBkYXRlRm9jdXNQb2ludDogZnVuY3Rpb24oICkge1xuXHRcdFx0dGhpcy5tb2RlbC5zZXQoICdmb2N1c3BvaW50JywgdGhpcy5mb2N1c3BvaW50dG9vbC5nZXRGb2N1c3BvaW50KCkgKTtcblx0XHR9LFxuXHRcdF9zZXRDcm9wU2l6ZXMgOiBmdW5jdGlvbiggY3JvcGRhdGEsIHJhdGlvICkge1xuXHRcdFx0dmFyIG1vZGVsU2l6ZXMgPSB0aGlzLm1vZGVsLmdldCgnc2l6ZXMnKVxuXHRcdFx0XHRyYXRpbyA9IHJhdGlvIHx8IHRoaXMuY3VycmVudF9yYXRpbztcblx0XHRcdF8uZWFjaChyYXRpby5zaXplcywgZnVuY3Rpb24oIHNpemVuYW1lICkge1xuXHRcdFx0XHQhIG1vZGVsU2l6ZXNbIHNpemVuYW1lIF0gJiYgKCBtb2RlbFNpemVzWyBzaXplbmFtZSBdID0ge30gKTtcblx0XHRcdFx0bW9kZWxTaXplc1sgc2l6ZW5hbWUgXS5jcm9wZGF0YSA9IGNyb3BkYXRhO1xuXHRcdFx0fSk7XG5cdFx0XHR0aGlzLm1vZGVsLnNldCggJ3NpemVzJywgbW9kZWxTaXplcyApO1xuXHRcdH0sXG5cdFx0X2dldFJlbGF0aXZlQ29vcmRzOiBmdW5jdGlvbiggY29vcmRzICkge1xuXHRcdFx0dmFyIHcgPSB0aGlzLm1vZGVsLmdldCgnd2lkdGgnKSxcblx0XHRcdFx0aCA9IHRoaXMubW9kZWwuZ2V0KCdoZWlnaHQnKTtcblx0XHRcdGZvciAoIHZhciBzIGluIGNvb3JkcyApIHtcblx0XHRcdFx0aWYgKCAnbnVtYmVyJz09PXR5cGVvZihjb29yZHNbc10pICkge1xuXHRcdFx0XHRcdHN3aXRjaCAocykge1xuXHRcdFx0XHRcdFx0Y2FzZSAneCc6XG5cdFx0XHRcdFx0XHRjYXNlICd4MSc6XG5cdFx0XHRcdFx0XHRjYXNlICd4Mic6XG5cdFx0XHRcdFx0XHRjYXNlICd3aWR0aCc6XG5cdFx0XHRcdFx0XHRjYXNlICdtaW5YJzpcblx0XHRcdFx0XHRcdGNhc2UgJ21heFgnOlxuXHRcdFx0XHRcdFx0XHRjb29yZHNbc10gLz0gdztcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0XHRjb29yZHNbc10gLz0gaDtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRfZ2V0QWJzb2x1dGVDb29yZHM6IGZ1bmN0aW9uKCBjb29yZHMgKSB7XG5cdFx0XHR2YXIgdyA9IHRoaXMubW9kZWwuZ2V0KCd3aWR0aCcpLFxuXHRcdFx0XHRoID0gdGhpcy5tb2RlbC5nZXQoJ2hlaWdodCcpO1xuXHRcdFx0Zm9yICggdmFyIHMgaW4gY29vcmRzICkge1xuXHRcdFx0XHRpZiAoICdudW1iZXInPT09dHlwZW9mKGNvb3Jkc1tzXSkgKSB7XG5cdFx0XHRcdFx0c3dpdGNoIChzKSB7XG5cdFx0XHRcdFx0XHRjYXNlICd4Jzpcblx0XHRcdFx0XHRcdGNhc2UgJ3gxJzpcblx0XHRcdFx0XHRcdGNhc2UgJ3gyJzpcblx0XHRcdFx0XHRcdGNhc2UgJ3dpZHRoJzpcblx0XHRcdFx0XHRcdGNhc2UgJ21pblgnOlxuXHRcdFx0XHRcdFx0Y2FzZSAnbWF4WCc6XG5cdFx0XHRcdFx0XHRcdGNvb3Jkc1tzXSAqPSB3O1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRcdGNvb3Jkc1tzXSAqPSBoO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXG5cblxuXG5cdHJvYm9jcm9wLnZpZXcuRnJhbWUgPSB3cC5tZWRpYS52aWV3Lk1lZGlhRnJhbWUuZXh0ZW5kKHtcblx0XHR0ZW1wbGF0ZTogIHdwLnRlbXBsYXRlKCdyb2JvY3JvcC1tb2RhbCcpLFxuXHRcdHJlZ2lvbnM6ICAgWyd0aXRsZScsJ2NvbnRlbnQnLCdpbnN0cnVjdGlvbnMnLCdidXR0b25zJ11cblx0fSk7XG5cblx0cm9ib2Nyb3Audmlldy5GcmFtZS5Dcm9wID0gcm9ib2Nyb3Audmlldy5GcmFtZS5leHRlbmQoe1xuXHRcdGV2ZW50czoge1xuXHRcdFx0J2NsaWNrIC5yb2JvY3JvcC1zYXZlJ1x0XHQ6ICdzYXZlJyxcblx0XHRcdCdjbGljayAucm9ib2Nyb3AtY2FuY2VsJ1x0OiAnY2xvc2UnLFxuXHRcdH0sXG5cdFx0c2F2ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLiQoJy5yb2JvY3JvcC1zYXZlLCAucm9ib2Nyb3AtY2FuY2VsJykucHJvcCggJ2Rpc2FibGVkJywgdHJ1ZSApO1xuXHRcdFx0dGhpcy5fY29udGVudC5zYXZlKCk7XG5cdFx0fSxcblx0XHRpbml0aWFsaXplOiBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0XHRcdHJvYm9jcm9wLnZpZXcuRnJhbWUucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXG5cdFx0XHR0aGlzLmNyZWF0ZVRpdGxlKCk7XG5cdFx0XHR0aGlzLmNyZWF0ZUNvbnRlbnQoKTtcblx0XHRcdHRoaXMuY3JlYXRlQnV0dG9ucygpO1xuXG5cdFx0XHR0aGlzLm9uKCdjbG9zZScsIHRoaXMuZGlzbWlzcywgdGhpcyApO1xuXHRcdFx0dGhpcy5saXN0ZW5UbyggdGhpcy5fY29udGVudCwgJ3NhdmVkJywgdGhpcy5tb2RlbFN5bmMgKTtcblx0XHR9LFxuXHRcdG1vZGVsU3luYzogZnVuY3Rpb24oKXtcblx0XHRcdHRoaXMuJCgnLnJvYm9jcm9wLXNhdmUsIC5yb2JvY3JvcC1jYW5jZWwnKS5wcm9wKCAnZGlzYWJsZWQnLCBmYWxzZSApO1xuXHRcdH0sXG5cdFx0ZGlzbWlzczpmdW5jdGlvbigpe1xuXHRcdFx0dGhpcy5fY29udGVudC5kaXNtaXNzKCk7XG5cdFx0fSxcblx0XHRjcmVhdGVUaXRsZTogZnVuY3Rpb24oICkge1xuXHRcdFx0dGhpcy5fdGl0bGUgPSBuZXcgd3AubWVkaWEuVmlldyh7XG5cdFx0XHRcdHRhZ05hbWU6ICdoMSdcblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5fdGl0bGUuJGVsLnRleHQoIGwxMG4uQXR0YWNobWVudERldGFpbHMgKTtcblx0XHRcdHRoaXMudGl0bGUuc2V0KCBbIHRoaXMuX3RpdGxlIF0gKTtcblx0XHR9LFxuXHRcdGNyZWF0ZUNvbnRlbnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG9wdHMgPSBfLmV4dGVuZCh7XG5cdFx0XHRcdGNvbnRyb2xsZXI6IHRoaXMuY29udHJvbGxlcixcblx0XHRcdFx0bW9kZWw6IHRoaXMubW9kZWxcblx0XHRcdH0sIHRoaXMub3B0aW9ucyApO1xuXHRcdFx0dGhpcy5fY29udGVudCA9IG5ldyByb2JvY3JvcC52aWV3LlJvYm9jcm9wSW1hZ2UoIG9wdHMgKTtcblx0XHRcdHRoaXMuY29udGVudC5zZXQoIFsgdGhpcy5fY29udGVudCBdICk7XG5cdFx0fSxcblx0XHRjcmVhdGVCdXR0b25zOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpbmZvLCBidG47XG5cblx0XHRcdHRoaXMuYnV0dG9ucy5zZXQoIFtcblx0XHRcdFx0bmV3IHdwLm1lZGlhLnZpZXcuQnV0dG9uKHtcblx0XHRcdFx0XHR0ZXh0OiBsMTBuLkNsb3NlLFxuXHRcdFx0XHRcdGNsYXNzTmFtZTogJ2J1dHRvbi1zZWNvbmRhcnkgcm9ib2Nyb3AtY2FuY2VsJ1xuXHRcdFx0XHR9KSxcblx0XHRcdFx0bmV3IHdwLm1lZGlhLnZpZXcuQnV0dG9uKHtcblx0XHRcdFx0XHR0ZXh0OiBsMTBuLlNhdmVDaGFuZ2VzLFxuXHRcdFx0XHRcdGNsYXNzTmFtZTogJ2J1dHRvbi1wcmltYXJ5IHJvYm9jcm9wLXNhdmUnXG5cdFx0XHRcdH0pXG5cdFx0XHRdICk7XG5cdFx0fVxuXHR9KTtcblxuXG5cblxufSkod3AsalF1ZXJ5KTtcbiIsIihmdW5jdGlvbih3cCwkKSB7XG5cblx0dmFyIHJvYm9jcm9wID0gd3AubWVkaWEucm9ib2Nyb3AsXG5cdFx0aW1hZ2VfcmF0aW9zID0gcm9ib2Nyb3AuaW1hZ2VfcmF0aW9zLFxuXHRcdGltYWdlX3NpemVzICA9IHJvYm9jcm9wLmltYWdlX3NpemVzLFxuXHRcdGwxMG4gPSByb2JvY3JvcC5sMTBuO1xuXG5cdHZhciBWaWV3XHRcdD0gd3AubWVkaWEuVmlldyxcblx0XHRNZWRpYUZyYW1lXHQ9IHdwLm1lZGlhLnZpZXcuTWVkaWFGcmFtZSxcblx0XHRGb2N1c1BvaW50LFxuXHRcdENyb3BSZWN0O1xuXHRcblx0cm9ib2Nyb3Audmlldy5mb2N1c3BvaW50ID0ge307XG5cblx0Q3JvcFJlY3QgPSByb2JvY3JvcC52aWV3LmZvY3VzcG9pbnQuQ3JvcFJlY3QgPSBWaWV3LmV4dGVuZCh7XG5cdFx0dGVtcGxhdGU6IHdwLnRlbXBsYXRlKCdjcm9wcmVjdCcpLFxuXHRcdGNsYXNzTmFtZTpcdCd0b29sLWNyb3ByZWN0Jyxcblx0XHRjb250cm9sbGVyOm51bGwsXG5cdFx0ZXZlbnRzOiB7XG5cdFx0XHQnbW91c2VlbnRlciAubGFiZWwnIDogJ3Nob3dIaWxpdGUnLFxuXHRcdFx0J21vdXNlbGVhdmUgLmxhYmVsJyA6ICdoaWRlSGlsaXRlJyxcblx0XHR9LFxuXHRcdGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0Vmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cblx0XHRcdF8uZGVmYXVsdHMoIHRoaXMub3B0aW9ucywgeyBcblx0XHRcdFx0Zm9jdXNwb2ludDogbnVsbCwgLy8gZm9jdXNwb2ludCBjb29yZHNcblx0XHRcdFx0cmF0aW86IG51bGxcblx0XHRcdH0gKTtcblxuXHRcdFx0dGhpcy5vcHRpb25zLmxhYmVsID0gdGhpcy5vcHRpb25zLnJhdGlvLm5hbWUgKyAnIDogMSc7XG5cblx0XHRcdHRoaXMuY29udHJvbGxlciA9IHRoaXMub3B0aW9ucy5jb250cm9sbGVyO1xuXHRcdFx0dGhpcy5saXN0ZW5UbyggdGhpcy5jb250cm9sbGVyLmltYWdlLCAnbG9hZCcsIHRoaXMuaW1hZ2VMb2FkZWQgKTtcblxuXHRcdH0sXG5cdFx0aW1hZ2VMb2FkZWQ6ZnVuY3Rpb24oIGltYWdlICkge1xuXHRcdFx0dGhpcy4kZWwuYXR0ciggJ2RhdGEtZGlyJywgdGhpcy5vcHRpb25zLnJhdGlvLnJhdGlvID4gaW1hZ2UucmF0aW8gPyAndycgOiAnaCcgKTtcblx0XHRcdHRoaXMuJGVsLmNzcyggJ3dpZHRoJywgTWF0aC5taW4oIDEsIHRoaXMub3B0aW9ucy5yYXRpby5yYXRpbyAvIGltYWdlLnJhdGlvICkgKiAxMDAgKyclJyApO1xuXHRcdFx0dGhpcy5zZXRGb2N1c3BvaW50KCApO1xuXHRcdFx0Ly8gc2V0IHBvc2l0aW9uIGZyb20gZm9zdXNwb2ludFxuXHRcdH0sXG5cdFx0c2V0Rm9jdXNwb2ludDpmdW5jdGlvbiggZm9jdXNwb2ludCApIHtcblx0XHRcdGlmICggISFmb2N1c3BvaW50ICkge1xuXHRcdFx0XHR0aGlzLm9wdGlvbnMuZm9jdXNwb2ludCA9IGZvY3VzcG9pbnQ7XG5cdFx0XHR9XG5cdFx0XHR2YXIgaW1hZ2VpbmZvID0ge1xuXHRcdFx0XHRcdHdpZHRoXHRcdDogdGhpcy5jb250cm9sbGVyLmltYWdlLiRlbC53aWR0aCgpLFxuXHRcdFx0XHRcdGhlaWdodFx0XHQ6IHRoaXMuY29udHJvbGxlci5pbWFnZS4kZWwuaGVpZ2h0KCksXG5cdFx0XHRcdFx0Zm9jdXNwb2ludFx0OiB0aGlzLm9wdGlvbnMuZm9jdXNwb2ludCxcblx0XHRcdFx0fSxcblx0XHRcdFx0cmVzID0gcm9ib2Nyb3AuY3JvcEZyb21Gb2N1c1BvaW50KCBpbWFnZWluZm8sIHRoaXMub3B0aW9ucy5yYXRpbyApLFxuXHRcdFx0XHRjb29yZCA9IHJvYm9jcm9wLnJlbFRvQWJzQ29vcmRzKCByZXMsIGltYWdlaW5mbyApO1xuIFx0XHRcdHRoaXMuJGVsLmNzcygnbGVmdCcsY29vcmQueCArICdweCcgKTtcbiBcdFx0XHR0aGlzLiRlbC5jc3MoJ3RvcCcsY29vcmQueSArICdweCcgKTtcbiBcdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHNob3dIaWxpdGU6IGZ1bmN0aW9uKGUpe1xuXHRcdFx0dGhpcy4kZWwuYXR0cignZGF0YS1oaWxpdGUnLCd0cnVlJyk7XG5cdFx0XHR0aGlzLnRyaWdnZXIoJ2hpbGl0ZTpzaG93Jyk7XG5cdFx0fSxcblx0XHRoaWRlSGlsaXRlOiBmdW5jdGlvbihlKXtcblx0XHRcdHRoaXMuJGVsLmF0dHIoJ2RhdGEtaGlsaXRlJywnZmFsc2UnKTtcblx0XHRcdHRoaXMudHJpZ2dlcignaGlsaXRlOmhpZGUnKTtcblx0XHR9XG5cdH0pO1xuXG5cdEZvY3VzUG9pbnQgPSByb2JvY3JvcC52aWV3LmZvY3VzcG9pbnQuRm9jdXNQb2ludCA9IFZpZXcuZXh0ZW5kKHtcblx0XHRjbGFzc05hbWU6XHQndG9vbC1mb2N1c3BvaW50Jyxcblx0XHR0ZW1wbGF0ZTpcdHdwLnRlbXBsYXRlKCdmb2N1c3BvaW50JyksXG5cdFx0aW5pdGlhbGl6ZTogZnVuY3Rpb24oKXtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdF8uZGVmYXVsdHMoIHRoaXMub3B0aW9ucywgeyBcblx0XHRcdFx0Zm9jdXNwb2ludDp7eDowLHk6MH0sIFxuXHRcdFx0XHRlbmFibGVkOiBmYWxzZSAsXG5cdFx0XHRcdGNyb3BSZWN0czpbXVxuXHRcdFx0fSApO1xuXHRcdFx0dGhpcy5vcHRpb25zLmNyb3BSZWN0cy5zb3J0KGZ1bmN0aW9uKGEsYil7XG5cdFx0XHRcdHJldHVybiBiLm9wdGlvbnMucmF0aW8ucmF0aW8gLSBhLm9wdGlvbnMucmF0aW8ucmF0aW87XG5cdFx0XHR9KTtcblxuXHRcdFx0dGhpcy4kZWwub24oJ2NsaWNrJywgZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRzZWxmLmNsaWNrRm9jdXNwb2ludCggZXZlbnQgKTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cdFx0cmVuZGVyOmZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHRWaWV3LnByb3RvdHlwZS5yZW5kZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0Xy5lYWNoKCB0aGlzLm9wdGlvbnMuY3JvcFJlY3RzLCBmdW5jdGlvbiggcmVjdCApe1xuXHRcdFx0XHRyZWN0LnJlbmRlcigpO1xuXHRcdFx0XHRzZWxmLiRlbC5hcHBlbmQoIHJlY3QuJGVsICk7XG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0c2V0RW5hYmxlZDogZnVuY3Rpb24oIGVuYWJsZWQgKSB7XG5cdFx0XHR2YXIgcHJldiA9IHRoaXMub3B0aW9ucy5lbmFibGVkO1xuXHRcdFx0dGhpcy5vcHRpb25zLmVuYWJsZWQgPSBlbmFibGVkO1xuXHRcdFx0dGhpcy4kZWwuYXR0ciggJ2RhdGEtZW5hYmxlZCcsIGVuYWJsZWQudG9TdHJpbmcoKSApO1xuXHRcdFx0cmV0dXJuIHByZXY7XG5cdFx0fSxcblx0XHRjbGlja0ZvY3VzcG9pbnQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHZhciBvZmZzO1xuXHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMuZW5hYmxlZCApIHtcblx0XHRcdFx0b2ZmcyA9IHRoaXMuJGVsLm9mZnNldCgpO1xuXHRcdFx0XHR0aGlzLnNldEZvY3VzcG9pbnQoIHtcblx0XHRcdFx0XHR4OiAgMiAqIChldmVudC5wYWdlWCAtIG9mZnMubGVmdCApIC8gdGhpcy4kZWwud2lkdGgoKSAgLSAxLFxuXHRcdFx0XHRcdHk6IC0yICogKGV2ZW50LnBhZ2VZIC0gb2Zmcy50b3AgKSAvIHRoaXMuJGVsLmhlaWdodCgpICsgMSxcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0Z2V0Rm9jdXNwb2ludDogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5mb2N1c3BvaW50O1xuXHRcdH0sXG5cdFx0c2V0Rm9jdXNwb2ludDogZnVuY3Rpb24oIGZvY3VzcG9pbnQgKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdHRoaXMuZm9jdXNwb2ludCA9IGZvY3VzcG9pbnQ7XG5cblx0XHRcdHRoaXMuJGVsLmZpbmQoJy5mb2N1c3BvaW50JykuY3NzKHtcblx0XHRcdFx0bGVmdDogXHQoKGZvY3VzcG9pbnQueCArIDEpICogNTApKyclJyxcblx0XHRcdFx0Ym90dG9tOlx0KChmb2N1c3BvaW50LnkgKyAxKSAqIDUwKSsnJSdcblx0XHRcdH0pO1xuXG5cdFx0XHRfLmVhY2goIHRoaXMub3B0aW9ucy5jcm9wUmVjdHMsIGZ1bmN0aW9uKHJlY3Qpe1xuXHRcdFx0XHRyZWN0LnNldEZvY3VzcG9pbnQoIHNlbGYuZm9jdXNwb2ludCApO1xuXHRcdFx0fSk7XG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5lbmFibGVkICkge1xuXHRcdFx0XHR0aGlzLnRyaWdnZXIoJ2NoYW5nZTpmb2N1c3BvaW50JywgdGhpcy5mb2N1c3BvaW50ICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHR9KTtcblxuXHRyb2JvY3JvcC52aWV3LmZvY3VzcG9pbnQuSW1hZ2VGb2N1c1BvaW50U2VsZWN0ID0gVmlldy5leHRlbmQoe1xuXHRcdGNsYXNzTmFtZTpcdCdyb2JvY3JvcC1pbWFnZS1ib3gnLFxuXHRcdGNyb3BSZWN0czogW10sXG5cdFx0aW5pdGlhbGl6ZTogZnVuY3Rpb24oICl7XG5cblx0XHRcdF8uZGVmYXVsdHMoIHRoaXMub3B0aW9ucywgeyBcblx0XHRcdFx0Y29udHJvbGxlcjogdGhpcywgXG5cdFx0XHRcdGZvY3VzcG9pbnQ6IHt4OjAseTowfSwgXG5cdFx0XHRcdHNyYzogZmFsc2UsIFxuXHRcdFx0XHRpbWFnZTogZmFsc2UsIFxuXHRcdFx0XHRlbmFibGVkOiBmYWxzZSxcblx0XHRcdH0gKTtcblxuXHRcdFx0dmFyIHNlbGYgXHRcdD0gdGhpcztcblxuXHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMuaW1hZ2UgIT09IGZhbHNlICYmICh0aGlzLm9wdGlvbnMuaW1hZ2UuY29uc3RydWN0b3IucHJvdG90eXBlID09IHJvYm9jcm9wLnZpZXcuSW1nLnByb3RvdHlwZSApICkge1xuXHRcdFx0XHR0aGlzLmltYWdlID0gdGhpcy5vcHRpb25zLmltYWdlO1xuXHRcdFx0fSBlbHNlIGlmICggdGhpcy5vcHRpb25zLnNyYyAhPT0gZmFsc2UgKSB7XG5cdFx0XHRcdHRoaXMuaW1hZ2VcdD0gbmV3IHJvYm9jcm9wLnZpZXcuSW1nKCB7IHNyYzogdGhpcy5vcHRpb25zLnNyYyB9KTtcblx0XHRcdH0gZWxzZSAge1xuXHRcdFx0XHR0aGlzLmltYWdlID0gbmV3IHJvYm9jcm9wLnZpZXcuSW1nKCB7IHNyYzogJycgfSwgdGhpcy5vcHRpb25zLmltYWdlKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5jcm9wUmVjdHMgPSBbXTtcblx0XHRcdF8uZWFjaCggaW1hZ2VfcmF0aW9zLCBmdW5jdGlvbiggcmF0aW8sIGtleSApIHtcblx0XHRcdFx0dmFyIHJlY3QgPSBuZXcgQ3JvcFJlY3QoIHtcblx0XHRcdFx0XHRjb250cm9sbGVyOiBzZWxmLFxuXHRcdFx0XHRcdGZvY3VzcG9pbnQ6IHNlbGYub3B0aW9ucy5mb2N1c3BvaW50LFxuXHRcdFx0XHRcdHJhdGlvOiByYXRpb1xuXHRcdFx0XHR9ICk7XG5cdFx0XHRcdHNlbGYubGlzdGVuVG8ocmVjdCwnaGlsaXRlOnNob3cnLHNlbGYuc2hvd0hpbGl0ZSApO1xuXHRcdFx0XHRzZWxmLmxpc3RlblRvKHJlY3QsJ2hpbGl0ZTpoaWRlJyxzZWxmLmhpZGVIaWxpdGUgKTtcblx0XHRcdFx0c2VsZi5jcm9wUmVjdHMucHVzaCggcmVjdCApO1xuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMuZm9jdXNwb2ludFx0PSBuZXcgRm9jdXNQb2ludCh7IFxuXHRcdFx0XHRjb250cm9sbGVyOiB0aGlzLmNvbnRyb2xsZXIsXG5cdFx0XHRcdGZvY3VzcG9pbnQ6IHRoaXMub3B0aW9ucy5mb2N1c3BvaW50LFxuXHRcdFx0XHRlbmFibGVkOiBcdHRoaXMub3B0aW9ucy5lbmFibGVkLFxuXHRcdFx0XHRjcm9wUmVjdHM6XHR0aGlzLmNyb3BSZWN0cyxcblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLmxpc3RlblRvKCB0aGlzLmZvY3VzcG9pbnQsICdjaGFuZ2U6Zm9jdXNwb2ludCcsIHRoaXMudmFsdWVDaGFuZ2VkICk7XG5cdFx0fSxcblx0XHRzZXRFbmFibGVkOiBmdW5jdGlvbiggZW5hYmxlZCApIHtcblxuXHRcdFx0cmV0dXJuIHRoaXMuZm9jdXNwb2ludC5zZXRFbmFibGVkKCBlbmFibGVkIClcblx0XHR9LFxuXHRcdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRWaWV3LnByb3RvdHlwZS5yZW5kZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dGhpcy52aWV3cy5zZXQoIFsgdGhpcy5pbWFnZSwgdGhpcy5mb2N1c3BvaW50IF0gKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0Z2V0Rm9jdXNwb2ludDogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5mb2N1c3BvaW50LmdldEZvY3VzcG9pbnQoKTtcblx0XHR9LFxuXHRcdHNldEZvY3VzcG9pbnQ6IGZ1bmN0aW9uKCBmb2N1c3BvaW50ICkge1xuXHRcdFx0dGhpcy5mb2N1c3BvaW50ICYmIHRoaXMuZm9jdXNwb2ludC5zZXRGb2N1c3BvaW50KCBmb2N1c3BvaW50ICk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdGdldEltYWdlV2lkdGg6IGZ1bmN0aW9uKCApIHtcblx0XHRcdHJldHVybiB0aGlzLmltYWdlLiRlbC5nZXQoMCkubmF0dXJhbFdpZHRoO1xuXHRcdH0sXG5cdFx0Z2V0SW1hZ2VIZWlnaHQ6IGZ1bmN0aW9uKCApIHtcblx0XHRcdHJldHVybiB0aGlzLmltYWdlLiRlbC5nZXQoMCkubmF0dXJhbEhlaWdodDtcblx0XHR9LFxuXHRcdHNldFNyYzogZnVuY3Rpb24oIHNyYyApIHtcblx0XHRcdHRoaXMuaW1hZ2UuJGVsLmF0dHIoICdzcmMnLCBzcmMgKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0dmFsdWVDaGFuZ2VkOiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMudHJpZ2dlcignY2hhbmdlZCcpO1xuXHRcdH0sXG5cdFx0c2hvd0hpbGl0ZTogZnVuY3Rpb24oZSl7XG5cdFx0XHR0aGlzLiRlbC5hdHRyKCdkYXRhLWhpbGl0ZScsJ3RydWUnKTtcblx0XHR9LFxuXHRcdGhpZGVIaWxpdGU6IGZ1bmN0aW9uKGUpe1xuXHRcdFx0dGhpcy4kZWwuYXR0cignZGF0YS1oaWxpdGUnLCdmYWxzZScpO1xuXHRcdH1cblx0fSk7XG5cblx0cm9ib2Nyb3Audmlldy5GcmFtZS5Gb2N1c3BvaW50ID0gcm9ib2Nyb3Audmlldy5GcmFtZS5leHRlbmQoe1xuXHRcdGNsYXNzTmFtZTogJ2Fzay1mb2N1c3BvaW50IG1lZGlhLWZyYW1lJyxcblx0XHRldmVudHM6IHtcblx0XHRcdCdjbGljayAucmVzZXQnOiAncmVzZXQnLFxuXHRcdFx0J2NsaWNrIC5wcm9jZWVkJzogJ3Byb2NlZWQnLFxuXHRcdFx0J2NsaWNrIC5jYW5jZWwtdXBsb2FkJzogJ2NhbmNlbFVwbG9hZCcsXG5cdFx0fSxcblx0XHRpbml0aWFsaXplOiBmdW5jdGlvbiggKSB7XG5cblx0XHRcdF8uZGVmYXVsdHMoIHRoaXMub3B0aW9ucywge1xuXHRcdFx0XHR1cGxvYWRlcjpcdGZhbHNlLFxuXHRcdFx0XHR0aXRsZTpcdFx0bDEwbi5TZXRGb2N1c1BvaW50LFxuXHRcdFx0XHRtb2RhbDogdGhpcy5vcHRpb25zID8gdGhpcy5vcHRpb25zLm1vZGFsIDogZmFsc2UsXG5cdFx0XHRcdHNyYzogJycgLy8gZXhwZWN0aW5nIGFuIGltZyBlbGVtZW50XG5cdFx0XHR9KTtcblxuXHRcdFx0cm9ib2Nyb3Audmlldy5GcmFtZS5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cblx0XHRcdGlmICggdGhpcy5tb2RhbCApIHtcblx0XHRcdFx0dGhpcy5tb2RhbC5vbignZXNjYXBlJywgdGhpcy5jYW5jZWxVcGxvYWQsIHRoaXMgKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuY3JlYXRlVGl0bGUoKTtcblx0XHRcdHRoaXMuY3JlYXRlQ29udGVudCgpO1xuXHRcdFx0dGhpcy5jcmVhdGVJbnN0cnVjdGlvbnMoKTtcblx0XHRcdHRoaXMuY3JlYXRlQnV0dG9ucygpO1xuXHRcdH0sXG4vLyBcdFx0cmVuZGVyOiBmdW5jdGlvbigpIHtcbi8vIFx0XHRcdC8vIGZyYW1lIGxheW91dFxuLy8gXG4vLyBcdFx0XHRyb2JvY3JvcC52aWV3Lk1vZGFsLnByb3RvdHlwZS5yZW5kZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuLy8gXHRcdH0sXG5cdFx0Y3JlYXRlVGl0bGU6IGZ1bmN0aW9uKCApIHtcblx0XHRcdHRoaXMuX3RpdGxlID0gbmV3IHdwLm1lZGlhLlZpZXcoe1xuXHRcdFx0XHR0YWdOYW1lOiAnaDEnXG5cdFx0XHR9KTtcblx0XHRcdHRoaXMuX3RpdGxlLiRlbC50ZXh0KCB0aGlzLm9wdGlvbnMudGl0bGUgKTtcblx0XHRcdHRoaXMudGl0bGUuc2V0KCBbIHRoaXMuX3RpdGxlIF0gKTtcblx0XHR9LFxuXHRcdGNyZWF0ZUNvbnRlbnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5fY29udGVudCA9IG5ldyByb2JvY3JvcC52aWV3LmZvY3VzcG9pbnQuSW1hZ2VGb2N1c1BvaW50U2VsZWN0KHtcblx0XHRcdFx0c3JjOiAnJyxcblx0XHRcdFx0Zm9jdXNwb2ludDp7IHg6MCwgeTowIH0sXG5cdFx0XHRcdGNvbnRyb2xsZXI6IHRoaXMsXG5cdFx0XHRcdGVuYWJsZWQ6IHRydWVcblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5jb250ZW50LnNldCggWyB0aGlzLl9jb250ZW50IF0gKTtcblx0XHR9LFxuXHRcdGNyZWF0ZUluc3RydWN0aW9uczogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgaW5mbywgYnRuO1xuXHRcdFx0dGhpcy5pbnN0cnVjdGlvbnMuc2V0KCBbXG5cdFx0XHRcdG5ldyB3cC5tZWRpYS5WaWV3KHtcblx0XHRcdFx0XHRlbDogJCggJzxkaXYgY2xhc3M9XCJpbnN0cnVjdGlvbnNcIj4nICsgbDEwbi5Gb2N1c1BvaW50SW5zdHJ1Y3Rpb25zICsgJzwvZGl2PicgKVswXSxcblx0XHRcdFx0XHRwcmlvcml0eTogLTQwXG5cdFx0XHRcdH0pXG5cdFx0XHRdICk7XG5cdFx0fSxcblx0XHRjcmVhdGVCdXR0b25zOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpbmZvLCBidG47XG5cblx0XHRcdHRoaXMuYnV0dG9ucy5zZXQoIFtcblx0XHRcdFx0bmV3IHdwLm1lZGlhLnZpZXcuQnV0dG9uKHtcblx0XHRcdFx0XHR0ZXh0OiBsMTBuLkNhbmNlbFVwbG9hZCxcblx0XHRcdFx0XHRjbGFzc05hbWU6ICdjYW5jZWwtdXBsb2FkJ1xuXHRcdFx0XHR9KSxcblx0XHRcdFx0bmV3IHdwLm1lZGlhLnZpZXcuQnV0dG9uKHtcblx0XHRcdFx0XHR0ZXh0OiBsMTBuLlJlc2V0LFxuXHRcdFx0XHRcdGNsYXNzTmFtZTogJ3Jlc2V0J1xuXHRcdFx0XHR9KSxcblx0XHRcdFx0bmV3IHdwLm1lZGlhLnZpZXcuQnV0dG9uKHtcblx0XHRcdFx0XHR0ZXh0OiBsMTBuLk9rYXksXG5cdFx0XHRcdFx0Y2xhc3NOYW1lOiAnYnV0dG9uLXByaW1hcnkgcHJvY2VlZCdcblx0XHRcdFx0fSlcblx0XHRcdF0gKTtcblx0XHR9LFxuXG5cdFx0c2V0U3JjOiBmdW5jdGlvbiggc3JjICkge1xuXHRcdFx0dGhpcy5fY29udGVudC5zZXRTcmMoIHNyYyApO1xuXHRcdH0sXG5cdFx0c2V0RmlsZTogZnVuY3Rpb24oIGZpbGUgKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXMsIGZyID0gbmV3IEZpbGVSZWFkZXIoKTtcblx0XHRcdGZyLm9ubG9hZCA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0c2VsZi5zZXRTcmMoIGZyLnJlc3VsdCApO1xuXHRcdFx0fVxuXHRcdFx0ZnIucmVhZEFzRGF0YVVSTCggZmlsZSApO1xuXHRcdH0sXG5cdFx0c2V0Rm9jdXNwb2ludDogZnVuY3Rpb24oIGZvY3VzcG9pbnQgKSB7XG5cdFx0XHR0aGlzLl9jb250ZW50LnNldEZvY3VzcG9pbnQoIGZvY3VzcG9pbnQgKTtcblx0XHRcdHRoaXMuX2NvbnRlbnQuc2V0RW5hYmxlZCh0cnVlKTtcblx0XHR9LFxuXHRcdGdldEZvY3VzcG9pbnQ6IGZ1bmN0aW9uKCApIHtcblx0XHRcdHJldHVybiB0aGlzLl9jb250ZW50LmdldEZvY3VzcG9pbnQoKTtcblx0XHR9LFxuXHRcdGdldEltYWdlV2lkdGg6IGZ1bmN0aW9uKCApIHtcblx0XHRcdHJldHVybiB0aGlzLl9jb250ZW50LmdldEltYWdlV2lkdGgoKTtcblx0XHR9LFxuXHRcdGdldEltYWdlSGVpZ2h0OiBmdW5jdGlvbiggKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fY29udGVudC5nZXRJbWFnZUhlaWdodCgpO1xuXHRcdH0sXG5cdFx0cmVzZXQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHRoaXMuc2V0Rm9jdXNwb2ludCggeyB4OjAsIHk6MCB9IClcblx0XHR9LFxuXHRcdHByb2NlZWQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHRoaXMudHJpZ2dlcigncHJvY2VlZCcpO1xuXHRcdH0sXG5cdFx0Y2FuY2VsVXBsb2FkOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHQvLyByZW1vdmUgZnJvbSBxdWV1ZSFcblx0XHRcdHRoaXMudHJpZ2dlcignY2FuY2VsLXVwbG9hZCcpO1xuXHRcdFx0dGhpcy5jbG9zZSgpO1xuXHRcdH1cblx0fSk7XG5cbn0pKHdwLGpRdWVyeSk7XG4iLCIoZnVuY3Rpb24od3AsJCkge1xuXG5cdHZhciByb2JvY3JvcCBcdFx0PSB3cC5tZWRpYS5yb2JvY3JvcCxcblx0XHRpbWFnZV9yYXRpb3NcdD0gcm9ib2Nyb3AuaW1hZ2VfcmF0aW9zLFxuXHRcdGltYWdlX3NpemVzXHRcdD0gcm9ib2Nyb3AuaW1hZ2Vfc2l6ZXMsXG5cdFx0bDEwblx0XHRcdD0gcm9ib2Nyb3AubDEwbixcblx0XHRvcHRpb25zXHRcdFx0PSByb2JvY3JvcC5vcHRpb25zLFxuXHRcdGNyb3BCdG5IVE1MXHRcdD0gJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnV0dG9uIHJvYm9jcm9wLW9wZW5cIj4nK2wxMG4uRWRpdEltYWdlU2l6ZXMrJzwvYnV0dG9uPicsXG5cdFx0Y3JvcExpbmtIVE1MXHQ9ICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ1dHRvbi1saW5rIHJvYm9jcm9wLW9wZW5cIj4nK2wxMG4uRWRpdEltYWdlU2l6ZXMrJzwvYnV0dG9uPic7XG4gXG5cdHZhciByb2JvY3JvcFN0YXRlRXh0ZW5kID0ge1xuXHRcdGNyZWF0ZVN0YXRlczogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLl9wYXJlbnRDcmVhdGVTdGF0ZXMuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0dGhpcy5zdGF0ZXMuYWRkKFxuXHRcdFx0XHRuZXcgcm9ib2Nyb3AuY29udHJvbGxlci5Sb2JvY3JvcEltYWdlKCB7XG5cdFx0XHRcdFx0bW9kZWw6IHRoaXMubW9kZWwsXG5cdFx0XHRcdFx0c2VsZWN0aW9uOiB0aGlzLm9wdGlvbnMuc2VsZWN0aW9uXG5cdFx0XHRcdH0gKVxuXHRcdFx0KTtcblx0XHR9XG5cdH07XG5cblx0Ly8gcG9zdCBpbmxpbmUgaW1hZ2UgZWRpdG9yXG5cdF8uZXh0ZW5kKCB3cC5tZWRpYS52aWV3LkltYWdlRGV0YWlscy5wcm90b3R5cGUsIHtcblx0XHRfcGFyZW50UG9zdFJlbmRlcjogd3AubWVkaWEudmlldy5JbWFnZURldGFpbHMucHJvdG90eXBlLnBvc3RSZW5kZXIsXG5cdFx0cG9zdFJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLl9wYXJlbnRQb3N0UmVuZGVyLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdHRoaXMuJGVsLmZpbmQoJy5hY3Rpb25zJykuYXBwZW5kKGNyb3BCdG5IVE1MKTtcblx0XHR9LFxuXHRcdHJvYm9jcm9wT3BlbjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0Y29uc29sZS5sb2coKTtcblx0XHRcdHZhciBzaXplID0gdGhpcy5tb2RlbC5nZXQoJ3NpemUnKSxcblx0XHRcdFx0Y3JvcHRvb2wgPSBuZXcgcm9ib2Nyb3Audmlldy5GcmFtZS5Dcm9wKCB7IFxuXHRcdFx0XHRcdGNvbnRyb2xsZXI6IHRoaXMuY29udHJvbGxlciwgXG5cdFx0XHRcdFx0bW9kZWw6IHRoaXMuY29udHJvbGxlci5pbWFnZS5hdHRhY2htZW50LFxuXHRcdFx0XHRcdHNpemVUb1NlbGVjdDogc2l6ZVxuXHRcdFx0XHR9ICk7XG5cdFx0XHRjcm9wdG9vbC5vcGVuKCk7XG5cdFx0fVxuXHR9KTtcblx0d3AubWVkaWEudmlldy5JbWFnZURldGFpbHMucHJvdG90eXBlLmV2ZW50c1snY2xpY2sgLnJvYm9jcm9wLW9wZW4nXSA9ICdyb2JvY3JvcE9wZW4nO1xuXG5cblx0Ly8gSW5saW5lIE1lZGlhTGlicmFyeSwgR3JpZCB2aWV3IE1lZGlhTGlicmFyeVxuXHRfLmV4dGVuZCggd3AubWVkaWEudmlldy5BdHRhY2htZW50LkRldGFpbHMucHJvdG90eXBlLCB7XG5cdFx0X3BhcmVudFJlbmRlcjogd3AubWVkaWEudmlldy5BdHRhY2htZW50LkRldGFpbHMucHJvdG90eXBlLnJlbmRlcixcblx0XHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5fcGFyZW50UmVuZGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblx0XHRcdC8vIG1lZGlhIGxpYnJhcnkgc2NyZWVuXG5cdFx0XHRpZiAoIHRoaXMubW9kZWwuZ2V0KCd0eXBlJykgPT09ICdpbWFnZScgKSB7XG5cdFx0XHRcdHRoaXMuJCgnLmF0dGFjaG1lbnQtYWN0aW9ucycpLmFwcGVuZChjcm9wQnRuSFRNTCk7XG5cdFx0XHRcdCQoIGNyb3BMaW5rSFRNTCApLmluc2VydEFmdGVyKCB0aGlzLiRlbC5maW5kKCAnYS5lZGl0LWF0dGFjaG1lbnQnICkgKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdHJvYm9jcm9wT3BlbjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0dmFyIGNyb3B0b29sID0gbmV3IHJvYm9jcm9wLnZpZXcuRnJhbWUuQ3JvcCggeyBcblx0XHRcdFx0XHRjb250cm9sbGVyOiB0aGlzLmNvbnRyb2xsZXIsIFxuXHRcdFx0XHRcdG1vZGVsOiB0aGlzLm1vZGVsXG5cdFx0XHRcdH0pO1xuXHRcdFx0Y3JvcHRvb2wub3BlbigpO1xuXHRcdH0sXG5cdFx0X3BhcmVudENyZWF0ZVN0YXRlczogd3AubWVkaWEudmlldy5BdHRhY2htZW50LkRldGFpbHMucHJvdG90eXBlLmNyZWF0ZVN0YXRlc1xuXHR9LCByb2JvY3JvcFN0YXRlRXh0ZW5kICk7XG5cblx0d3AubWVkaWEudmlldy5BdHRhY2htZW50LkRldGFpbHMucHJvdG90eXBlLmV2ZW50c1snY2xpY2sgLnJvYm9jcm9wLW9wZW4nXSA9ICdyb2JvY3JvcE9wZW4nO1xuXG5cbn0pKHdwLGpRdWVyeSk7XG4iLCIoZnVuY3Rpb24oICQgKSB7XG5cblx0dmFyIHJvYm9jcm9wID0gd3AubWVkaWEucm9ib2Nyb3AsXG5cdFx0aW1hZ2VfcmF0aW9zID0gcm9ib2Nyb3AuaW1hZ2VfcmF0aW9zLFxuXHRcdGltYWdlX3NpemVzICA9IHJvYm9jcm9wLmltYWdlX3NpemVzLFxuXHRcdG9wdGlvbnMgPSByb2JvY3JvcC5vcHRpb25zLFxuXHRcdGltYWdlSW5mb3MgPSB7fTtcblxuXHQvKipcblx0ICpcdEVhcmx5IHJldHVybiBpZiBhdXRvY3JvcCBpcyBkaXNhYmxlZFxuXHQgKi9cblx0aWYgKCAhIG9wdGlvbnMuYXNrX2Zvcl9mb2N1c3BvaW50ICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdF8uZXh0ZW5kKCB3cC5tZWRpYS52aWV3LlVwbG9hZGVyV2luZG93LnByb3RvdHlwZSwge1xuXHRcdF9wYXJlbnRSZWFkeTogd3AubWVkaWEudmlldy5VcGxvYWRlcldpbmRvdy5wcm90b3R5cGUucmVhZHksXG5cdFx0ZGlkUmVhZHk6ZmFsc2UsXG5cblx0XHRyZWFkeTpmdW5jdGlvbigpIHtcblx0XHRcdHZhciBhc2tGb2N1c0ltYWdlcyA9IFtdLFxuXHRcdFx0XHRhc2tNb2RhbCwgc2VsZiA9IHRoaXM7XG5cblx0XHRcdC8vIHByZXZlbnQgZG91YmxlIGluaXRcblx0XHRcdGlmICggdGhpcy5kaWRSZWFkeSApIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuX3BhcmVudFJlYWR5LmFwcGx5KCB0aGlzICwgYXJndW1lbnRzICk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmRpZFJlYWR5ID0gdHJ1ZTtcblxuXHRcdFx0cmV0ID0gdGhpcy5fcGFyZW50UmVhZHkuYXBwbHkoIHRoaXMgLCBhcmd1bWVudHMgKTtcblxuXHRcdFx0ZnVuY3Rpb24gYXNrRm9jdXMoIHVwbG9hZGVyICkge1xuXHRcdFx0XHR2YXIgZmlsZUl0ZW0sIHNyYztcblx0XHRcdFx0aWYgKCBhc2tNb2RhbCApIHtcblx0XHRcdFx0XHRhc2tNb2RhbC5jbG9zZSgpLmRpc3Bvc2UoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoICEhIGFza0ZvY3VzSW1hZ2VzLmxlbmd0aCApIHtcblx0XHRcdFx0XHRmaWxlSXRlbSA9IGFza0ZvY3VzSW1hZ2VzLnNoaWZ0KCk7XG5cdFx0XHRcdFx0YXNrTW9kYWwgPSBuZXcgcm9ib2Nyb3Audmlldy5GcmFtZS5Gb2N1c3BvaW50KHsgY29udHJvbGxlcjogJCh0aGlzKSB9KTtcblx0XHRcdFx0XHRhc2tNb2RhbC5vbigncHJvY2VlZCcsZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpbWFnZUluZm9zW2ZpbGVJdGVtLmZpbGUubmFtZV0gPSB7XG5cdFx0XHRcdFx0XHRcdGZvY3VzcG9pbnQ6XHRhc2tNb2RhbC5nZXRGb2N1c3BvaW50KCksXG5cdFx0XHRcdFx0XHRcdHdpZHRoOlx0XHRhc2tNb2RhbC5nZXRJbWFnZVdpZHRoKCksXG5cdFx0XHRcdFx0XHRcdGhlaWdodDpcdFx0YXNrTW9kYWwuZ2V0SW1hZ2VIZWlnaHQoKVxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdGFza0ZvY3VzKCB1cGxvYWRlciApO1xuXHRcdFx0XHRcdH0pLm9uKCdjYW5jZWwtdXBsb2FkJyxmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGZpbGVJdGVtLmZpbGUuYXR0YWNobWVudC5kZXN0cm95KCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0YXNrTW9kYWwuc2V0Rm9jdXNwb2ludCh7eDowLHk6MH0pO1xuXHRcdFx0XHRcdGFza01vZGFsLnNldEZpbGUoIGZpbGVJdGVtLmJsb2IgKTtcblx0XHRcdFx0XHRhc2tNb2RhbC5vcGVuKCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dXBsb2FkZXIuc3RhcnQoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRmdW5jdGlvbiBhZGRBc2tGb2N1cyggZmlsZURhdGEsIHVwbG9hZGVyICkge1xuXHRcdFx0XHRhc2tGb2N1c0ltYWdlcy5wdXNoKCBmaWxlRGF0YSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvKipcblx0XHRcdCAqXHRAcmV0dXJuIG5hdGl2ZSBmaWxlIG9iamVjdCBvciBibG9iXG5cdFx0XHQgKi9cblx0XHRcdGZ1bmN0aW9uIHJlc29sdmVGaWxlKCBmaWxlICkge1xuXHRcdFx0XHR2YXIgX3JldCA9IHtcblx0XHRcdFx0XHRmaWxlOiBmaWxlLFxuXHRcdFx0XHRcdGJsb2I6ZmlsZS5nZXROYXRpdmUoKVxuXHRcdFx0XHR9LCBfcmV0MiwgYnl0ZXMsIGk7XG5cdFx0XHRcdGlmICggISBfcmV0LmJsb2IgKSB7XG5cdFx0XHRcdFx0X3JldC5ibG9iID0gZmlsZS5nZXRTb3VyY2UoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gX3JldDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gc3RvcCB1cGxvYWRlciBhbmQgZ2VuZXJhdGUgY3JvcGRhdGEgXG5cdFx0XHR0aGlzLnVwbG9hZGVyLnVwbG9hZGVyLmJpbmQoJ0ZpbGVzQWRkZWQnLGZ1bmN0aW9uKCB1cCwgZmlsZXMgKSB7XG5cdFx0XHRcdHZhciBmaWxlRGF0YTtcblxuXHRcdFx0XHQvLyBwdXQgbW9kYWxcblx0XHRcdFx0Zm9yICh2YXIgaT0wO2k8ZmlsZXMubGVuZ3RoO2krKykge1xuXHRcdFx0XHRcdGlmICggZmlsZXNbaV0udHlwZSA9PSAnaW1hZ2UvcG5nJyB8fCBmaWxlc1tpXS50eXBlID09ICdpbWFnZS9qcGVnJyApIHtcblx0XHRcdFx0XHRcdGZpbGVEYXRhID0gcmVzb2x2ZUZpbGUoIGZpbGVzW2ldICk7XG5cdFx0XHRcdFx0XHRpZiAoIGZpbGVEYXRhLmJsb2IgaW5zdGFuY2VvZiBCbG9iICkge1xuXHRcdFx0XHRcdFx0XHRhZGRBc2tGb2N1cyggZmlsZURhdGEsIHVwICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggYXNrRm9jdXNJbWFnZXMubGVuZ3RoICkge1xuXHRcdFx0XHRcdHVwLnN0b3AoKTtcblx0XHRcdFx0XHR1cC5yZWZyZXNoKCk7XG5cdFx0XHRcdFx0YXNrRm9jdXMoIHVwICk7IC8vIHdpbGwgYXNrIGZvciBmb2N1cyBvciBzdGFydCB1cGxvYWRlclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiYXNrZm9jdXNcIik7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0Ly8gc2VuZCBjcm9wZGF0YSBcblx0XHRcdHRoaXMudXBsb2FkZXIudXBsb2FkZXIuYmluZCgnQmVmb3JlVXBsb2FkJyxmdW5jdGlvbiggdXAsIGZpbGUgKSB7XG5cdFx0XHRcdHZhciBzLCBjcm9wZGF0YSwgZm9jdXNwb2ludDtcblxuXHRcdFx0XHRpZiAoIGltYWdlSW5mb3NbZmlsZS5uYW1lXSApIHtcblxuXHRcdFx0XHRcdC8vIGFkZCBmb2N1cyBwb2ludCBhbmQgY3JvcGRhdGEgdG8gZmlsZVxuXHRcdFx0XHRcdGltYWdlaW5mbyA9IGltYWdlSW5mb3NbZmlsZS5uYW1lXTtcblx0XHRcdFx0XHRjcm9wZGF0YSA9IHt9O1xuXHRcdFx0XHRcdGZvciAocyBpbiBpbWFnZV9yYXRpb3MpIHtcblx0XHRcdFx0XHRcdGNyb3BkYXRhWyBpbWFnZV9yYXRpb3Nbc10ubmFtZSBdID0gcm9ib2Nyb3AuY3JvcEZyb21Gb2N1c1BvaW50KCBpbWFnZWluZm8sIGltYWdlX3JhdGlvc1tzXSApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHVwLnNldHRpbmdzLm11bHRpcGFydF9wYXJhbXMuZm9jdXNwb2ludFx0PSBKU09OLnN0cmluZ2lmeSggaW1hZ2VpbmZvLmZvY3VzcG9pbnQgKTtcblx0XHRcdFx0XHR1cC5zZXR0aW5ncy5tdWx0aXBhcnRfcGFyYW1zLmNyb3BkYXRhXHQ9IEpTT04uc3RyaW5naWZ5KCBjcm9wZGF0YSApO1xuXG5cdFx0XHRcdFx0ZGVsZXRlKGltYWdlSW5mb3NbZmlsZS5uYW1lXSlcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH1cblx0fSk7XG5cbn0pKCBqUXVlcnkgKTtcblxuIl19
