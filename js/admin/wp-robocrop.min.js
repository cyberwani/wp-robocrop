!function(t){var e;e={cropFromFocusPoint:function(t,e){var o=(t.focuspoint.x+1)/2*t.width,i=(1-t.focuspoint.y)/2*t.height,s=Math.min(t.width/e.min_width,t.height/e.min_height),n=e.min_width*s,a=e.min_height*s,r=Math.min(Math.max(o-n/2,0),t.width-n),c=Math.min(Math.max(i-a/2,0),t.height-a);return{names:e.sizes,x:r/t.width,y:c/t.height,width:n/t.width,height:a/t.height}},relToAbsCoords:function(t,e){var o,i={};for(o in t)switch(o){case"x":case"x1":case"x2":case"width":i[o]=t[o]*e.width;break;case"y":case"y1":case"y2":case"height":i[o]=t[o]*e.height;break;default:i[o]=t[o]}return i},absToRelCoords:function(t,e){var o,i={};for(o in t)switch(o){case"x":case"x1":case"x2":case"width":i[o]=t[o]/e.width;break;case"y":case"y1":case"y2":case"height":i[o]=t[o]/e.height;break;default:i[o]=t[o]}return i},pointToRectCoords:function(t){return{x:t.x1,y:t.y1,width:t.x2-t.x1,height:t.y2-t.y1}},rectToPointCoords:function(t){return{x1:t.x,y1:t.y,x2:t.maxX?t.maxX:t.x+t.width,y2:t.maxY?t.maxY:t.y+t.height}},view:{},controller:{}},t.media.robocrop=e}(wp),function(t,e){var o=window.wp_robocrop.image_ratios,i=window.wp_robocrop.image_sizes,s=window.wp_robocrop.l10n;window.wp_robocrop.options;t.media.robocrop.view.Img=t.media.View.extend({className:"attachment-image",tagName:"img",id:"robocrop-image",initialize:function(){_.defaults(this.options,{src:""}),this.$el.attr("src",this.options.src)},getSrc:function(t){return this.$el.attr("src")},setSrc:function(t){return!!t&&this.$el.attr("src",t),this}}),t.media.robocrop.view.RobocropRatioSelect=t.media.View.extend({className:"robocrop-select",template:t.template("robocrop-select"),events:{'click [name="robocrop-select-ratio"]':"selectRatio"},initialize:function(){t.Backbone.View.prototype.initialize.apply(this,arguments),_.defaults({ratios:{},tools:{}},this.options),this.options.l10n=s},render:function(){t.Backbone.View.prototype.render.apply(this,arguments);var o=this;_.each(this.options.tools,function(e,i){o.views.add(new t.media.robocrop.view.RobocropRatioSelectItem({ratiokey:i,sizenames:!1,ratio:i,title:e.title,enabled:!0}))}),_.each(this.options.ratios,function(s,n){var a=[],r=_.template('<span class="sizename<%= cancrop ? "" : " disabled" %>"><%= name %> (<%= width %>Ã—<%= height %>)</span>');_.each(s.sizes,function(t,s){var n=e.extend(!0,{cancrop:o.model.get("width")>=i[t].width&&o.model.get("height")>=i[t].height},i[t]);n.crop&&a.push(r(n))}),o.views.add(new t.media.robocrop.view.RobocropRatioSelectItem({ratiokey:n,sizenames:a.join(""),ratio:n,title:n+" : 1",enabled:o.model.get("width")>=s.min_width&&o.model.get("height")>=s.min_height}))})},setSelected:function(t){this.$el.find('[name="robocrop-select-ratio"][value="'+t+'"]').prop("checked",!0),this.selectRatio()},getSelected:function(){return this.$el.find('[name="robocrop-select-ratio"]:checked').val()},selectRatio:function(t){this.options.ratios[this.getSelected()]?this.trigger("select-ratio"):this.options.tools[this.getSelected()]&&this.trigger("select-tool"),this.trigger("select")}}),t.media.robocrop.view.RobocropRatioSelectItem=t.media.View.extend({className:"robocrop-select-item",template:t.template("robocrop-select-item"),sizekey:"",sizenames:"",ratio:0,enabled:null,render:function(){t.Backbone.View.prototype.render.apply(this,arguments),this.$el.find('input[type="radio"]').prop("disabled",!this.options.enabled)}}),t.media.robocrop.view.RobocropImage=t.media.View.extend({className:"image-robocrop",template:t.template("robocrop"),image_ratios:o,image_sizes:i,_croppers:null,events:{"click .robocrop-autocrop-current":"autocrop","click .robocrop-autocrop-all":"autocropAll"},initialize:function(e){this._croppers={},this.image=new t.media.robocrop.view.Img({src:this.model.get("url")}),this.controller=e.controller,this.focuspointtool=new t.media.robocrop.view.focuspoint.ImageFocusPointSelect({image:this.image,focuspoint:this.model.get("url")}),this.listenTo(this.focuspointtool,"changed",this.updateFocusPoint),t.media.View.prototype.initialize.apply(this,arguments)},dismiss:function(){var t=this.$areaSelect();t&&t.remove(),this.$el.remove()},createSelect:function(){this.select=new t.media.robocrop.view.RobocropRatioSelect({choices:choices})},hasChanged:function(){this.trigger("changed")},render:function(){var e=this;return t.media.View.prototype.render.apply(this,arguments),this.views.set(".robocrop-content",this.focuspointtool),this.focuspointtool.setFocuspoint(this.model.get("focuspoint")),this.image.$el.imgAreaSelect({parent:this.image.$el.closest(".robocrop-image-box"),instance:!0,handles:!0,keys:!0,persistent:!0,enabled:!0,movable:!0,resizable:!0,imageHeight:this.model.get("height"),imageWidth:this.model.get("width"),onSelectEnd:function(o,i){var s=t.media.robocrop.pointToRectCoords(i);e._setCropSizes(s),e.hasChanged()}}),this.selectRatio=new t.media.robocrop.view.RobocropRatioSelect({tools:{focuspoint:{title:s.SetFocusPoint,trigger:"focuspoint"}},ratios:this.image_ratios,model:this.model}),this.selectRatio.on("select-ratio",this.onselectratio,this).on("select-tool",this.onselecttool,this).on("select",this.updateButtons,this),this.views.set(".select-ratio",this.selectRatio),this.$autoButton=this.$el.find(".robocrop-autocrop-current"),this.$autoAllButton=this.$el.find(".robocrop-autocrop-all"),this},ready:function(){var e,o;return t.media.view.EditImage.prototype.ready.apply(this,arguments),_.isUndefined(this.options.sizeToSelect)||(o=_.find(this.image_ratios,function(t){return t.sizes.indexOf(this.options.sizeToSelect)>-1},this))&&(e=o.name),_.isUndefined(e)&&(e="focuspoint"),this.selectRatio.setSelected(e),this},save:function(){var t={attachments:{}},o=this.model.get("id"),i=this.$autoAllButton.add(this.$autoButton).prop("disabled",!0),s=this;return t.attachments[o]={sizes:this.model.get("sizes"),focuspoint:this.model.get("focuspoint")},this.model.saveCompat(t,{}).done(function(t){var o=new Date;_.each(s.model.attributes.sizes,function(t,i){var s='img[src^="'+t.url+'"]',n=function(){e(this).removeAttr("src").attr("src",t.url+"?"+o.getTime())};refresh_mce=function(){e(this).removeAttr("data-mce-src").attr("data-mce-src",t.url+"?"+o.getTime())},"full"!==i&&(e(document).add(e("iframe").contents()).find(s).each(n),e(".mce-edit-area iframe").each(function(){e(this).contents().find(s).each(n).each(refresh_mce)}))},s),i.prop("disabled",!1),s.trigger("saved")}),this},updateButtons:function(){var t=this.selectRatio.getSelected();this.$autoButton.toggleClass("hidden","focuspoint"===t),this.$autoAllButton.toggleClass("hidden","focuspoint"!==t)},onselecttool:function(){var t=this.selectRatio.getSelected();switch(this.$areaSelect().cancelSelection(),t){case"focuspoint":this.focuspointtool.setEnabled(!0)}},onselectratio:function(){this.focuspointtool.setEnabled(!1);var t,e,o,s=this.selectRatio.getSelected(),n=this.model.get("sizes"),a=this,r=this.model.get("width"),c=this.model.get("height");if(this.current_ratio=this.image_ratios[s],o={aspectRatio:this.current_ratio.ratio+":1",minWidth:this.current_ratio.min_width,minHeight:this.current_ratio.min_height},_.each(this.current_ratio.sizes,function(t){!e&&n[t]&&n[t].cropdata&&(e=n[t].cropdata),i[t].width<=r&&i[t].height<=c&&(o.minWidth=Math.max(o.minWidth,i[t].width),o.minHeight=Math.max(o.minHeight,i[t].height))}),e)t={},_.extend(t,e);else{var h=Math.min(this.model.get("width")/this.current_ratio.ratio,this.model.get("height"));t={x:0,y:0,width:h*this.current_ratio.ratio,height:h},t.x=(this.model.get("width")-t.width)/2,t.y=(this.model.get("height")-t.height)/2}return this.$areaSelect().setOptions(o),this.image.$el.get(0).complete?this.selectCrop(t):this.image.$el.on("load",function(){a.selectCrop(t)}),this},autocrop:function(e){var o,i={width:this.model.get("width"),height:this.model.get("height"),focuspoint:this.model.get("focuspoint")};return o=t.media.robocrop.cropFromFocusPoint(i,this.current_ratio),o=t.media.robocrop.relToAbsCoords(o,i),this._setCropSizes(o),this.selectCrop(o),this},autocropAll:function(e){var o=this,i={width:this.model.get("width"),height:this.model.get("height"),focuspoint:this.model.get("focuspoint")};return _.each(this.image_ratios,function(e){var s;s=t.media.robocrop.cropFromFocusPoint(i,e),s=t.media.robocrop.relToAbsCoords(s,i),o._setCropSizes(s,e)}),this},selectCrop:function(e){var o=(this._image_scale_factor(),t.media.robocrop.rectToPointCoords(e)),i=this.$areaSelect();return i.setSelection(o.x1,o.y1,o.x2,o.y2,!1),i.setOptions({show:!0}),i.update(),this},$areaSelect:function(){return this.image.$el.data("imgAreaSelect")},_image_scale_factor:function(){var t=this.image.$el.closest(".robocrop-image-box"),e=Math.min(this.model.get("width"),t.width()),o=Math.min(this.model.get("height"),t.height());return Math.min(e/this.model.get("width"),o/this.model.get("height"))},updateFocusPoint:function(){this.model.set("focuspoint",this.focuspointtool.getFocuspoint())},_setCropSizes:function(t,e){var o=this.model.get("sizes");e=e||this.current_ratio,_.each(e.sizes,function(e){!o[e]&&(o[e]={}),o[e].cropdata=t}),this.model.set("sizes",o)},_getRelativeCoords:function(t){var e=this.model.get("width"),o=this.model.get("height");for(var i in t)if("number"==typeof t[i])switch(i){case"x":case"x1":case"x2":case"width":case"minX":case"maxX":t[i]/=e;break;default:t[i]/=o}},_getAbsoluteCoords:function(t){var e=this.model.get("width"),o=this.model.get("height");for(var i in t)if("number"==typeof t[i])switch(i){case"x":case"x1":case"x2":case"width":case"minX":case"maxX":t[i]*=e;break;default:t[i]*=o}}}),t.media.robocrop.view.Frame=t.media.view.MediaFrame.extend({template:t.template("robocrop-modal"),regions:["title","content","instructions","buttons"]}),t.media.robocrop.view.Frame.Crop=t.media.robocrop.view.Frame.extend({events:{"click .robocrop-save":"save","click .robocrop-cancel":"close"},save:function(){this.$(".robocrop-save, .robocrop-cancel").prop("disabled",!0),this._content.save()},initialize:function(e){t.media.robocrop.view.Frame.prototype.initialize.apply(this,arguments),this.createTitle(),this.createContent(),this.createButtons(),this.on("close",this.dismiss,this),this.listenTo(this._content,"saved",this.modelSync)},modelSync:function(){this.$(".robocrop-save, .robocrop-cancel").prop("disabled",!1)},dismiss:function(){this._content.dismiss()},createTitle:function(){this._title=new t.media.View({tagName:"h1"}),this._title.$el.text(s.AttachmentDetails),this.title.set([this._title])},createContent:function(){var e=_.extend({controller:this.controller,model:this.model},this.options);this._content=new t.media.robocrop.view.RobocropImage(e),this.content.set([this._content])},createButtons:function(){this.buttons.set([new t.media.view.Button({text:s.Close,className:"button-secondary robocrop-cancel"}),new t.media.view.Button({text:s.SaveChanges,className:"button-primary robocrop-save"})])}})}(wp,jQuery),function(t,e){var o=(window.wp_robocrop.image_ratios,window.wp_robocrop.image_sizes,window.wp_robocrop.l10n),i=t.media.View;t.media.view.MediaFrame;t.media.robocrop.view.focuspoint={},t.media.robocrop.view.focuspoint.FocusPoint=i.extend({className:"tool-focuspoint",template:t.template("focuspoint"),initialize:function(){var t=this;_.defaults(this.options,{focuspoint:{x:0,y:0},enabled:!1}),this.$el.on("click",function(e){t.clickFocuspoint(e)})},setEnabled:function(t){var e=this.options.enabled;return this.options.enabled=t,e},clickFocuspoint:function(t){this.options.enabled&&this.setFocuspoint({x:2*t.offsetX/e(t.target).width()-1,y:-2*t.offsetY/e(t.target).height()+1})},getFocuspoint:function(){return this.focuspoint},setFocuspoint:function(t){return this.focuspoint=t,this.$el.find(".focuspoint").css({left:50*(t.x+1)+"%",bottom:50*(t.y+1)+"%"}),this.options.enabled&&this.trigger("change:focuspoint",this.focuspoint),this}}),t.media.robocrop.view.focuspoint.ImageFocusPointSelect=i.extend({className:"robocrop-image-box",initialize:function(){_.defaults(this.options,{controller:this,focuspoint:{x:0,y:0},src:!1,image:!1,enabled:!1});!1!==this.options.image&&this.options.image.constructor.prototype==t.media.robocrop.view.Img.prototype?this.image=this.options.image:!1!==this.options.src?this.image=new t.media.robocrop.view.Img({src:this.options.src}):this.image=new t.media.robocrop.view.Img({src:""},this.options.image),this.focuspoint=new t.media.robocrop.view.focuspoint.FocusPoint({controller:this.controller,focuspoint:this.options.focuspoint,enabled:this.options.enabled}),this.listenTo(this.focuspoint,"change:focuspoint",this.valueChanged)},setEnabled:function(t){return this.focuspoint.setEnabled(t)},render:function(){this.views.set([this.image,this.focuspoint])},getFocuspoint:function(){return this.focuspoint.getFocuspoint()},setFocuspoint:function(t){return this.focuspoint&&this.focuspoint.setFocuspoint(t),this},getImageWidth:function(){return this.image.$el.get(0).naturalWidth},getImageHeight:function(){return this.image.$el.get(0).naturalHeight},setSrc:function(t){return this.image.$el.attr("src",t),this},valueChanged:function(){this.trigger("changed")}}),t.media.robocrop.view.Frame.Focuspoint=t.media.robocrop.view.Frame.extend({className:"ask-focuspoint media-frame",events:{"click .reset":"reset","click .proceed":"proceed","click .cancel-upload":"cancelUpload"},initialize:function(){_.defaults(this.options,{uploader:!1,title:o.SetFocusPoint,modal:!!this.options&&this.options.modal,src:""}),t.media.robocrop.view.Frame.prototype.initialize.apply(this,arguments),this.modal&&this.modal.on("escape",this.cancelUpload,this),this.createTitle(),this.createContent(),this.createInstructions(),this.createButtons()},createTitle:function(){this._title=new t.media.View({tagName:"h1"}),this._title.$el.text(this.options.title),this.title.set([this._title])},createContent:function(){this._content=new t.media.robocrop.view.focuspoint.ImageFocusPointSelect({src:"",focuspoint:{x:0,y:0},controller:this,enabled:!0}),this.content.set([this._content])},createInstructions:function(){this.instructions.set([new t.media.View({el:e('<div class="instructions">'+o.FocusPointInstructions+"</div>")[0],priority:-40})])},createButtons:function(){this.buttons.set([new t.media.view.Button({text:o.CancelUpload,className:"cancel-upload"}),new t.media.view.Button({text:o.Reset,className:"reset"}),new t.media.view.Button({text:o.Okay,className:"button-primary proceed"})])},setSrc:function(t){this._content.setSrc(t)},setFile:function(t){var e=this,o=new FileReader;o.onload=function(t){e.setSrc(o.result)},o.readAsDataURL(t)},setFocuspoint:function(t){this._content.setFocuspoint(t)},getFocuspoint:function(){return this._content.getFocuspoint()},getImageWidth:function(){return this._content.getImageWidth()},getImageHeight:function(){return this._content.getImageHeight()},reset:function(t){this.setFocuspoint({x:0,y:0})},proceed:function(t){this.trigger("proceed")},cancelUpload:function(t){this.trigger("cancel-upload"),this.close()}})}(wp,jQuery),function(t,e){var o=(window.wp_robocrop.image_ratios,window.wp_robocrop.image_sizes,window.wp_robocrop.l10n),i=(window.wp_robocrop.options,'<button type="button" class="button robocrop-open">'+o.EditImageSizes+"</button>"),s='<button type="button" class="button-link robocrop-open">'+o.EditImageSizes+"</button>",n={createStates:function(){this._parentCreateStates.apply(this,arguments),this.states.add(new t.media.robocrop.controller.RobocropImage({model:this.model,selection:this.options.selection}))}};_.extend(t.media.view.ImageDetails.prototype,{_parentPostRender:t.media.view.ImageDetails.prototype.postRender,postRender:function(){this._parentPostRender.apply(this,arguments),this.$el.find(".actions").append(i)},robocropOpen:function(e){console.log();var o=this.model.get("size");new t.media.robocrop.view.Frame.Crop({controller:this.controller,model:this.controller.image.attachment,sizeToSelect:o}).open()}}),t.media.view.ImageDetails.prototype.events["click .robocrop-open"]="robocropOpen",_.extend(t.media.view.Attachment.Details.prototype,{_parentRender:t.media.view.Attachment.Details.prototype.render,render:function(){this._parentRender.apply(this,arguments),"image"===this.model.get("type")&&(this.$(".attachment-actions").append(i),e(s).insertAfter(this.$el.find("a.edit-attachment")))},robocropOpen:function(e){new t.media.robocrop.view.Frame.Crop({controller:this.controller,model:this.model}).open()},_parentCreateStates:t.media.view.Attachment.Details.prototype.createStates},n),t.media.view.Attachment.Details.prototype.events["click .robocrop-open"]="robocropOpen"}(wp,jQuery),function(t){var e=window.wp_robocrop.image_ratios,o=(window.wp_robocrop.image_sizes,window.wp_robocrop.options),i={};o.ask_for_focuspoint&&_.extend(wp.media.view.UploaderWindow.prototype,{_parentReady:wp.media.view.UploaderWindow.prototype.ready,didReady:!1,ready:function(){function o(e){var s;a&&a.close().dispose(),r.length?(s=r.shift(),a=new wp.media.robocrop.view.Frame.Focuspoint({controller:t(this)}),a.on("proceed",function(){i[s.file.name]={focuspoint:a.getFocuspoint(),width:a.getImageWidth(),height:a.getImageHeight()},o(e)}).on("cancel-upload",function(){s.file.attachment.destroy()}),a.setFocuspoint({x:0,y:0}),a.setFile(s.blob),a.open()):e.start()}function s(t,e){r.push(t)}function n(t){var e={file:t,blob:t.getNative()};return e.blob||(e.blob=t.getSource()),e}var a,r=[];return this.didReady?this._parentReady.apply(this,arguments):(this.didReady=!0,ret=this._parentReady.apply(this,arguments),this.uploader.uploader.bind("FilesAdded",function(t,e){for(var i,a=0;a<e.length;a++)"image/png"!=e[a].type&&"image/jpeg"!=e[a].type||(i=n(e[a]),i.blob instanceof Blob&&s(i,t));r.length&&(t.stop(),t.refresh(),o(t),console.log("askfocus"))}),this.uploader.uploader.bind("BeforeUpload",function(t,o){var s,n;if(i[o.name]){imageinfo=i[o.name],n={};for(s in e)n[e[s].name]=wp.media.robocrop.cropFromFocusPoint(imageinfo,e[s]);t.settings.multipart_params.focuspoint=JSON.stringify(imageinfo.focuspoint),t.settings.multipart_params.cropdata=JSON.stringify(n),delete i[o.name]}}),ret)}})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndwLXJvYm9jcm9wLmpzIl0sIm5hbWVzIjpbImV4cG9ydHMiLCJyb2JvY3JvcCIsImNyb3BGcm9tRm9jdXNQb2ludCIsImltYWdlaW5mbyIsImNyb3BpbmZvIiwiZnBfeCIsImZvY3VzcG9pbnQiLCJ4Iiwid2lkdGgiLCJmcF95IiwieSIsImhlaWdodCIsInNjYWxlIiwiTWF0aCIsIm1pbiIsIm1pbl93aWR0aCIsIm1pbl9oZWlnaHQiLCJjcm9wX3ciLCJjcm9wX2giLCJjcm9wX3giLCJtYXgiLCJjcm9wX3kiLCJuYW1lcyIsInNpemVzIiwicmVsVG9BYnNDb29yZHMiLCJjcm9wZGF0YSIsInMiLCJyZXQiLCJhYnNUb1JlbENvb3JkcyIsInBvaW50VG9SZWN0Q29vcmRzIiwicG9pbnRzIiwieDEiLCJ5MSIsIngyIiwieTIiLCJyZWN0VG9Qb2ludENvb3JkcyIsInJlY3QiLCJtYXhYIiwibWF4WSIsInZpZXciLCJjb250cm9sbGVyIiwibWVkaWEiLCJ3cCIsIiQiLCJpbWFnZV9yYXRpb3MiLCJ3aW5kb3ciLCJ3cF9yb2JvY3JvcCIsImltYWdlX3NpemVzIiwibDEwbiIsIm9wdGlvbnMiLCJJbWciLCJWaWV3IiwiZXh0ZW5kIiwiY2xhc3NOYW1lIiwidGFnTmFtZSIsImlkIiwiaW5pdGlhbGl6ZSIsIl8iLCJkZWZhdWx0cyIsInRoaXMiLCJzcmMiLCIkZWwiLCJhdHRyIiwiZ2V0U3JjIiwic2V0U3JjIiwiUm9ib2Nyb3BSYXRpb1NlbGVjdCIsInRlbXBsYXRlIiwiZXZlbnRzIiwiY2xpY2sgW25hbWU9XCJyb2JvY3JvcC1zZWxlY3QtcmF0aW9cIl0iLCJCYWNrYm9uZSIsInByb3RvdHlwZSIsImFwcGx5IiwiYXJndW1lbnRzIiwicmF0aW9zIiwidG9vbHMiLCJyZW5kZXIiLCJzZWxmIiwiZWFjaCIsInRvb2wiLCJrZXkiLCJ2aWV3cyIsImFkZCIsIlJvYm9jcm9wUmF0aW9TZWxlY3RJdGVtIiwicmF0aW9rZXkiLCJzaXplbmFtZXMiLCJyYXRpbyIsInRpdGxlIiwiZW5hYmxlZCIsIm5hbWVfdHBsIiwic2l6ZW5hbWUiLCJzaXplIiwiY2FuY3JvcCIsIm1vZGVsIiwiZ2V0IiwiY3JvcCIsInB1c2giLCJqb2luIiwic2V0U2VsZWN0ZWQiLCJmaW5kIiwicHJvcCIsInNlbGVjdFJhdGlvIiwiZ2V0U2VsZWN0ZWQiLCJ2YWwiLCJldmVudCIsInRyaWdnZXIiLCJzaXpla2V5IiwiUm9ib2Nyb3BJbWFnZSIsIl9jcm9wcGVycyIsImNsaWNrIC5yb2JvY3JvcC1hdXRvY3JvcC1jdXJyZW50IiwiY2xpY2sgLnJvYm9jcm9wLWF1dG9jcm9wLWFsbCIsImltYWdlIiwiZm9jdXNwb2ludHRvb2wiLCJJbWFnZUZvY3VzUG9pbnRTZWxlY3QiLCJsaXN0ZW5UbyIsInVwZGF0ZUZvY3VzUG9pbnQiLCJkaXNtaXNzIiwiYXJlYVNlbGVjdCIsIiRhcmVhU2VsZWN0IiwicmVtb3ZlIiwiY3JlYXRlU2VsZWN0Iiwic2VsZWN0IiwiY2hvaWNlcyIsImhhc0NoYW5nZWQiLCJzZXQiLCJzZXRGb2N1c3BvaW50IiwiaW1nQXJlYVNlbGVjdCIsInBhcmVudCIsImNsb3Nlc3QiLCJpbnN0YW5jZSIsImhhbmRsZXMiLCJrZXlzIiwicGVyc2lzdGVudCIsIm1vdmFibGUiLCJyZXNpemFibGUiLCJpbWFnZUhlaWdodCIsImltYWdlV2lkdGgiLCJvblNlbGVjdEVuZCIsImNvb3JkcyIsIl9zZXRDcm9wU2l6ZXMiLCJTZXRGb2N1c1BvaW50Iiwib24iLCJvbnNlbGVjdHJhdGlvIiwib25zZWxlY3R0b29sIiwidXBkYXRlQnV0dG9ucyIsIiRhdXRvQnV0dG9uIiwiJGF1dG9BbGxCdXR0b24iLCJyZWFkeSIsImN1cnJlbnRSYXRpbyIsImZvdW5kIiwiRWRpdEltYWdlIiwiaXNVbmRlZmluZWQiLCJzaXplVG9TZWxlY3QiLCJpbmRleE9mIiwibmFtZSIsInNhdmUiLCJkYXRhIiwiYXR0YWNobWVudHMiLCIkYnRucyIsInNhdmVDb21wYXQiLCJkb25lIiwicmVzcCIsImQiLCJEYXRlIiwiYXR0cmlidXRlcyIsInNlbGVjdG9yIiwidXJsIiwicmVmcmVzaCIsInJlbW92ZUF0dHIiLCJnZXRUaW1lIiwicmVmcmVzaF9tY2UiLCJkb2N1bWVudCIsImNvbnRlbnRzIiwidG9vbGtleSIsInRvZ2dsZUNsYXNzIiwiY2FuY2VsU2VsZWN0aW9uIiwic2V0RW5hYmxlZCIsImFyZWFTZWxlY3RPcHRpb25zIiwiaW1nV2lkdGgiLCJpbWdIZWlnaHQiLCJjdXJyZW50X3JhdGlvIiwiYXNwZWN0UmF0aW8iLCJtaW5XaWR0aCIsIm1pbkhlaWdodCIsInNldE9wdGlvbnMiLCJjb21wbGV0ZSIsInNlbGVjdENyb3AiLCJhdXRvY3JvcCIsImF1dG9jcm9wQWxsIiwiX2ltYWdlX3NjYWxlX2ZhY3RvciIsInNldFNlbGVjdGlvbiIsInNob3ciLCJ1cGRhdGUiLCIkY29udGFpbmVyIiwidyIsImgiLCJnZXRGb2N1c3BvaW50IiwibW9kZWxTaXplcyIsIl9nZXRSZWxhdGl2ZUNvb3JkcyIsIl9nZXRBYnNvbHV0ZUNvb3JkcyIsIkZyYW1lIiwiTWVkaWFGcmFtZSIsInJlZ2lvbnMiLCJDcm9wIiwiY2xpY2sgLnJvYm9jcm9wLXNhdmUiLCJjbGljayAucm9ib2Nyb3AtY2FuY2VsIiwiX2NvbnRlbnQiLCJjcmVhdGVUaXRsZSIsImNyZWF0ZUNvbnRlbnQiLCJjcmVhdGVCdXR0b25zIiwibW9kZWxTeW5jIiwiX3RpdGxlIiwidGV4dCIsIkF0dGFjaG1lbnREZXRhaWxzIiwib3B0cyIsImNvbnRlbnQiLCJidXR0b25zIiwiQnV0dG9uIiwiQ2xvc2UiLCJTYXZlQ2hhbmdlcyIsImpRdWVyeSIsIkZvY3VzUG9pbnQiLCJjbGlja0ZvY3VzcG9pbnQiLCJwcmV2Iiwib2Zmc2V0WCIsInRhcmdldCIsIm9mZnNldFkiLCJjc3MiLCJsZWZ0IiwiYm90dG9tIiwiY29uc3RydWN0b3IiLCJ2YWx1ZUNoYW5nZWQiLCJnZXRJbWFnZVdpZHRoIiwibmF0dXJhbFdpZHRoIiwiZ2V0SW1hZ2VIZWlnaHQiLCJuYXR1cmFsSGVpZ2h0IiwiRm9jdXNwb2ludCIsImNsaWNrIC5yZXNldCIsImNsaWNrIC5wcm9jZWVkIiwiY2xpY2sgLmNhbmNlbC11cGxvYWQiLCJ1cGxvYWRlciIsIm1vZGFsIiwiY2FuY2VsVXBsb2FkIiwiY3JlYXRlSW5zdHJ1Y3Rpb25zIiwiaW5zdHJ1Y3Rpb25zIiwiZWwiLCJGb2N1c1BvaW50SW5zdHJ1Y3Rpb25zIiwicHJpb3JpdHkiLCJDYW5jZWxVcGxvYWQiLCJSZXNldCIsIk9rYXkiLCJzZXRGaWxlIiwiZmlsZSIsImZyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsInJlc3VsdCIsInJlYWRBc0RhdGFVUkwiLCJyZXNldCIsInByb2NlZWQiLCJjbG9zZSIsImNyb3BCdG5IVE1MIiwiRWRpdEltYWdlU2l6ZXMiLCJjcm9wTGlua0hUTUwiLCJyb2JvY3JvcFN0YXRlRXh0ZW5kIiwiY3JlYXRlU3RhdGVzIiwiX3BhcmVudENyZWF0ZVN0YXRlcyIsInN0YXRlcyIsInNlbGVjdGlvbiIsIkltYWdlRGV0YWlscyIsIl9wYXJlbnRQb3N0UmVuZGVyIiwicG9zdFJlbmRlciIsImFwcGVuZCIsInJvYm9jcm9wT3BlbiIsImNvbnNvbGUiLCJsb2ciLCJhdHRhY2htZW50Iiwib3BlbiIsIkF0dGFjaG1lbnQiLCJEZXRhaWxzIiwiX3BhcmVudFJlbmRlciIsImluc2VydEFmdGVyIiwiaW1hZ2VJbmZvcyIsImFza19mb3JfZm9jdXNwb2ludCIsIlVwbG9hZGVyV2luZG93IiwiX3BhcmVudFJlYWR5IiwiZGlkUmVhZHkiLCJhc2tGb2N1cyIsImZpbGVJdGVtIiwiYXNrTW9kYWwiLCJkaXNwb3NlIiwiYXNrRm9jdXNJbWFnZXMiLCJsZW5ndGgiLCJzaGlmdCIsImRlc3Ryb3kiLCJibG9iIiwic3RhcnQiLCJhZGRBc2tGb2N1cyIsImZpbGVEYXRhIiwicmVzb2x2ZUZpbGUiLCJfcmV0IiwiZ2V0TmF0aXZlIiwiZ2V0U291cmNlIiwiYmluZCIsInVwIiwiZmlsZXMiLCJpIiwidHlwZSIsIkJsb2IiLCJzdG9wIiwic2V0dGluZ3MiLCJtdWx0aXBhcnRfcGFyYW1z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L0csR0FBR0QsTUFBTXhDLFNBQVNDLG1CQUFvQkMsVUFBV3lDLEVBQWFsQixHQUdsR3FSLEdBQUdNLFNBQVNDLGlCQUFpQmhULFdBQWFpVCxLQUFLQyxVQUFXclQsVUFBVUcsWUFDcEV5UyxFQUFHTSxTQUFTQyxpQkFBaUI3UixTQUFXOFIsS0FBS0MsVUFBVy9SLFNBRWpEZ1EsR0FBVzlCLEVBQUtsRyxTQUdsQjlILFNBSU5nTSIsImZpbGUiOiJ3cC1yb2JvY3JvcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBwcmVzZXJ2ZSAoYykgMjAxNiBieSBKb2VybiBMdW5kXG4gKiBAbGljZW5zZSBHUEwzXG4gKi9cbihmdW5jdGlvbiggZXhwb3J0cyApe1xuXHR2YXIgcm9ib2Nyb3A7XG5cblx0cm9ib2Nyb3AgPSB7XG5cdFx0Y3JvcEZyb21Gb2N1c1BvaW50OiBmdW5jdGlvbiggaW1hZ2VpbmZvLCBjcm9waW5mbyApIHtcblx0XHRcdC8vIG5vcm1hbGl6ZSBcblx0XHRcdHZhciBmcF94ID0gICAoICBpbWFnZWluZm8uZm9jdXNwb2ludC54ICsgMSkgLyAyICogaW1hZ2VpbmZvLndpZHRoLFxuXHRcdFx0XHRmcF95ID0gICAoIC1pbWFnZWluZm8uZm9jdXNwb2ludC55ICsgMSkgLyAyICogaW1hZ2VpbmZvLmhlaWdodCxcblx0XHRcdFx0c2NhbGUgPSBNYXRoLm1pbiggaW1hZ2VpbmZvLndpZHRoIC8gY3JvcGluZm8ubWluX3dpZHRoLCBpbWFnZWluZm8uaGVpZ2h0IC8gY3JvcGluZm8ubWluX2hlaWdodCApLFxuXHRcdFx0XHRjcm9wX3cgPSBjcm9waW5mby5taW5fd2lkdGggKiBzY2FsZSxcblx0XHRcdFx0Y3JvcF9oID0gY3JvcGluZm8ubWluX2hlaWdodCAqIHNjYWxlLFxuXHRcdFx0XHRjcm9wX3ggPSBNYXRoLm1pbiggTWF0aC5tYXgoIGZwX3ggLSBjcm9wX3cgLyAyLCAwICkgLCBpbWFnZWluZm8ud2lkdGggLSBjcm9wX3cpLFxuXHRcdFx0XHRjcm9wX3kgPSBNYXRoLm1pbiggTWF0aC5tYXgoIGZwX3kgLSBjcm9wX2ggLyAyLCAwICkgLCBpbWFnZWluZm8uaGVpZ2h0IC0gY3JvcF9oKTtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdG5hbWVzOiBjcm9waW5mby5zaXplcyxcblx0XHRcdFx0eDogY3JvcF94IC8gaW1hZ2VpbmZvLndpZHRoLFxuXHRcdFx0XHR5OiBjcm9wX3kgLyBpbWFnZWluZm8uaGVpZ2h0LFxuXHRcdFx0XHR3aWR0aDogY3JvcF93IC8gaW1hZ2VpbmZvLndpZHRoLFxuXHRcdFx0XHRoZWlnaHQ6IGNyb3BfaCAvIGltYWdlaW5mby5oZWlnaHRcblx0XHRcdH07XG5cdFx0fSxcblxuXHRcdHJlbFRvQWJzQ29vcmRzOiBmdW5jdGlvbiggY3JvcGRhdGEsIGltYWdlaW5mbyApIHtcblx0XHRcdHZhciBzLCByZXQgPSB7fTtcblx0XHRcdGZvciAoIHMgaW4gY3JvcGRhdGEgKSB7XG5cdFx0XHRcdHN3aXRjaCAoIHMgKSB7XG5cdFx0XHRcdFx0Y2FzZSAneCc6XG5cdFx0XHRcdFx0Y2FzZSAneDEnOlxuXHRcdFx0XHRcdGNhc2UgJ3gyJzpcblx0XHRcdFx0XHRjYXNlICd3aWR0aCc6XG5cdFx0XHRcdFx0XHRyZXRbc10gPSBjcm9wZGF0YVtzXSAqIGltYWdlaW5mby53aWR0aFxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAneSc6XG5cdFx0XHRcdFx0Y2FzZSAneTEnOlxuXHRcdFx0XHRcdGNhc2UgJ3kyJzpcblx0XHRcdFx0XHRjYXNlICdoZWlnaHQnOlxuXHRcdFx0XHRcdFx0cmV0W3NdID0gY3JvcGRhdGFbc10gKiBpbWFnZWluZm8uaGVpZ2h0XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0cmV0W3NdID0gY3JvcGRhdGFbc107XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9LFxuXHRcdGFic1RvUmVsQ29vcmRzOiBmdW5jdGlvbiggY3JvcGRhdGEsIGltYWdlaW5mbyApIHtcblx0XHRcdHZhciBzLCByZXQgPSB7fTtcblx0XHRcdGZvciAoIHMgaW4gY3JvcGRhdGEgKSB7XG5cdFx0XHRcdHN3aXRjaCAoIHMgKSB7XG5cdFx0XHRcdFx0Y2FzZSAneCc6XG5cdFx0XHRcdFx0Y2FzZSAneDEnOlxuXHRcdFx0XHRcdGNhc2UgJ3gyJzpcblx0XHRcdFx0XHRjYXNlICd3aWR0aCc6XG5cdFx0XHRcdFx0XHRyZXRbc10gPSBjcm9wZGF0YVtzXSAvIGltYWdlaW5mby53aWR0aFxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAneSc6XG5cdFx0XHRcdFx0Y2FzZSAneTEnOlxuXHRcdFx0XHRcdGNhc2UgJ3kyJzpcblx0XHRcdFx0XHRjYXNlICdoZWlnaHQnOlxuXHRcdFx0XHRcdFx0cmV0W3NdID0gY3JvcGRhdGFbc10gLyBpbWFnZWluZm8uaGVpZ2h0XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0cmV0W3NdID0gY3JvcGRhdGFbc107XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9LFxuXG5cdFx0cG9pbnRUb1JlY3RDb29yZHM6ZnVuY3Rpb24oIHBvaW50cyApIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHg6IHBvaW50cy54MSxcblx0XHRcdFx0eTogcG9pbnRzLnkxLFxuXHRcdFx0XHR3aWR0aDogIHBvaW50cy54MiAtIHBvaW50cy54MSxcblx0XHRcdFx0aGVpZ2h0OiBwb2ludHMueTIgLSBwb2ludHMueTFcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0cmVjdFRvUG9pbnRDb29yZHM6ZnVuY3Rpb24oIHJlY3QgKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHR4MTogcmVjdC54LFxuXHRcdFx0XHR5MTogcmVjdC55LFxuXHRcdFx0XHR4MjogKHJlY3QubWF4WCA/IHJlY3QubWF4WCA6IHJlY3QueCtyZWN0LndpZHRoKSxcblx0XHRcdFx0eTI6IChyZWN0Lm1heFkgPyByZWN0Lm1heFkgOiByZWN0LnkrcmVjdC5oZWlnaHQpLFxuXHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0dmlldyA6IHt9LFxuXHRcdGNvbnRyb2xsZXIgOiB7fVxuXHR9O1xuXG5cdGV4cG9ydHMubWVkaWEucm9ib2Nyb3AgPSByb2JvY3JvcDtcbn0pKCB3cCApO1xuKGZ1bmN0aW9uKHdwLCQpIHtcblxuXHR2YXIgaW1hZ2VfcmF0aW9zXHRcdD0gd2luZG93LndwX3JvYm9jcm9wLmltYWdlX3JhdGlvcyxcblx0XHRpbWFnZV9zaXplc1x0XHRcdD0gd2luZG93LndwX3JvYm9jcm9wLmltYWdlX3NpemVzLFxuXHRcdGwxMG5cdFx0XHRcdD0gd2luZG93LndwX3JvYm9jcm9wLmwxMG4sXG5cdFx0b3B0aW9uc1x0XHRcdFx0PSB3aW5kb3cud3Bfcm9ib2Nyb3Aub3B0aW9ucztcblxuXG5cdC8qKlxuXHQgKlx0QW4gSW1hZ2Vcblx0ICovXG5cdHdwLm1lZGlhLnJvYm9jcm9wLnZpZXcuSW1nID0gd3AubWVkaWEuVmlldy5leHRlbmQoe1xuXHRcdGNsYXNzTmFtZTonYXR0YWNobWVudC1pbWFnZScsXG5cdFx0dGFnTmFtZTonaW1nJyxcblx0XHRpZDoncm9ib2Nyb3AtaW1hZ2UnLFxuXHRcdGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0Xy5kZWZhdWx0cyggdGhpcy5vcHRpb25zLCB7c3JjOicnfSApO1xuXHRcdFx0dGhpcy4kZWwuYXR0cignc3JjJywgdGhpcy5vcHRpb25zLnNyYyApO1xuXHRcdH0sXG5cdFx0Z2V0U3JjOiBmdW5jdGlvbihzcmMpIHtcblx0XHRcdHJldHVybiB0aGlzLiRlbC5hdHRyKCAnc3JjJyApO1xuXHRcdH0sXG5cdFx0c2V0U3JjOiBmdW5jdGlvbihzcmMpIHtcblx0XHRcdCEhc3JjICYmIHRoaXMuJGVsLmF0dHIoICdzcmMnLCBzcmMgKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0fSk7XG5cblxuXHQvKipcblx0ICpcdFJhdGlvIHNlbGVjdCBsaXN0XG5cdCAqL1xuXHR3cC5tZWRpYS5yb2JvY3JvcC52aWV3LlJvYm9jcm9wUmF0aW9TZWxlY3QgPSB3cC5tZWRpYS5WaWV3LmV4dGVuZCh7XG5cdFx0Y2xhc3NOYW1lOiAncm9ib2Nyb3Atc2VsZWN0Jyxcblx0XHR0ZW1wbGF0ZTogd3AudGVtcGxhdGUoJ3JvYm9jcm9wLXNlbGVjdCcpLFxuXHRcdGV2ZW50czoge1xuXHRcdFx0J2NsaWNrIFtuYW1lPVwicm9ib2Nyb3Atc2VsZWN0LXJhdGlvXCJdJzogJ3NlbGVjdFJhdGlvJyxcblx0XHR9LFxuXHRcdGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0d3AuQmFja2JvbmUuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cdFx0XHRfLmRlZmF1bHRzKHtcblx0XHRcdFx0cmF0aW9zOnt9LFxuXHRcdFx0XHR0b29sczp7fVxuXHRcdFx0fSx0aGlzLm9wdGlvbnMpO1xuXHRcdFx0dGhpcy5vcHRpb25zLmwxMG4gPSBsMTBuO1xuXHRcdFx0XG5cdFx0fSxcblx0XHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0d3AuQmFja2JvbmUuVmlldy5wcm90b3R5cGUucmVuZGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdFxuXHRcdFx0Xy5lYWNoKCB0aGlzLm9wdGlvbnMudG9vbHMsIGZ1bmN0aW9uKCB0b29sLCBrZXkgKSB7XG5cdFx0XHRcdHNlbGYudmlld3MuYWRkKG5ldyB3cC5tZWRpYS5yb2JvY3JvcC52aWV3LlJvYm9jcm9wUmF0aW9TZWxlY3RJdGVtKHtcblx0XHRcdFx0XHRyYXRpb2tleTpcdGtleSxcblx0XHRcdFx0XHRzaXplbmFtZXM6XHRmYWxzZSxcblx0XHRcdFx0XHRyYXRpbzogXHRcdGtleSxcblx0XHRcdFx0XHR0aXRsZTpcdFx0dG9vbC50aXRsZSxcblx0XHRcdFx0XHRlbmFibGVkOiBcdHRydWVcblx0XHRcdFx0fSkpXG5cdFx0XHRcdFxuXHRcdFx0fSk7XG5cdFx0XHRfLmVhY2goIHRoaXMub3B0aW9ucy5yYXRpb3MsIGZ1bmN0aW9uKCByYXRpbywga2V5ICkge1xuXHRcdFx0XHR2YXIgbmFtZXMgPSBbXSxcblx0XHRcdFx0XHR0cGxfc3RyID0gJzxzcGFuIGNsYXNzPVwic2l6ZW5hbWU8JT0gY2FuY3JvcCA/IFwiXCIgOiBcIiBkaXNhYmxlZFwiICU+XCI+PCU9IG5hbWUgJT4gKDwlPSB3aWR0aCAlPsOXPCU9IGhlaWdodCAlPik8L3NwYW4+Jyxcblx0XHRcdFx0XHRuYW1lX3RwbCA9IF8udGVtcGxhdGUodHBsX3N0cik7XG5cdFx0XHRcdF8uZWFjaCggcmF0aW8uc2l6ZXMsIGZ1bmN0aW9uKHNpemVuYW1lLGtleSkge1xuXHRcdFx0XHRcdHZhciBzaXplID0gJC5leHRlbmQoIHRydWUsIHtcblx0XHRcdFx0XHRcdGNhbmNyb3AgOlx0KHNlbGYubW9kZWwuZ2V0KCd3aWR0aCcpID49IGltYWdlX3NpemVzW3NpemVuYW1lXS53aWR0aCkgJiZcblx0XHRcdFx0XHRcdFx0XHRcdChzZWxmLm1vZGVsLmdldCgnaGVpZ2h0JykgPj0gaW1hZ2Vfc2l6ZXNbc2l6ZW5hbWVdLmhlaWdodClcblx0XHRcdFx0XHR9LCBpbWFnZV9zaXplc1tzaXplbmFtZV0pO1xuXHRcdFx0XHRcdGlmICggc2l6ZS5jcm9wICkge1xuXHRcdFx0XHRcdFx0bmFtZXMucHVzaCggbmFtZV90cGwoIHNpemUgKSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHRcdHNlbGYudmlld3MuYWRkKG5ldyB3cC5tZWRpYS5yb2JvY3JvcC52aWV3LlJvYm9jcm9wUmF0aW9TZWxlY3RJdGVtKHtcblx0XHRcdFx0XHRyYXRpb2tleTpcdGtleSxcblx0XHRcdFx0XHRzaXplbmFtZXM6XHRuYW1lcy5qb2luKCcnKSxcblx0XHRcdFx0XHRyYXRpbzogXHRcdGtleSxcblx0XHRcdFx0XHR0aXRsZTpcdFx0a2V5ICsgJyA6IDEnLFxuXHRcdFx0XHRcdGVuYWJsZWQ6IFx0KHNlbGYubW9kZWwuZ2V0KCd3aWR0aCcpICA+PSByYXRpby5taW5fd2lkdGgpICYmXG5cdFx0XHRcdFx0XHRcdFx0KHNlbGYubW9kZWwuZ2V0KCdoZWlnaHQnKSA+PSByYXRpby5taW5faGVpZ2h0KVxuXHRcdFx0XHR9KSlcblx0XHRcdH0gKTtcblx0XHRcdFxuXHRcdFx0XG5cdFx0fSxcblx0XHRzZXRTZWxlY3RlZDogZnVuY3Rpb24oIHJhdGlva2V5ICkge1xuXHRcdFx0dGhpcy4kZWwuZmluZCgnW25hbWU9XCJyb2JvY3JvcC1zZWxlY3QtcmF0aW9cIl1bdmFsdWU9XCInK3JhdGlva2V5KydcIl0nKS5wcm9wKCdjaGVja2VkJyx0cnVlKTtcblx0XHRcdHRoaXMuc2VsZWN0UmF0aW8oKTtcblx0XHR9LFxuXHRcdGdldFNlbGVjdGVkOiBmdW5jdGlvbiggKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy4kZWwuZmluZCgnW25hbWU9XCJyb2JvY3JvcC1zZWxlY3QtcmF0aW9cIl06Y2hlY2tlZCcpLnZhbCgpO1xuXHRcdH0sXG5cdFx0c2VsZWN0UmF0aW86IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdGlmICggdGhpcy5vcHRpb25zLnJhdGlvc1sgdGhpcy5nZXRTZWxlY3RlZCgpIF0gKSB7XG5cdFx0XHRcdHRoaXMudHJpZ2dlcignc2VsZWN0LXJhdGlvJyk7XG5cdFx0XHR9IGVsc2UgaWYgKCB0aGlzLm9wdGlvbnMudG9vbHNbIHRoaXMuZ2V0U2VsZWN0ZWQoKSBdICkge1xuXHRcdFx0XHR0aGlzLnRyaWdnZXIoJ3NlbGVjdC10b29sJyk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnRyaWdnZXIoJ3NlbGVjdCcpO1xuXHRcdH1cblx0fSk7XG5cblx0LyoqXG5cdCAqXHRSYXRpbyBzZWxlY3QgbGlzdCBJdGVtXG5cdCAqL1xuXHR3cC5tZWRpYS5yb2JvY3JvcC52aWV3LlJvYm9jcm9wUmF0aW9TZWxlY3RJdGVtID0gd3AubWVkaWEuVmlldy5leHRlbmQoe1xuXHRcdGNsYXNzTmFtZTogJ3JvYm9jcm9wLXNlbGVjdC1pdGVtJyxcblx0XHR0ZW1wbGF0ZTogd3AudGVtcGxhdGUoJ3JvYm9jcm9wLXNlbGVjdC1pdGVtJyksXG5cdFx0c2l6ZWtleTonJyxcblx0XHRzaXplbmFtZXM6JycsXG5cdFx0cmF0aW86MCxcblx0XHRlbmFibGVkOm51bGwsXG5cdFx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRcdHdwLkJhY2tib25lLlZpZXcucHJvdG90eXBlLnJlbmRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cdFx0XHR0aGlzLiRlbC5maW5kKCdpbnB1dFt0eXBlPVwicmFkaW9cIl0nKS5wcm9wKCdkaXNhYmxlZCcsICEgdGhpcy5vcHRpb25zLmVuYWJsZWQgKVxuXHRcdH1cblx0fSk7XG5cblx0d3AubWVkaWEucm9ib2Nyb3Audmlldy5Sb2JvY3JvcEltYWdlID0gd3AubWVkaWEuVmlldy5leHRlbmQoe1xuXHRcdGNsYXNzTmFtZTpcdFx0J2ltYWdlLXJvYm9jcm9wJyxcblx0XHR0ZW1wbGF0ZTpcdFx0d3AudGVtcGxhdGUoJ3JvYm9jcm9wJyksXG5cdFx0aW1hZ2VfcmF0aW9zOlx0aW1hZ2VfcmF0aW9zLFxuXHRcdGltYWdlX3NpemVzOlx0aW1hZ2Vfc2l6ZXMsXG5cdFx0X2Nyb3BwZXJzOlx0XHRudWxsLFxuXHRcdGV2ZW50czoge1xuXHRcdFx0J2NsaWNrIC5yb2JvY3JvcC1hdXRvY3JvcC1jdXJyZW50J1x0OiAnYXV0b2Nyb3AnLFxuXHRcdFx0J2NsaWNrIC5yb2JvY3JvcC1hdXRvY3JvcC1hbGwnXHRcdDogJ2F1dG9jcm9wQWxsJyxcblx0XHR9LFxuXHRcdGluaXRpYWxpemU6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXHRcdC8vXHR3cC5tZWRpYS52aWV3LkVkaXRJbWFnZS5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHR0aGlzLl9jcm9wcGVycyBcdFx0PSB7fTtcblx0XHRcdHRoaXMuaW1hZ2UgXHRcdFx0PSBuZXcgd3AubWVkaWEucm9ib2Nyb3Audmlldy5JbWcoIHtzcmM6IHRoaXMubW9kZWwuZ2V0KCd1cmwnKSB9ICk7XG5cblx0XHRcdHRoaXMuY29udHJvbGxlciBcdD0gb3B0aW9ucy5jb250cm9sbGVyO1xuXHRcdFx0dGhpcy5mb2N1c3BvaW50dG9vbFx0PSBuZXcgd3AubWVkaWEucm9ib2Nyb3Audmlldy5mb2N1c3BvaW50LkltYWdlRm9jdXNQb2ludFNlbGVjdCh7IGltYWdlOiB0aGlzLmltYWdlLCBmb2N1c3BvaW50OiB0aGlzLm1vZGVsLmdldCgndXJsJykgfSk7XG5cdFx0XHR0aGlzLmxpc3RlblRvKCB0aGlzLmZvY3VzcG9pbnR0b29sLCAnY2hhbmdlZCcsIHRoaXMudXBkYXRlRm9jdXNQb2ludCApO1xuXHRcdFx0XG5cdFx0XHR3cC5tZWRpYS5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHR9LFxuXHRcdGRpc21pc3M6ZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgYXJlYVNlbGVjdCA9IHRoaXMuJGFyZWFTZWxlY3QoKVxuXHRcdFx0YXJlYVNlbGVjdCAmJiBhcmVhU2VsZWN0LnJlbW92ZSgpO1xuXHRcdFx0dGhpcy4kZWwucmVtb3ZlKCk7XG5cdFx0fSxcblx0XHRjcmVhdGVTZWxlY3Q6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5zZWxlY3QgPSBuZXcgd3AubWVkaWEucm9ib2Nyb3Audmlldy5Sb2JvY3JvcFJhdGlvU2VsZWN0KHtcblx0XHRcdFx0Y2hvaWNlczogY2hvaWNlc1xuXHRcdFx0fSk7XG5cdFx0fSxcblx0XHRoYXNDaGFuZ2VkOiBmdW5jdGlvbigpe1xuXHRcdFx0dGhpcy50cmlnZ2VyKCAnY2hhbmdlZCcgKTtcblx0XHR9LFxuXHRcdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdHdwLm1lZGlhLlZpZXcucHJvdG90eXBlLnJlbmRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cblx0XHRcdHRoaXMudmlld3Muc2V0KCcucm9ib2Nyb3AtY29udGVudCcsIHRoaXMuZm9jdXNwb2ludHRvb2wgKTtcblxuXHRcdFx0dGhpcy5mb2N1c3BvaW50dG9vbC5zZXRGb2N1c3BvaW50KCB0aGlzLm1vZGVsLmdldCggJ2ZvY3VzcG9pbnQnICkgKTtcblxuXHRcdFx0dGhpcy5pbWFnZS4kZWwuaW1nQXJlYVNlbGVjdCh7XG5cdFx0XHRcdHBhcmVudDogXHRcdHRoaXMuaW1hZ2UuJGVsLmNsb3Nlc3QoJy5yb2JvY3JvcC1pbWFnZS1ib3gnKSxcblx0XHRcdFx0aW5zdGFuY2U6XHQgXHR0cnVlLFxuXHRcdFx0XHRoYW5kbGVzOiBcdFx0dHJ1ZSxcblx0XHRcdFx0a2V5czogXHRcdFx0dHJ1ZSxcblx0XHRcdFx0cGVyc2lzdGVudDpcdFx0dHJ1ZSxcblx0XHRcdFx0ZW5hYmxlZDpcdFx0dHJ1ZSxcblx0XHRcdFx0bW92YWJsZTpcdFx0dHJ1ZSxcblx0XHRcdFx0cmVzaXphYmxlOlx0XHR0cnVlLFxuXHRcdFx0XHRpbWFnZUhlaWdodDpcdHRoaXMubW9kZWwuZ2V0KCdoZWlnaHQnKSxcblx0XHRcdFx0aW1hZ2VXaWR0aDpcdFx0dGhpcy5tb2RlbC5nZXQoJ3dpZHRoJyksXG5cdFx0XHRcdG9uU2VsZWN0RW5kOiBmdW5jdGlvbiggaW1hZ2UsIGNvb3JkcyApIHtcblx0XHRcdFx0XHR2YXIgY3JvcGRhdGEgPSB3cC5tZWRpYS5yb2JvY3JvcC5wb2ludFRvUmVjdENvb3JkcyggY29vcmRzIClcblx0XHRcdFx0XHRzZWxmLl9zZXRDcm9wU2l6ZXMoY3JvcGRhdGEpO1xuXHRcdFx0XHRcdHNlbGYuaGFzQ2hhbmdlZCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gc2V0IHJhdGlvIHNlZWxjdFxuXHRcdFx0dGhpcy5zZWxlY3RSYXRpbyA9IG5ldyB3cC5tZWRpYS5yb2JvY3JvcC52aWV3LlJvYm9jcm9wUmF0aW9TZWxlY3Qoe1xuXHRcdFx0XHR0b29sczoge1xuXHRcdFx0XHRcdGZvY3VzcG9pbnQgOiB7XG5cdFx0XHRcdFx0XHR0aXRsZTogbDEwbi5TZXRGb2N1c1BvaW50LFxuXHRcdFx0XHRcdFx0dHJpZ2dlcjogJ2ZvY3VzcG9pbnQnXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRyYXRpb3M6dGhpcy5pbWFnZV9yYXRpb3MsXG5cdFx0XHRcdG1vZGVsOnRoaXMubW9kZWxcblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5zZWxlY3RSYXRpb1xuXHRcdFx0XHQub24oJ3NlbGVjdC1yYXRpbycsIHRoaXMub25zZWxlY3RyYXRpbywgdGhpcyApXG5cdFx0XHRcdC5vbignc2VsZWN0LXRvb2wnLCB0aGlzLm9uc2VsZWN0dG9vbCwgdGhpcyApXG5cdFx0XHRcdC5vbignc2VsZWN0JywgdGhpcy51cGRhdGVCdXR0b25zLCB0aGlzICk7XG5cblx0XHRcdHRoaXMudmlld3Muc2V0KCcuc2VsZWN0LXJhdGlvJywgdGhpcy5zZWxlY3RSYXRpbyApO1x0XG5cdFx0XHQvLyBzZXRUaW1lb3V0KCBmdW5jdGlvbigpeyB9LDIwKTtcblx0XHRcdFxuXHRcdFx0Ly8gYnV0dG9uc1xuXHRcdFx0dGhpcy4kYXV0b0J1dHRvblx0PSB0aGlzLiRlbC5maW5kKCcucm9ib2Nyb3AtYXV0b2Nyb3AtY3VycmVudCcpO1xuXHRcdFx0dGhpcy4kYXV0b0FsbEJ1dHRvblx0PSB0aGlzLiRlbC5maW5kKCcucm9ib2Nyb3AtYXV0b2Nyb3AtYWxsJyk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHJlYWR5OiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBjdXJyZW50UmF0aW8sIGZvdW5kO1xuXHRcdFx0d3AubWVkaWEudmlldy5FZGl0SW1hZ2UucHJvdG90eXBlLnJlYWR5LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblxuXHRcdFx0aWYgKCAhIF8uaXNVbmRlZmluZWQoIHRoaXMub3B0aW9ucy5zaXplVG9TZWxlY3QgKSApIHtcblx0XHRcdFx0Zm91bmQgPSBfLmZpbmQoIHRoaXMuaW1hZ2VfcmF0aW9zLCBmdW5jdGlvbiggcmF0aW8gKXtcblx0XHRcdFx0XHRyZXR1cm4gcmF0aW8uc2l6ZXMuaW5kZXhPZiggdGhpcy5vcHRpb25zLnNpemVUb1NlbGVjdCApID4gLTE7XG5cdFx0XHRcdH0sIHRoaXMgKTtcblx0XHRcdFx0aWYgKCBmb3VuZCApIHtcblx0XHRcdFx0XHRjdXJyZW50UmF0aW8gPSBmb3VuZC5uYW1lO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmICggXy5pc1VuZGVmaW5lZCggY3VycmVudFJhdGlvICkgKSB7XG5cdFx0XHRcdGN1cnJlbnRSYXRpbyA9ICdmb2N1c3BvaW50JzsvL18uZmlyc3QoXy5rZXlzKCB0aGlzLmltYWdlX3JhdGlvcyApKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuc2VsZWN0UmF0aW8uc2V0U2VsZWN0ZWQoIGN1cnJlbnRSYXRpbyApOyBcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0c2F2ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgZGF0YSA9IHtcblx0XHRcdFx0XHRhdHRhY2htZW50czp7fVxuXHRcdFx0XHR9LCBpZCA9IHRoaXMubW9kZWwuZ2V0KCdpZCcpLFxuXHRcdFx0XHQkYnRucyA9IHRoaXMuJGF1dG9BbGxCdXR0b24uYWRkKCB0aGlzLiRhdXRvQnV0dG9uICkucHJvcCggJ2Rpc2FibGVkJywgdHJ1ZSApLFxuXHRcdFx0XHRzZWxmID0gdGhpcztcblx0XHRcdGRhdGEuYXR0YWNobWVudHNbaWRdID0geyBcblx0XHRcdFx0c2l6ZXM6XHRcdHRoaXMubW9kZWwuZ2V0KCdzaXplcycpLCBcblx0XHRcdFx0Zm9jdXNwb2ludDogdGhpcy5tb2RlbC5nZXQoJ2ZvY3VzcG9pbnQnKVxuXHRcdFx0fTtcblx0XHRcdHRoaXMubW9kZWwuc2F2ZUNvbXBhdCggZGF0YSwge30gKS5kb25lKCBmdW5jdGlvbiggcmVzcCApIHtcblx0XHRcdFx0dmFyIGQgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gZm9yY2UgcmVsb2FkIGltYWdlIC4uLlxuXHRcdFx0XHRfLmVhY2goIHNlbGYubW9kZWwuYXR0cmlidXRlcy5zaXplcywgZnVuY3Rpb24oIHNpemUsIHNpemVuYW1lICkge1xuXHRcdFx0XHRcdHZhciBzZWxlY3RvciA9ICAnaW1nW3NyY149XCInK3NpemUudXJsKydcIl0nLFxuXHRcdFx0XHRcdFx0cmVmcmVzaCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdCQodGhpcykucmVtb3ZlQXR0cignc3JjJykuYXR0ciggJ3NyYycsIHNpemUudXJsKyc/JytkLmdldFRpbWUoKSApO1xuXHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0cmVmcmVzaF9tY2UgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHQkKHRoaXMpLnJlbW92ZUF0dHIoJ2RhdGEtbWNlLXNyYycpLmF0dHIoICdkYXRhLW1jZS1zcmMnLCBzaXplLnVybCsnPycrZC5nZXRUaW1lKCkgKTtcblx0XHRcdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdC8vIC4uLiB1bmxlc3MgaXQncyBmdWxsc2l6ZSAuLi5cblx0XHRcdFx0XHRpZiAoIHNpemVuYW1lICE9PSAnZnVsbCcgKSB7XG5cblx0XHRcdFx0XHRcdCQoZG9jdW1lbnQpLmFkZCggJCgnaWZyYW1lJykuY29udGVudHMoKSApXG5cdFx0XHRcdFx0XHRcdC5maW5kKCBzZWxlY3RvciApXG5cdFx0XHRcdFx0XHRcdC5lYWNoKCByZWZyZXNoICk7XG5cblx0XHRcdFx0XHRcdC8vIC4uLiBpbnNpZGUgdGlueW1jZSBpZnJhbWVzXG5cdFx0XHRcdFx0XHQkKCcubWNlLWVkaXQtYXJlYSBpZnJhbWUnKS5lYWNoKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0XHRcdCQodGhpcykuY29udGVudHMoKVxuXHRcdFx0XHRcdFx0XHRcdC5maW5kKCBzZWxlY3RvciApXG5cdFx0XHRcdFx0XHRcdFx0LmVhY2goIHJlZnJlc2ggKVxuXHRcdFx0XHRcdFx0XHRcdC5lYWNoKCByZWZyZXNoX21jZSApO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LCBzZWxmICk7XG5cdFx0XHRcdCRidG5zLnByb3AoICdkaXNhYmxlZCcsIGZhbHNlICk7XG5cdFx0XHRcdHNlbGYudHJpZ2dlciggJ3NhdmVkJyApO1xuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHVwZGF0ZUJ1dHRvbnM6IGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgdG9vbGtleSA9IHRoaXMuc2VsZWN0UmF0aW8uZ2V0U2VsZWN0ZWQoKTtcblx0XHRcdHRoaXMuJGF1dG9CdXR0b24udG9nZ2xlQ2xhc3MoICdoaWRkZW4nLCB0b29sa2V5ID09PSAnZm9jdXNwb2ludCcgKTtcblx0XHRcdHRoaXMuJGF1dG9BbGxCdXR0b24udG9nZ2xlQ2xhc3MoICdoaWRkZW4nLCB0b29sa2V5ICE9PSAnZm9jdXNwb2ludCcgKTtcblx0XHR9LFxuXHRcdG9uc2VsZWN0dG9vbDogZnVuY3Rpb24oKXtcblx0XHRcdHZhciB0b29sa2V5ID0gdGhpcy5zZWxlY3RSYXRpby5nZXRTZWxlY3RlZCgpO1xuXHRcdFx0dGhpcy4kYXJlYVNlbGVjdCgpLmNhbmNlbFNlbGVjdGlvbigpO1xuXG5cdFx0XHRzd2l0Y2ggKCB0b29sa2V5ICkge1xuXHRcdFx0XHRjYXNlICdmb2N1c3BvaW50Jzpcblx0XHRcdFx0XHQvLyB3cmFwIGFyb3VuZFxuXHRcdFx0XHRcdHRoaXMuZm9jdXNwb2ludHRvb2wuc2V0RW5hYmxlZCggdHJ1ZSApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0b25zZWxlY3RyYXRpbzogZnVuY3Rpb24oICkge1xuXHRcdFx0dGhpcy5mb2N1c3BvaW50dG9vbC5zZXRFbmFibGVkKCBmYWxzZSApO1xuXG5cdFx0XHQvKipcblx0XHRcdCAqXHRPbiBzd2l0Y2ggcmF0aW9cblx0XHRcdCAqL1xuXHRcdFx0dmFyIHJhdGlva2V5ID0gdGhpcy5zZWxlY3RSYXRpby5nZXRTZWxlY3RlZCgpLFxuXHRcdFx0XHRzaXplcyA9IHRoaXMubW9kZWwuZ2V0KCdzaXplcycpLFxuXHRcdFx0XHRmYWN0b3IsIHJlY3QsIGNyb3BkYXRhLCBzZWxmID0gdGhpcywgXG5cdFx0XHRcdHMsIGFyZWFTZWxlY3RPcHRpb25zLFxuXHRcdFx0XHRpbWdXaWR0aCAgPSB0aGlzLm1vZGVsLmdldCgnd2lkdGgnKSwgXG5cdFx0XHRcdGltZ0hlaWdodCA9IHRoaXMubW9kZWwuZ2V0KCdoZWlnaHQnKTtcblxuXHRcdFx0dGhpcy5jdXJyZW50X3JhdGlvID0gdGhpcy5pbWFnZV9yYXRpb3NbcmF0aW9rZXldO1xuXG5cdFx0XHRhcmVhU2VsZWN0T3B0aW9ucyA9IHtcblx0XHRcdFx0YXNwZWN0UmF0aW86XHR0aGlzLmN1cnJlbnRfcmF0aW8ucmF0aW8gKyAnOjEnLFxuXHRcdFx0XHRtaW5XaWR0aDpcdFx0dGhpcy5jdXJyZW50X3JhdGlvLm1pbl93aWR0aCxcblx0XHRcdFx0bWluSGVpZ2h0Olx0XHR0aGlzLmN1cnJlbnRfcmF0aW8ubWluX2hlaWdodFxuXHRcdFx0fTtcblxuXHRcdFx0Xy5lYWNoKHRoaXMuY3VycmVudF9yYXRpby5zaXplcywgZnVuY3Rpb24oc2l6ZSl7XG5cdFx0XHRcdGlmICggISBjcm9wZGF0YSAmJiAhISBzaXplc1tzaXplXSAmJiAhISBzaXplc1tzaXplXS5jcm9wZGF0YSApIHtcblx0XHRcdFx0XHRjcm9wZGF0YSA9IHNpemVzW3NpemVdLmNyb3BkYXRhO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggaW1hZ2Vfc2l6ZXNbc2l6ZV0ud2lkdGggPD0gaW1nV2lkdGggJiYgaW1hZ2Vfc2l6ZXNbc2l6ZV0uaGVpZ2h0IDw9IGltZ0hlaWdodCApIHtcblx0XHRcdFx0XHRhcmVhU2VsZWN0T3B0aW9ucy5taW5XaWR0aCAgPSBNYXRoLm1heCggYXJlYVNlbGVjdE9wdGlvbnMubWluV2lkdGgsICBpbWFnZV9zaXplc1tzaXplXS53aWR0aCApO1xuXHRcdFx0XHRcdGFyZWFTZWxlY3RPcHRpb25zLm1pbkhlaWdodCA9IE1hdGgubWF4KCBhcmVhU2VsZWN0T3B0aW9ucy5taW5IZWlnaHQsIGltYWdlX3NpemVzW3NpemVdLmhlaWdodCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0aWYgKCAhY3JvcGRhdGEgKSB7XG5cdFx0XHRcdC8vIHdwIGRlZmF1bHQgY3JvcGRhdGFcblx0XHRcdFx0dmFyIHNjYWxlID0gTWF0aC5taW4oIHRoaXMubW9kZWwuZ2V0KCd3aWR0aCcpIC8gdGhpcy5jdXJyZW50X3JhdGlvLnJhdGlvLCB0aGlzLm1vZGVsLmdldCgnaGVpZ2h0JykpO1xuXHRcdFx0XHRcblx0XHRcdFx0cmVjdCA9IHtcblx0XHRcdFx0XHR4OjAsXG5cdFx0XHRcdFx0eTowLFxuXHRcdFx0XHRcdHdpZHRoOiAgc2NhbGUgKiB0aGlzLmN1cnJlbnRfcmF0aW8ucmF0aW8sXG5cdFx0XHRcdFx0aGVpZ2h0OiBzY2FsZVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRyZWN0LnggPSAodGhpcy5tb2RlbC5nZXQoJ3dpZHRoJykgLSByZWN0LndpZHRoKS8yO1xuXHRcdFx0XHRyZWN0LnkgPSAodGhpcy5tb2RlbC5nZXQoJ2hlaWdodCcpIC0gcmVjdC5oZWlnaHQpLzI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZWN0ID0ge307XG5cdFx0XHRcdFxuXHRcdFx0XHRfLmV4dGVuZChyZWN0LGNyb3BkYXRhKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy4kYXJlYVNlbGVjdCgpLnNldE9wdGlvbnMoIGFyZWFTZWxlY3RPcHRpb25zICk7XG5cdFx0XHRpZiAoICEgdGhpcy5pbWFnZS4kZWwuZ2V0KDApLmNvbXBsZXRlICkge1xuXHRcdFx0XHR0aGlzLmltYWdlLiRlbC5vbignbG9hZCcsZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0c2VsZi5zZWxlY3RDcm9wKHJlY3QpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuc2VsZWN0Q3JvcChyZWN0KTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0YXV0b2Nyb3A6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdC8vIGNyb3AgYnkgZm9jdXMgcG9pbnRcblx0XHRcdFxuXHRcdFx0dmFyIGNyb3BkYXRhLCBpbWFnZWluZm8gPSB7XG5cdFx0XHRcdFx0d2lkdGg6XHRcdHRoaXMubW9kZWwuZ2V0KCd3aWR0aCcpLFxuXHRcdFx0XHRcdGhlaWdodDpcdFx0dGhpcy5tb2RlbC5nZXQoJ2hlaWdodCcpLFxuXHRcdFx0XHRcdGZvY3VzcG9pbnQ6XHR0aGlzLm1vZGVsLmdldCgnZm9jdXNwb2ludCcpXG5cdFx0XHRcdH07XG5cdFx0XHRjcm9wZGF0YSA9IHdwLm1lZGlhLnJvYm9jcm9wLmNyb3BGcm9tRm9jdXNQb2ludCggaW1hZ2VpbmZvLCB0aGlzLmN1cnJlbnRfcmF0aW8gKTtcblx0XHRcdGNyb3BkYXRhID0gd3AubWVkaWEucm9ib2Nyb3AucmVsVG9BYnNDb29yZHMoIGNyb3BkYXRhLCBpbWFnZWluZm8gKTtcblxuXHRcdFx0dGhpcy5fc2V0Q3JvcFNpemVzKCBjcm9wZGF0YSApO1xuXHRcdFx0dGhpcy5zZWxlY3RDcm9wKCBjcm9wZGF0YSApO1xuXG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdGF1dG9jcm9wQWxsOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXMsXG5cdFx0XHRcdGltYWdlaW5mbyA9IHtcblx0XHRcdFx0XHR3aWR0aDpcdFx0dGhpcy5tb2RlbC5nZXQoJ3dpZHRoJyksXG5cdFx0XHRcdFx0aGVpZ2h0Olx0XHR0aGlzLm1vZGVsLmdldCgnaGVpZ2h0JyksXG5cdFx0XHRcdFx0Zm9jdXNwb2ludDpcdHRoaXMubW9kZWwuZ2V0KCdmb2N1c3BvaW50Jylcblx0XHRcdFx0fTtcblxuXHRcdFx0Xy5lYWNoKCB0aGlzLmltYWdlX3JhdGlvcywgZnVuY3Rpb24oIHJhdGlvICkge1xuXHRcdFx0XHR2YXIgY3JvcGRhdGE7XG5cdFx0XHRcdGNyb3BkYXRhID0gd3AubWVkaWEucm9ib2Nyb3AuY3JvcEZyb21Gb2N1c1BvaW50KCBpbWFnZWluZm8sIHJhdGlvICk7XG5cdFx0XHRcdGNyb3BkYXRhID0gd3AubWVkaWEucm9ib2Nyb3AucmVsVG9BYnNDb29yZHMoIGNyb3BkYXRhLCBpbWFnZWluZm8gKTtcblx0XHRcdFx0c2VsZi5fc2V0Q3JvcFNpemVzKCBjcm9wZGF0YSwgcmF0aW8gKTtcblx0XHRcdH0gKTtcblxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRzZWxlY3RDcm9wOmZ1bmN0aW9uKCByZWN0ICkge1xuXHRcdFx0Ly8gZHJhdyBjcm9wIFVJIGVsZW1lbnQuXG5cdFx0XHR2YXIgZmFjdG9yID0gdGhpcy5faW1hZ2Vfc2NhbGVfZmFjdG9yKCksXG5cdFx0XHRcdHBvaW50cyA9IHdwLm1lZGlhLnJvYm9jcm9wLnJlY3RUb1BvaW50Q29vcmRzKCByZWN0ICksXG5cdFx0XHRcdCRhcmVhU2VsZWN0ID0gdGhpcy4kYXJlYVNlbGVjdCgpO1xuXHRcdFx0XG5cdFx0XHQkYXJlYVNlbGVjdC5zZXRTZWxlY3Rpb24oIHBvaW50cy54MSwgcG9pbnRzLnkxLCBwb2ludHMueDIsIHBvaW50cy55MiwgZmFsc2UgKTtcblx0XHRcdCRhcmVhU2VsZWN0LnNldE9wdGlvbnMoIHtzaG93OnRydWV9ICk7XG5cdFx0XHQkYXJlYVNlbGVjdC51cGRhdGUoKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0JGFyZWFTZWxlY3QgOiBmdW5jdGlvbigpe1xuXHRcdFx0cmV0dXJuIHRoaXMuaW1hZ2UuJGVsLmRhdGEoJ2ltZ0FyZWFTZWxlY3QnKTtcblx0XHR9LFxuXHRcdF9pbWFnZV9zY2FsZV9mYWN0b3IgOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciAkY29udGFpbmVyID0gdGhpcy5pbWFnZS4kZWwuY2xvc2VzdCgnLnJvYm9jcm9wLWltYWdlLWJveCcpLFxuXHRcdFx0XHR3ID0gTWF0aC5taW4odGhpcy5tb2RlbC5nZXQoJ3dpZHRoJyksJGNvbnRhaW5lci53aWR0aCgpKSxcblx0XHRcdFx0aCA9IE1hdGgubWluKHRoaXMubW9kZWwuZ2V0KCdoZWlnaHQnKSwkY29udGFpbmVyLmhlaWdodCgpKTtcblx0XHRcdFxuXHRcdFx0cmV0dXJuIE1hdGgubWluKCB3IC8gdGhpcy5tb2RlbC5nZXQoJ3dpZHRoJyksIGggLyB0aGlzLm1vZGVsLmdldCgnaGVpZ2h0JykgKTtcblx0XHR9LFxuXHRcdHVwZGF0ZUZvY3VzUG9pbnQ6IGZ1bmN0aW9uKCApIHtcblx0XHRcdHRoaXMubW9kZWwuc2V0KCAnZm9jdXNwb2ludCcsIHRoaXMuZm9jdXNwb2ludHRvb2wuZ2V0Rm9jdXNwb2ludCgpICk7XG5cdFx0fSxcblx0XHRfc2V0Q3JvcFNpemVzIDogZnVuY3Rpb24oIGNyb3BkYXRhLCByYXRpbyApIHtcblx0XHRcdHZhciBtb2RlbFNpemVzID0gdGhpcy5tb2RlbC5nZXQoJ3NpemVzJylcblx0XHRcdFx0cmF0aW8gPSByYXRpbyB8fCB0aGlzLmN1cnJlbnRfcmF0aW87XG5cdFx0XHRfLmVhY2gocmF0aW8uc2l6ZXMsIGZ1bmN0aW9uKCBzaXplbmFtZSApIHtcblx0XHRcdFx0ISBtb2RlbFNpemVzWyBzaXplbmFtZSBdICYmICggbW9kZWxTaXplc1sgc2l6ZW5hbWUgXSA9IHt9ICk7XG5cdFx0XHRcdG1vZGVsU2l6ZXNbIHNpemVuYW1lIF0uY3JvcGRhdGEgPSBjcm9wZGF0YTtcblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5tb2RlbC5zZXQoICdzaXplcycsIG1vZGVsU2l6ZXMgKTtcblx0XHR9LFxuXHRcdF9nZXRSZWxhdGl2ZUNvb3JkczogZnVuY3Rpb24oIGNvb3JkcyApIHtcblx0XHRcdHZhciB3ID0gdGhpcy5tb2RlbC5nZXQoJ3dpZHRoJyksXG5cdFx0XHRcdGggPSB0aGlzLm1vZGVsLmdldCgnaGVpZ2h0Jyk7XG5cdFx0XHRmb3IgKCB2YXIgcyBpbiBjb29yZHMgKSB7XG5cdFx0XHRcdGlmICggJ251bWJlcic9PT10eXBlb2YoY29vcmRzW3NdKSApIHtcblx0XHRcdFx0XHRzd2l0Y2ggKHMpIHtcblx0XHRcdFx0XHRcdGNhc2UgJ3gnOlxuXHRcdFx0XHRcdFx0Y2FzZSAneDEnOlxuXHRcdFx0XHRcdFx0Y2FzZSAneDInOlxuXHRcdFx0XHRcdFx0Y2FzZSAnd2lkdGgnOlxuXHRcdFx0XHRcdFx0Y2FzZSAnbWluWCc6XG5cdFx0XHRcdFx0XHRjYXNlICdtYXhYJzpcblx0XHRcdFx0XHRcdFx0Y29vcmRzW3NdIC89IHc7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdFx0Y29vcmRzW3NdIC89IGg7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0X2dldEFic29sdXRlQ29vcmRzOiBmdW5jdGlvbiggY29vcmRzICkge1xuXHRcdFx0dmFyIHcgPSB0aGlzLm1vZGVsLmdldCgnd2lkdGgnKSxcblx0XHRcdFx0aCA9IHRoaXMubW9kZWwuZ2V0KCdoZWlnaHQnKTtcblx0XHRcdGZvciAoIHZhciBzIGluIGNvb3JkcyApIHtcblx0XHRcdFx0aWYgKCAnbnVtYmVyJz09PXR5cGVvZihjb29yZHNbc10pICkge1xuXHRcdFx0XHRcdHN3aXRjaCAocykge1xuXHRcdFx0XHRcdFx0Y2FzZSAneCc6XG5cdFx0XHRcdFx0XHRjYXNlICd4MSc6XG5cdFx0XHRcdFx0XHRjYXNlICd4Mic6XG5cdFx0XHRcdFx0XHRjYXNlICd3aWR0aCc6XG5cdFx0XHRcdFx0XHRjYXNlICdtaW5YJzpcblx0XHRcdFx0XHRcdGNhc2UgJ21heFgnOlxuXHRcdFx0XHRcdFx0XHRjb29yZHNbc10gKj0gdztcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0XHRjb29yZHNbc10gKj0gaDtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcblxuXG5cblxuXHR3cC5tZWRpYS5yb2JvY3JvcC52aWV3LkZyYW1lID0gd3AubWVkaWEudmlldy5NZWRpYUZyYW1lLmV4dGVuZCh7XG5cdFx0dGVtcGxhdGU6ICB3cC50ZW1wbGF0ZSgncm9ib2Nyb3AtbW9kYWwnKSxcblx0XHRyZWdpb25zOiAgIFsndGl0bGUnLCdjb250ZW50JywnaW5zdHJ1Y3Rpb25zJywnYnV0dG9ucyddXG5cdH0pO1xuXG5cdHdwLm1lZGlhLnJvYm9jcm9wLnZpZXcuRnJhbWUuQ3JvcCA9IHdwLm1lZGlhLnJvYm9jcm9wLnZpZXcuRnJhbWUuZXh0ZW5kKHtcblx0XHRldmVudHM6IHtcblx0XHRcdCdjbGljayAucm9ib2Nyb3Atc2F2ZSdcdFx0OiAnc2F2ZScsXG5cdFx0XHQnY2xpY2sgLnJvYm9jcm9wLWNhbmNlbCdcdDogJ2Nsb3NlJyxcblx0XHR9LFxuXHRcdHNhdmU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy4kKCcucm9ib2Nyb3Atc2F2ZSwgLnJvYm9jcm9wLWNhbmNlbCcpLnByb3AoICdkaXNhYmxlZCcsIHRydWUgKTtcblx0XHRcdHRoaXMuX2NvbnRlbnQuc2F2ZSgpO1xuXHRcdH0sXG5cdFx0aW5pdGlhbGl6ZTogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdFx0XHR3cC5tZWRpYS5yb2JvY3JvcC52aWV3LkZyYW1lLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblxuXHRcdFx0dGhpcy5jcmVhdGVUaXRsZSgpO1xuXHRcdFx0dGhpcy5jcmVhdGVDb250ZW50KCk7XG5cdFx0XHR0aGlzLmNyZWF0ZUJ1dHRvbnMoKTtcblxuXHRcdFx0dGhpcy5vbignY2xvc2UnLCB0aGlzLmRpc21pc3MsIHRoaXMgKTtcblx0XHRcdHRoaXMubGlzdGVuVG8oIHRoaXMuX2NvbnRlbnQsICdzYXZlZCcsIHRoaXMubW9kZWxTeW5jICk7XG5cdFx0fSxcblx0XHRtb2RlbFN5bmM6IGZ1bmN0aW9uKCl7XG5cdFx0XHR0aGlzLiQoJy5yb2JvY3JvcC1zYXZlLCAucm9ib2Nyb3AtY2FuY2VsJykucHJvcCggJ2Rpc2FibGVkJywgZmFsc2UgKTtcblx0XHR9LFxuXHRcdGRpc21pc3M6ZnVuY3Rpb24oKXtcblx0XHRcdHRoaXMuX2NvbnRlbnQuZGlzbWlzcygpO1xuXHRcdH0sXG5cdFx0Y3JlYXRlVGl0bGU6IGZ1bmN0aW9uKCApIHtcblx0XHRcdHRoaXMuX3RpdGxlID0gbmV3IHdwLm1lZGlhLlZpZXcoe1xuXHRcdFx0XHR0YWdOYW1lOiAnaDEnXG5cdFx0XHR9KTtcblx0XHRcdHRoaXMuX3RpdGxlLiRlbC50ZXh0KCBsMTBuLkF0dGFjaG1lbnREZXRhaWxzICk7XG5cdFx0XHR0aGlzLnRpdGxlLnNldCggWyB0aGlzLl90aXRsZSBdICk7XG5cdFx0fSxcblx0XHRjcmVhdGVDb250ZW50OiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBvcHRzID0gXy5leHRlbmQoe1xuXHRcdFx0XHRjb250cm9sbGVyOiB0aGlzLmNvbnRyb2xsZXIsXG5cdFx0XHRcdG1vZGVsOiB0aGlzLm1vZGVsXG5cdFx0XHR9LCB0aGlzLm9wdGlvbnMgKTtcblx0XHRcdHRoaXMuX2NvbnRlbnQgPSBuZXcgd3AubWVkaWEucm9ib2Nyb3Audmlldy5Sb2JvY3JvcEltYWdlKCBvcHRzICk7XG5cdFx0XHR0aGlzLmNvbnRlbnQuc2V0KCBbIHRoaXMuX2NvbnRlbnQgXSApO1xuXHRcdH0sXG5cdFx0Y3JlYXRlQnV0dG9uczogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgaW5mbywgYnRuO1xuXG5cdFx0XHR0aGlzLmJ1dHRvbnMuc2V0KCBbXG5cdFx0XHRcdG5ldyB3cC5tZWRpYS52aWV3LkJ1dHRvbih7XG5cdFx0XHRcdFx0dGV4dDogbDEwbi5DbG9zZSxcblx0XHRcdFx0XHRjbGFzc05hbWU6ICdidXR0b24tc2Vjb25kYXJ5IHJvYm9jcm9wLWNhbmNlbCdcblx0XHRcdFx0fSksXG5cdFx0XHRcdG5ldyB3cC5tZWRpYS52aWV3LkJ1dHRvbih7XG5cdFx0XHRcdFx0dGV4dDogbDEwbi5TYXZlQ2hhbmdlcyxcblx0XHRcdFx0XHRjbGFzc05hbWU6ICdidXR0b24tcHJpbWFyeSByb2JvY3JvcC1zYXZlJ1xuXHRcdFx0XHR9KVxuXHRcdFx0XSApO1xuXHRcdH1cblx0fSk7XG5cblxuXG5cbn0pKHdwLGpRdWVyeSk7XG5cbihmdW5jdGlvbih3cCwkKSB7XG5cblx0dmFyIGltYWdlX3JhdGlvcyA9IHdpbmRvdy53cF9yb2JvY3JvcC5pbWFnZV9yYXRpb3MsXG5cdFx0aW1hZ2Vfc2l6ZXMgID0gd2luZG93LndwX3JvYm9jcm9wLmltYWdlX3NpemVzLFxuXHRcdGwxMG4gPSB3aW5kb3cud3Bfcm9ib2Nyb3AubDEwbjtcblxuXHR2YXIgVmlld1x0XHQ9IHdwLm1lZGlhLlZpZXcsXG5cdFx0TWVkaWFGcmFtZVx0PSB3cC5tZWRpYS52aWV3Lk1lZGlhRnJhbWU7XG5cdFxuXHR3cC5tZWRpYS5yb2JvY3JvcC52aWV3LmZvY3VzcG9pbnQgPSB7fTtcblxuXHR3cC5tZWRpYS5yb2JvY3JvcC52aWV3LmZvY3VzcG9pbnQuRm9jdXNQb2ludCA9IFZpZXcuZXh0ZW5kKHtcblx0XHRjbGFzc05hbWU6XHQndG9vbC1mb2N1c3BvaW50Jyxcblx0XHR0ZW1wbGF0ZTpcdHdwLnRlbXBsYXRlKCdmb2N1c3BvaW50JyksXG5cdFx0aW5pdGlhbGl6ZTogZnVuY3Rpb24oKXtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdF8uZGVmYXVsdHMoIHRoaXMub3B0aW9ucywgeyBmb2N1c3BvaW50Ont4OjAseTowfSwgZW5hYmxlZDogZmFsc2UgfSApO1xuXG5cdFx0XHR0aGlzLiRlbC5vbignY2xpY2snLGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0c2VsZi5jbGlja0ZvY3VzcG9pbnQoIGV2ZW50ICk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcdHNldEVuYWJsZWQ6IGZ1bmN0aW9uKCBlbmFibGVkICkge1xuXHRcdFx0dmFyIHByZXYgPSB0aGlzLm9wdGlvbnMuZW5hYmxlZDtcblx0XHRcdHRoaXMub3B0aW9ucy5lbmFibGVkID0gZW5hYmxlZDtcblx0XHRcdHJldHVybiBwcmV2O1xuXHRcdH0sXG5cdFx0Y2xpY2tGb2N1c3BvaW50OiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5lbmFibGVkICkge1xuXHRcdFx0XHR0aGlzLnNldEZvY3VzcG9pbnQoIHtcblx0XHRcdFx0XHR4OiAgMiAqIGV2ZW50Lm9mZnNldFggLyAkKCBldmVudC50YXJnZXQgKS53aWR0aCgpICAtIDEsXG5cdFx0XHRcdFx0eTogLTIgKiBldmVudC5vZmZzZXRZIC8gJCggZXZlbnQudGFyZ2V0ICkuaGVpZ2h0KCkgKyAxLFxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRnZXRGb2N1c3BvaW50OiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB0aGlzLmZvY3VzcG9pbnQ7XG5cdFx0fSxcblx0XHRzZXRGb2N1c3BvaW50OiBmdW5jdGlvbiggZm9jdXNwb2ludCApIHtcblx0XHRcdHRoaXMuZm9jdXNwb2ludCA9IGZvY3VzcG9pbnQ7XG5cdFx0XHRcblx0XHRcdHRoaXMuJGVsLmZpbmQoJy5mb2N1c3BvaW50JykuY3NzKHtcblx0XHRcdFx0bGVmdDogXHQoKGZvY3VzcG9pbnQueCArIDEpICogNTApKyclJyxcblx0XHRcdFx0Ym90dG9tOlx0KChmb2N1c3BvaW50LnkgKyAxKSAqIDUwKSsnJSdcblx0XHRcdH0pO1xuXHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMuZW5hYmxlZCApIHtcblx0XHRcdFx0dGhpcy50cmlnZ2VyKCdjaGFuZ2U6Zm9jdXNwb2ludCcsIHRoaXMuZm9jdXNwb2ludCApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0fSk7XG5cblx0d3AubWVkaWEucm9ib2Nyb3Audmlldy5mb2N1c3BvaW50LkltYWdlRm9jdXNQb2ludFNlbGVjdCA9IFZpZXcuZXh0ZW5kKHtcblx0XHRjbGFzc05hbWU6XHQncm9ib2Nyb3AtaW1hZ2UtYm94JyxcblxuXHRcdGluaXRpYWxpemU6IGZ1bmN0aW9uKCApe1xuXHRcdFx0Xy5kZWZhdWx0cyggdGhpcy5vcHRpb25zLCB7IGNvbnRyb2xsZXI6dGhpcywgZm9jdXNwb2ludDp7eDowLHk6MH0sIHNyYzogZmFsc2UsIGltYWdlOiBmYWxzZSwgZW5hYmxlZDpmYWxzZSB9ICk7XG5cdFx0XHR2YXIgc2VsZiBcdFx0PSB0aGlzO1xuXG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5pbWFnZSAhPT0gZmFsc2UgJiYgKHRoaXMub3B0aW9ucy5pbWFnZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgPT0gd3AubWVkaWEucm9ib2Nyb3Audmlldy5JbWcucHJvdG90eXBlICkgKSB7XG5cdFx0XHRcdHRoaXMuaW1hZ2UgPSB0aGlzLm9wdGlvbnMuaW1hZ2U7XG5cdFx0XHR9IGVsc2UgaWYgKCB0aGlzLm9wdGlvbnMuc3JjICE9PSBmYWxzZSApIHtcblx0XHRcdFx0dGhpcy5pbWFnZVx0PSBuZXcgd3AubWVkaWEucm9ib2Nyb3Audmlldy5JbWcoeyBzcmM6IHRoaXMub3B0aW9ucy5zcmMgfSk7XG5cdFx0XHR9IGVsc2UgIHtcblx0XHRcdFx0dGhpcy5pbWFnZSA9IG5ldyB3cC5tZWRpYS5yb2JvY3JvcC52aWV3LkltZyh7IHNyYzogJycgfSx0aGlzLm9wdGlvbnMuaW1hZ2UpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmZvY3VzcG9pbnRcdD0gbmV3IHdwLm1lZGlhLnJvYm9jcm9wLnZpZXcuZm9jdXNwb2ludC5Gb2N1c1BvaW50KHsgXG5cdFx0XHRcdGNvbnRyb2xsZXI6IHRoaXMuY29udHJvbGxlcixcblx0XHRcdFx0Zm9jdXNwb2ludDogdGhpcy5vcHRpb25zLmZvY3VzcG9pbnQsXG5cdFx0XHRcdGVuYWJsZWQ6IFx0dGhpcy5vcHRpb25zLmVuYWJsZWRcblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5saXN0ZW5UbyggdGhpcy5mb2N1c3BvaW50LCAnY2hhbmdlOmZvY3VzcG9pbnQnLCB0aGlzLnZhbHVlQ2hhbmdlZCApO1xuXHRcdH0sXG5cdFx0c2V0RW5hYmxlZDogZnVuY3Rpb24oIGVuYWJsZWQgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5mb2N1c3BvaW50LnNldEVuYWJsZWQoIGVuYWJsZWQgKVxuXHRcdH0sXG5cdFx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMudmlld3Muc2V0KCBbIHRoaXMuaW1hZ2UsIHRoaXMuZm9jdXNwb2ludCBdICk7XG5cdFx0fSxcblx0XHRnZXRGb2N1c3BvaW50OiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB0aGlzLmZvY3VzcG9pbnQuZ2V0Rm9jdXNwb2ludCgpO1xuXHRcdH0sXG5cdFx0c2V0Rm9jdXNwb2ludDogZnVuY3Rpb24oIGZvY3VzcG9pbnQgKSB7XG5cdFx0XHR0aGlzLmZvY3VzcG9pbnQgJiYgdGhpcy5mb2N1c3BvaW50LnNldEZvY3VzcG9pbnQoIGZvY3VzcG9pbnQgKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0Z2V0SW1hZ2VXaWR0aDogZnVuY3Rpb24oICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuaW1hZ2UuJGVsLmdldCgwKS5uYXR1cmFsV2lkdGg7XG5cdFx0fSxcblx0XHRnZXRJbWFnZUhlaWdodDogZnVuY3Rpb24oICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuaW1hZ2UuJGVsLmdldCgwKS5uYXR1cmFsSGVpZ2h0O1xuXHRcdH0sXG5cdFx0c2V0U3JjOiBmdW5jdGlvbiggc3JjICkge1xuXHRcdFx0dGhpcy5pbWFnZS4kZWwuYXR0ciggJ3NyYycsIHNyYyApO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHR2YWx1ZUNoYW5nZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy50cmlnZ2VyKCdjaGFuZ2VkJyk7XG5cdFx0fVxuXHR9KTtcblxuXHR3cC5tZWRpYS5yb2JvY3JvcC52aWV3LkZyYW1lLkZvY3VzcG9pbnQgPSB3cC5tZWRpYS5yb2JvY3JvcC52aWV3LkZyYW1lLmV4dGVuZCh7XG5cdFx0Y2xhc3NOYW1lOiAnYXNrLWZvY3VzcG9pbnQgbWVkaWEtZnJhbWUnLFxuXHRcdGV2ZW50czoge1xuXHRcdFx0J2NsaWNrIC5yZXNldCc6ICdyZXNldCcsXG5cdFx0XHQnY2xpY2sgLnByb2NlZWQnOiAncHJvY2VlZCcsXG5cdFx0XHQnY2xpY2sgLmNhbmNlbC11cGxvYWQnOiAnY2FuY2VsVXBsb2FkJyxcblx0XHR9LFxuXHRcdGluaXRpYWxpemU6IGZ1bmN0aW9uKCApIHtcblxuXHRcdFx0Xy5kZWZhdWx0cyggdGhpcy5vcHRpb25zLCB7XG5cdFx0XHRcdHVwbG9hZGVyOlx0ZmFsc2UsXG5cdFx0XHRcdHRpdGxlOlx0XHRsMTBuLlNldEZvY3VzUG9pbnQsXG5cdFx0XHRcdG1vZGFsOiB0aGlzLm9wdGlvbnMgPyB0aGlzLm9wdGlvbnMubW9kYWwgOiBmYWxzZSxcblx0XHRcdFx0c3JjOiAnJyAvLyBleHBlY3RpbmcgYW4gaW1nIGVsZW1lbnRcblx0XHRcdH0pO1xuXG5cdFx0XHR3cC5tZWRpYS5yb2JvY3JvcC52aWV3LkZyYW1lLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblxuXHRcdFx0aWYgKCB0aGlzLm1vZGFsICkge1xuXHRcdFx0XHR0aGlzLm1vZGFsLm9uKCdlc2NhcGUnLCB0aGlzLmNhbmNlbFVwbG9hZCwgdGhpcyApO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5jcmVhdGVUaXRsZSgpO1xuXHRcdFx0dGhpcy5jcmVhdGVDb250ZW50KCk7XG5cdFx0XHR0aGlzLmNyZWF0ZUluc3RydWN0aW9ucygpO1xuXHRcdFx0dGhpcy5jcmVhdGVCdXR0b25zKCk7XG5cdFx0fSxcbi8vIFx0XHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuLy8gXHRcdFx0Ly8gZnJhbWUgbGF5b3V0XG4vLyBcbi8vIFx0XHRcdHdwLm1lZGlhLnJvYm9jcm9wLnZpZXcuTW9kYWwucHJvdG90eXBlLnJlbmRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG4vLyBcdFx0fSxcblx0XHRjcmVhdGVUaXRsZTogZnVuY3Rpb24oICkge1xuXHRcdFx0dGhpcy5fdGl0bGUgPSBuZXcgd3AubWVkaWEuVmlldyh7XG5cdFx0XHRcdHRhZ05hbWU6ICdoMSdcblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5fdGl0bGUuJGVsLnRleHQoIHRoaXMub3B0aW9ucy50aXRsZSApO1xuXHRcdFx0dGhpcy50aXRsZS5zZXQoIFsgdGhpcy5fdGl0bGUgXSApO1xuXHRcdH0sXG5cdFx0Y3JlYXRlQ29udGVudDogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLl9jb250ZW50ID0gbmV3IHdwLm1lZGlhLnJvYm9jcm9wLnZpZXcuZm9jdXNwb2ludC5JbWFnZUZvY3VzUG9pbnRTZWxlY3Qoe1xuXHRcdFx0XHRzcmM6ICcnLFxuXHRcdFx0XHRmb2N1c3BvaW50OnsgeDowLCB5OjAgfSxcblx0XHRcdFx0Y29udHJvbGxlcjogdGhpcyxcblx0XHRcdFx0ZW5hYmxlZDogdHJ1ZVxuXHRcdFx0fSk7XG5cdFx0XHR0aGlzLmNvbnRlbnQuc2V0KCBbIHRoaXMuX2NvbnRlbnQgXSApO1xuXHRcdH0sXG5cdFx0Y3JlYXRlSW5zdHJ1Y3Rpb25zOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpbmZvLCBidG47XG5cdFx0XHR0aGlzLmluc3RydWN0aW9ucy5zZXQoIFtcblx0XHRcdFx0bmV3IHdwLm1lZGlhLlZpZXcoe1xuXHRcdFx0XHRcdGVsOiAkKCAnPGRpdiBjbGFzcz1cImluc3RydWN0aW9uc1wiPicgKyBsMTBuLkZvY3VzUG9pbnRJbnN0cnVjdGlvbnMgKyAnPC9kaXY+JyApWzBdLFxuXHRcdFx0XHRcdHByaW9yaXR5OiAtNDBcblx0XHRcdFx0fSlcblx0XHRcdF0gKTtcblx0XHR9LFxuXHRcdGNyZWF0ZUJ1dHRvbnM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGluZm8sIGJ0bjtcblxuXHRcdFx0dGhpcy5idXR0b25zLnNldCggW1xuXHRcdFx0XHRuZXcgd3AubWVkaWEudmlldy5CdXR0b24oe1xuXHRcdFx0XHRcdHRleHQ6IGwxMG4uQ2FuY2VsVXBsb2FkLFxuXHRcdFx0XHRcdGNsYXNzTmFtZTogJ2NhbmNlbC11cGxvYWQnXG5cdFx0XHRcdH0pLFxuXHRcdFx0XHRuZXcgd3AubWVkaWEudmlldy5CdXR0b24oe1xuXHRcdFx0XHRcdHRleHQ6IGwxMG4uUmVzZXQsXG5cdFx0XHRcdFx0Y2xhc3NOYW1lOiAncmVzZXQnXG5cdFx0XHRcdH0pLFxuXHRcdFx0XHRuZXcgd3AubWVkaWEudmlldy5CdXR0b24oe1xuXHRcdFx0XHRcdHRleHQ6IGwxMG4uT2theSxcblx0XHRcdFx0XHRjbGFzc05hbWU6ICdidXR0b24tcHJpbWFyeSBwcm9jZWVkJ1xuXHRcdFx0XHR9KVxuXHRcdFx0XSApO1xuXHRcdH0sXG5cblx0XHRzZXRTcmM6IGZ1bmN0aW9uKCBzcmMgKSB7XG5cdFx0XHR0aGlzLl9jb250ZW50LnNldFNyYyggc3JjICk7XG5cdFx0fSxcblx0XHRzZXRGaWxlOiBmdW5jdGlvbiggZmlsZSApIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcywgZnIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXHRcdFx0ZnIub25sb2FkID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRzZWxmLnNldFNyYyggZnIucmVzdWx0ICk7XG5cdFx0XHR9XG5cdFx0XHRmci5yZWFkQXNEYXRhVVJMKCBmaWxlICk7XG5cdFx0fSxcblx0XHRzZXRGb2N1c3BvaW50OiBmdW5jdGlvbiggZm9jdXNwb2ludCApIHtcblx0XHRcdHRoaXMuX2NvbnRlbnQuc2V0Rm9jdXNwb2ludCggZm9jdXNwb2ludCApO1xuXHRcdH0sXG5cdFx0Z2V0Rm9jdXNwb2ludDogZnVuY3Rpb24oICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX2NvbnRlbnQuZ2V0Rm9jdXNwb2ludCgpO1xuXHRcdH0sXG5cdFx0Z2V0SW1hZ2VXaWR0aDogZnVuY3Rpb24oICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX2NvbnRlbnQuZ2V0SW1hZ2VXaWR0aCgpO1xuXHRcdH0sXG5cdFx0Z2V0SW1hZ2VIZWlnaHQ6IGZ1bmN0aW9uKCApIHtcblx0XHRcdHJldHVybiB0aGlzLl9jb250ZW50LmdldEltYWdlSGVpZ2h0KCk7XG5cdFx0fSxcblx0XHRyZXNldDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0dGhpcy5zZXRGb2N1c3BvaW50KCB7IHg6MCwgeTowIH0gKVxuXHRcdH0sXG5cdFx0cHJvY2VlZDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0dGhpcy50cmlnZ2VyKCdwcm9jZWVkJyk7XG5cdFx0fSxcblx0XHRjYW5jZWxVcGxvYWQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdC8vIHJlbW92ZSBmcm9tIHF1ZXVlIVxuXHRcdFx0dGhpcy50cmlnZ2VyKCdjYW5jZWwtdXBsb2FkJyk7XG5cdFx0XHR0aGlzLmNsb3NlKCk7XG5cdFx0fVxuXHR9KTtcblxufSkod3AsalF1ZXJ5KTtcblxuKGZ1bmN0aW9uKHdwLCQpIHtcblxuXHR2YXIgaW1hZ2VfcmF0aW9zXHRcdD0gd2luZG93LndwX3JvYm9jcm9wLmltYWdlX3JhdGlvcyxcblx0XHRpbWFnZV9zaXplc1x0XHRcdD0gd2luZG93LndwX3JvYm9jcm9wLmltYWdlX3NpemVzLFxuXHRcdGwxMG5cdFx0XHRcdD0gd2luZG93LndwX3JvYm9jcm9wLmwxMG4sXG5cdFx0b3B0aW9uc1x0XHRcdFx0PSB3aW5kb3cud3Bfcm9ib2Nyb3Aub3B0aW9ucyxcblx0XHRjcm9wQnRuSFRNTFx0XHRcdD0gJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnV0dG9uIHJvYm9jcm9wLW9wZW5cIj4nK2wxMG4uRWRpdEltYWdlU2l6ZXMrJzwvYnV0dG9uPicsXG5cdFx0Y3JvcExpbmtIVE1MXHRcdD0gJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnV0dG9uLWxpbmsgcm9ib2Nyb3Atb3BlblwiPicrbDEwbi5FZGl0SW1hZ2VTaXplcysnPC9idXR0b24+JztcbiBcblx0dmFyIHJvYm9jcm9wU3RhdGVFeHRlbmQgPSB7XG5cdFx0Y3JlYXRlU3RhdGVzOiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuX3BhcmVudENyZWF0ZVN0YXRlcy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cdFx0XHR0aGlzLnN0YXRlcy5hZGQoXG5cdFx0XHRcdG5ldyB3cC5tZWRpYS5yb2JvY3JvcC5jb250cm9sbGVyLlJvYm9jcm9wSW1hZ2UoIHtcblx0XHRcdFx0XHRtb2RlbDogdGhpcy5tb2RlbCxcblx0XHRcdFx0XHRzZWxlY3Rpb246IHRoaXMub3B0aW9ucy5zZWxlY3Rpb25cblx0XHRcdFx0fSApXG5cdFx0XHQpO1xuXHRcdH1cblx0fTtcblxuXHQvLyBwb3N0IGlubGluZSBpbWFnZSBlZGl0b3Jcblx0Xy5leHRlbmQoIHdwLm1lZGlhLnZpZXcuSW1hZ2VEZXRhaWxzLnByb3RvdHlwZSwge1xuXHRcdF9wYXJlbnRQb3N0UmVuZGVyOiB3cC5tZWRpYS52aWV3LkltYWdlRGV0YWlscy5wcm90b3R5cGUucG9zdFJlbmRlcixcblx0XHRwb3N0UmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuX3BhcmVudFBvc3RSZW5kZXIuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0dGhpcy4kZWwuZmluZCgnLmFjdGlvbnMnKS5hcHBlbmQoY3JvcEJ0bkhUTUwpO1xuXHRcdH0sXG5cdFx0cm9ib2Nyb3BPcGVuOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRjb25zb2xlLmxvZygpO1xuXHRcdFx0dmFyIHNpemUgPSB0aGlzLm1vZGVsLmdldCgnc2l6ZScpLFxuXHRcdFx0XHRjcm9wdG9vbCA9IG5ldyB3cC5tZWRpYS5yb2JvY3JvcC52aWV3LkZyYW1lLkNyb3AoIHsgXG5cdFx0XHRcdFx0Y29udHJvbGxlcjogdGhpcy5jb250cm9sbGVyLCBcblx0XHRcdFx0XHRtb2RlbDogdGhpcy5jb250cm9sbGVyLmltYWdlLmF0dGFjaG1lbnQsXG5cdFx0XHRcdFx0c2l6ZVRvU2VsZWN0OiBzaXplXG5cdFx0XHRcdH0gKTtcblx0XHRcdGNyb3B0b29sLm9wZW4oKTtcblx0XHR9XG5cdH0pO1xuXHR3cC5tZWRpYS52aWV3LkltYWdlRGV0YWlscy5wcm90b3R5cGUuZXZlbnRzWydjbGljayAucm9ib2Nyb3Atb3BlbiddID0gJ3JvYm9jcm9wT3Blbic7XG5cblxuXHQvLyBJbmxpbmUgTWVkaWFMaWJyYXJ5LCBHcmlkIHZpZXcgTWVkaWFMaWJyYXJ5XG5cdF8uZXh0ZW5kKCB3cC5tZWRpYS52aWV3LkF0dGFjaG1lbnQuRGV0YWlscy5wcm90b3R5cGUsIHtcblx0XHRfcGFyZW50UmVuZGVyOiB3cC5tZWRpYS52aWV3LkF0dGFjaG1lbnQuRGV0YWlscy5wcm90b3R5cGUucmVuZGVyLFxuXHRcdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLl9wYXJlbnRSZW5kZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0Ly8gbWVkaWEgbGlicmFyeSBzY3JlZW5cblx0XHRcdGlmICggdGhpcy5tb2RlbC5nZXQoJ3R5cGUnKSA9PT0gJ2ltYWdlJyApIHtcblx0XHRcdFx0dGhpcy4kKCcuYXR0YWNobWVudC1hY3Rpb25zJykuYXBwZW5kKGNyb3BCdG5IVE1MKTtcblx0XHRcdFx0JCggY3JvcExpbmtIVE1MICkuaW5zZXJ0QWZ0ZXIoIHRoaXMuJGVsLmZpbmQoICdhLmVkaXQtYXR0YWNobWVudCcgKSApO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0cm9ib2Nyb3BPcGVuOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHR2YXIgY3JvcHRvb2wgPSBuZXcgd3AubWVkaWEucm9ib2Nyb3Audmlldy5GcmFtZS5Dcm9wKCB7IFxuXHRcdFx0XHRcdGNvbnRyb2xsZXI6IHRoaXMuY29udHJvbGxlciwgXG5cdFx0XHRcdFx0bW9kZWw6IHRoaXMubW9kZWxcblx0XHRcdFx0fSk7XG5cdFx0XHRjcm9wdG9vbC5vcGVuKCk7XG5cdFx0fSxcblx0XHRfcGFyZW50Q3JlYXRlU3RhdGVzOiB3cC5tZWRpYS52aWV3LkF0dGFjaG1lbnQuRGV0YWlscy5wcm90b3R5cGUuY3JlYXRlU3RhdGVzXG5cdH0sIHJvYm9jcm9wU3RhdGVFeHRlbmQgKTtcblxuXHR3cC5tZWRpYS52aWV3LkF0dGFjaG1lbnQuRGV0YWlscy5wcm90b3R5cGUuZXZlbnRzWydjbGljayAucm9ib2Nyb3Atb3BlbiddID0gJ3JvYm9jcm9wT3Blbic7XG5cblxufSkod3AsalF1ZXJ5KTtcblxuKGZ1bmN0aW9uKCAkICkge1xuXG5cdHZhciBpbWFnZV9yYXRpb3MgPSB3aW5kb3cud3Bfcm9ib2Nyb3AuaW1hZ2VfcmF0aW9zLFxuXHRcdGltYWdlX3NpemVzICA9IHdpbmRvdy53cF9yb2JvY3JvcC5pbWFnZV9zaXplcyxcblx0XHRvcHRpb25zID0gd2luZG93LndwX3JvYm9jcm9wLm9wdGlvbnMsXG5cdFx0aW1hZ2VJbmZvcyA9IHt9O1xuXG5cdC8qKlxuXHQgKlx0RWFybHkgcmV0dXJuIGlmIGF1dG9jcm9wIGlzIGRpc2FibGVkXG5cdCAqL1xuXHRpZiAoICEgb3B0aW9ucy5hc2tfZm9yX2ZvY3VzcG9pbnQgKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Xy5leHRlbmQoIHdwLm1lZGlhLnZpZXcuVXBsb2FkZXJXaW5kb3cucHJvdG90eXBlLCB7XG5cdFx0X3BhcmVudFJlYWR5OiB3cC5tZWRpYS52aWV3LlVwbG9hZGVyV2luZG93LnByb3RvdHlwZS5yZWFkeSxcblx0XHRkaWRSZWFkeTpmYWxzZSxcblxuXHRcdHJlYWR5OmZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGFza0ZvY3VzSW1hZ2VzID0gW10sXG5cdFx0XHRcdGFza01vZGFsLCBzZWxmID0gdGhpcztcblxuXHRcdFx0Ly8gcHJldmVudCBkb3VibGUgaW5pdFxuXHRcdFx0aWYgKCB0aGlzLmRpZFJlYWR5ICkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5fcGFyZW50UmVhZHkuYXBwbHkoIHRoaXMgLCBhcmd1bWVudHMgKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuZGlkUmVhZHkgPSB0cnVlO1xuXG5cdFx0XHRyZXQgPSB0aGlzLl9wYXJlbnRSZWFkeS5hcHBseSggdGhpcyAsIGFyZ3VtZW50cyApO1xuXG5cdFx0XHRmdW5jdGlvbiBhc2tGb2N1cyggdXBsb2FkZXIgKSB7XG5cdFx0XHRcdHZhciBmaWxlSXRlbSwgc3JjO1xuXHRcdFx0XHRpZiAoIGFza01vZGFsICkge1xuXHRcdFx0XHRcdGFza01vZGFsLmNsb3NlKCkuZGlzcG9zZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggISEgYXNrRm9jdXNJbWFnZXMubGVuZ3RoICkge1xuXHRcdFx0XHRcdGZpbGVJdGVtID0gYXNrRm9jdXNJbWFnZXMuc2hpZnQoKTtcblx0XHRcdFx0XHRhc2tNb2RhbCA9IG5ldyB3cC5tZWRpYS5yb2JvY3JvcC52aWV3LkZyYW1lLkZvY3VzcG9pbnQoeyBjb250cm9sbGVyOiAkKHRoaXMpIH0pO1xuXHRcdFx0XHRcdGFza01vZGFsLm9uKCdwcm9jZWVkJyxmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGltYWdlSW5mb3NbZmlsZUl0ZW0uZmlsZS5uYW1lXSA9IHtcblx0XHRcdFx0XHRcdFx0Zm9jdXNwb2ludDpcdGFza01vZGFsLmdldEZvY3VzcG9pbnQoKSxcblx0XHRcdFx0XHRcdFx0d2lkdGg6XHRcdGFza01vZGFsLmdldEltYWdlV2lkdGgoKSxcblx0XHRcdFx0XHRcdFx0aGVpZ2h0Olx0XHRhc2tNb2RhbC5nZXRJbWFnZUhlaWdodCgpXG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0YXNrRm9jdXMoIHVwbG9hZGVyICk7XG5cdFx0XHRcdFx0fSkub24oJ2NhbmNlbC11cGxvYWQnLGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0ZmlsZUl0ZW0uZmlsZS5hdHRhY2htZW50LmRlc3Ryb3koKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRhc2tNb2RhbC5zZXRGb2N1c3BvaW50KHt4OjAseTowfSk7XG5cdFx0XHRcdFx0YXNrTW9kYWwuc2V0RmlsZSggZmlsZUl0ZW0uYmxvYiApO1xuXHRcdFx0XHRcdGFza01vZGFsLm9wZW4oKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR1cGxvYWRlci5zdGFydCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGZ1bmN0aW9uIGFkZEFza0ZvY3VzKCBmaWxlRGF0YSwgdXBsb2FkZXIgKSB7XG5cdFx0XHRcdGFza0ZvY3VzSW1hZ2VzLnB1c2goIGZpbGVEYXRhICk7XG5cdFx0XHR9XG5cblx0XHRcdC8qKlxuXHRcdFx0ICpcdEByZXR1cm4gbmF0aXZlIGZpbGUgb2JqZWN0IG9yIGJsb2Jcblx0XHRcdCAqL1xuXHRcdFx0ZnVuY3Rpb24gcmVzb2x2ZUZpbGUoIGZpbGUgKSB7XG5cdFx0XHRcdHZhciBfcmV0ID0ge1xuXHRcdFx0XHRcdGZpbGU6IGZpbGUsXG5cdFx0XHRcdFx0YmxvYjpmaWxlLmdldE5hdGl2ZSgpXG5cdFx0XHRcdH0sIF9yZXQyLCBieXRlcywgaTtcblx0XHRcdFx0aWYgKCAhIF9yZXQuYmxvYiApIHtcblx0XHRcdFx0XHRfcmV0LmJsb2IgPSBmaWxlLmdldFNvdXJjZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBfcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBzdG9wIHVwbG9hZGVyIGFuZCBnZW5lcmF0ZSBjcm9wZGF0YSBcblx0XHRcdHRoaXMudXBsb2FkZXIudXBsb2FkZXIuYmluZCgnRmlsZXNBZGRlZCcsZnVuY3Rpb24oIHVwLCBmaWxlcyApIHtcblx0XHRcdFx0dmFyIGZpbGVEYXRhO1xuXG5cdFx0XHRcdC8vIHB1dCBtb2RhbFxuXHRcdFx0XHRmb3IgKHZhciBpPTA7aTxmaWxlcy5sZW5ndGg7aSsrKSB7XG5cdFx0XHRcdFx0aWYgKCBmaWxlc1tpXS50eXBlID09ICdpbWFnZS9wbmcnIHx8IGZpbGVzW2ldLnR5cGUgPT0gJ2ltYWdlL2pwZWcnICkge1xuXHRcdFx0XHRcdFx0ZmlsZURhdGEgPSByZXNvbHZlRmlsZSggZmlsZXNbaV0gKTtcblx0XHRcdFx0XHRcdGlmICggZmlsZURhdGEuYmxvYiBpbnN0YW5jZW9mIEJsb2IgKSB7XG5cdFx0XHRcdFx0XHRcdGFkZEFza0ZvY3VzKCBmaWxlRGF0YSwgdXAgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBhc2tGb2N1c0ltYWdlcy5sZW5ndGggKSB7XG5cdFx0XHRcdFx0dXAuc3RvcCgpO1xuXHRcdFx0XHRcdHVwLnJlZnJlc2goKTtcblx0XHRcdFx0XHRhc2tGb2N1cyggdXAgKTsgLy8gd2lsbCBhc2sgZm9yIGZvY3VzIG9yIHN0YXJ0IHVwbG9hZGVyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCJhc2tmb2N1c1wiKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHQvLyBzZW5kIGNyb3BkYXRhIFxuXHRcdFx0dGhpcy51cGxvYWRlci51cGxvYWRlci5iaW5kKCdCZWZvcmVVcGxvYWQnLGZ1bmN0aW9uKCB1cCwgZmlsZSApIHtcblx0XHRcdFx0dmFyIHMsIGNyb3BkYXRhLCBmb2N1c3BvaW50O1xuXG5cdFx0XHRcdGlmICggaW1hZ2VJbmZvc1tmaWxlLm5hbWVdICkge1xuXG5cdFx0XHRcdFx0Ly8gYWRkIGZvY3VzIHBvaW50IGFuZCBjcm9wZGF0YSB0byBmaWxlXG5cdFx0XHRcdFx0aW1hZ2VpbmZvID0gaW1hZ2VJbmZvc1tmaWxlLm5hbWVdO1xuXHRcdFx0XHRcdGNyb3BkYXRhID0ge307XG5cdFx0XHRcdFx0Zm9yIChzIGluIGltYWdlX3JhdGlvcykge1xuXHRcdFx0XHRcdFx0Y3JvcGRhdGFbIGltYWdlX3JhdGlvc1tzXS5uYW1lIF0gPSB3cC5tZWRpYS5yb2JvY3JvcC5jcm9wRnJvbUZvY3VzUG9pbnQoIGltYWdlaW5mbywgaW1hZ2VfcmF0aW9zW3NdICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dXAuc2V0dGluZ3MubXVsdGlwYXJ0X3BhcmFtcy5mb2N1c3BvaW50XHQ9IEpTT04uc3RyaW5naWZ5KCBpbWFnZWluZm8uZm9jdXNwb2ludCApO1xuXHRcdFx0XHRcdHVwLnNldHRpbmdzLm11bHRpcGFydF9wYXJhbXMuY3JvcGRhdGFcdD0gSlNPTi5zdHJpbmdpZnkoIGNyb3BkYXRhICk7XG5cblx0XHRcdFx0XHRkZWxldGUoaW1hZ2VJbmZvc1tmaWxlLm5hbWVdKVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fVxuXHR9KTtcblxufSkoIGpRdWVyeSApO1xuXG4iXX0=
