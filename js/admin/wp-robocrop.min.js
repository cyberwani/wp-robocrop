!function(t){var e;e={cropFromFocusPoint:function(t,e){var o=(t.focuspoint.x+1)/2*t.width,i=(1-t.focuspoint.y)/2*t.height,s=Math.min(t.width/e.min_width,t.height/e.min_height),n=e.min_width*s,r=e.min_height*s,a=Math.min(Math.max(o-n/2,0),t.width-n),c=Math.min(Math.max(i-r/2,0),t.height-r);return{names:e.sizes,x:a/t.width,y:c/t.height,width:n/t.width,height:r/t.height}},relToAbsCoords:function(t,e){var o,i={};for(o in t)switch(o){case"x":case"x1":case"x2":case"width":i[o]=t[o]*e.width;break;case"y":case"y1":case"y2":case"height":i[o]=t[o]*e.height;break;default:i[o]=t[o]}return i},absToRelCoords:function(t,e){var o,i={};for(o in t)switch(o){case"x":case"x1":case"x2":case"width":i[o]=t[o]/e.width;break;case"y":case"y1":case"y2":case"height":i[o]=t[o]/e.height;break;default:i[o]=t[o]}return i},pointToRectCoords:function(t){return{x:t.x1,y:t.y1,width:t.x2-t.x1,height:t.y2-t.y1}},rectToPointCoords:function(t){return{x1:t.x,y1:t.y,x2:t.maxX?t.maxX:t.x+t.width,y2:t.maxY?t.maxY:t.y+t.height}},view:{},controller:{}},t.media.robocrop=e}(wp),function(t,e){var o=window.wp_robocrop.image_ratios,i=window.wp_robocrop.image_sizes,s=window.wp_robocrop.l10n;window.wp_robocrop.options;t.media.robocrop.view.Img=t.media.View.extend({className:"attachment-image",tagName:"img",id:"robocrop-image",initialize:function(){var t=this;_.defaults(this.options,{src:""}),this.$el.on("load",function(){t.width=t.$el.get(0).naturalWidth,t.height=t.$el.get(0).naturalHeight,t.ratio=t.width/t.height,t.trigger("load",t)}),this.$el.attr("src",this.options.src)},getSrc:function(t){return this.$el.attr("src")},setSrc:function(t){return!!t&&this.$el.attr("src",t),this}}),t.media.robocrop.view.RobocropRatioSelect=t.media.View.extend({className:"robocrop-select",template:t.template("robocrop-select"),events:{'click [name="robocrop-select-ratio"]':"selectRatio"},initialize:function(){t.Backbone.View.prototype.initialize.apply(this,arguments),_.defaults({ratios:{},tools:{}},this.options),this.options.l10n=s},render:function(){t.Backbone.View.prototype.render.apply(this,arguments);var o=this;_.each(this.options.tools,function(e,i){o.views.add(new t.media.robocrop.view.RobocropRatioSelectItem({ratiokey:i,sizenames:!1,ratio:i,title:e.title,enabled:!0}))}),_.each(this.options.ratios,function(s,n){var r=[],a=_.template('<span class="sizename<%= cancrop ? "" : " disabled" %>"><%= name %> (<%= width %>Ã—<%= height %>)</span>');_.each(s.sizes,function(t,s){var n=e.extend(!0,{cancrop:o.model.get("width")>=i[t].width&&o.model.get("height")>=i[t].height},i[t]);n.crop&&r.push(a(n))}),o.views.add(new t.media.robocrop.view.RobocropRatioSelectItem({ratiokey:n,sizenames:r.join(""),ratio:n,title:n+" : 1",enabled:o.model.get("width")>=s.min_width&&o.model.get("height")>=s.min_height}))})},setSelected:function(t){this.$el.find('[name="robocrop-select-ratio"][value="'+t+'"]').prop("checked",!0),this.selectRatio()},getSelected:function(){return this.$el.find('[name="robocrop-select-ratio"]:checked').val()},selectRatio:function(t){this.options.ratios[this.getSelected()]?this.trigger("select-ratio"):this.options.tools[this.getSelected()]&&this.trigger("select-tool"),this.trigger("select")}}),t.media.robocrop.view.RobocropRatioSelectItem=t.media.View.extend({className:"robocrop-select-item",template:t.template("robocrop-select-item"),sizekey:"",sizenames:"",ratio:0,enabled:null,render:function(){t.Backbone.View.prototype.render.apply(this,arguments),this.$el.find('input[type="radio"]').prop("disabled",!this.options.enabled)}}),t.media.robocrop.view.RobocropImage=t.media.View.extend({className:"image-robocrop",template:t.template("robocrop"),image_ratios:o,image_sizes:i,_croppers:null,events:{"click .robocrop-autocrop-current":"autocrop","click .robocrop-autocrop-all":"autocropAll"},initialize:function(e){this._croppers={},this.image=new t.media.robocrop.view.Img({src:this.model.get("url")}),this.controller=e.controller,this.focuspointtool=new t.media.robocrop.view.focuspoint.ImageFocusPointSelect({image:this.image,focuspoint:{x:0,y:0},src:this.model.get("url")}),this.listenTo(this.focuspointtool,"changed",this.updateFocusPoint),t.media.View.prototype.initialize.apply(this,arguments)},dismiss:function(){var t=this.$areaSelect();t&&t.remove(),this.$el.remove()},createSelect:function(){this.select=new t.media.robocrop.view.RobocropRatioSelect({choices:choices})},hasChanged:function(){this.trigger("changed")},render:function(){var e=this;return t.media.View.prototype.render.apply(this,arguments),this.views.set(".robocrop-content",this.focuspointtool),this.focuspointtool.setFocuspoint(this.model.get("focuspoint")),this.image.$el.imgAreaSelect({parent:this.image.$el.closest(".robocrop-image-box"),instance:!0,handles:!0,keys:!0,persistent:!0,enabled:!0,movable:!0,resizable:!0,imageHeight:this.model.get("height"),imageWidth:this.model.get("width"),onSelectEnd:function(o,i){var s=t.media.robocrop.pointToRectCoords(i);e._setCropSizes(s),e.hasChanged()}}),this.selectRatio=new t.media.robocrop.view.RobocropRatioSelect({tools:{focuspoint:{title:s.SetFocusPoint,trigger:"focuspoint"}},ratios:this.image_ratios,model:this.model}),this.selectRatio.on("select-ratio",this.onselectratio,this).on("select-tool",this.onselecttool,this).on("select",this.updateButtons,this),this.views.set(".select-ratio",this.selectRatio),this.$autoButton=this.$el.find(".robocrop-autocrop-current"),this.$autoAllButton=this.$el.find(".robocrop-autocrop-all"),this},ready:function(){var e,o;return t.media.view.EditImage.prototype.ready.apply(this,arguments),_.isUndefined(this.options.sizeToSelect)||(o=_.find(this.image_ratios,function(t){return t.sizes.indexOf(this.options.sizeToSelect)>-1},this))&&(e=o.name),_.isUndefined(e)&&(e="focuspoint"),this.selectRatio.setSelected(e),this},save:function(){var t={attachments:{}},o=this.model.get("id"),i=this.$autoAllButton.add(this.$autoButton).prop("disabled",!0),s=this;return t.attachments[o]={sizes:this.model.get("sizes"),focuspoint:this.model.get("focuspoint")},this.model.saveCompat(t,{}).done(function(t){var o=new Date;_.each(s.model.attributes.sizes,function(t,i){var s='img[src^="'+t.url+'"]',n=function(){e(this).removeAttr("src").attr("src",t.url+"?"+o.getTime())};refresh_mce=function(){e(this).removeAttr("data-mce-src").attr("data-mce-src",t.url+"?"+o.getTime())},"full"!==i&&(e(document).add(e("iframe").contents()).find(s).each(n),e(".mce-edit-area iframe").each(function(){e(this).contents().find(s).each(n).each(refresh_mce)}))},s),i.prop("disabled",!1),s.trigger("saved")}),this},updateButtons:function(){var t=this.selectRatio.getSelected();this.$autoButton.toggleClass("hidden","focuspoint"===t),this.$autoAllButton.toggleClass("hidden","focuspoint"!==t)},onselecttool:function(){var t=this.selectRatio.getSelected();switch(this.$areaSelect().cancelSelection(),t){case"focuspoint":this.focuspointtool.setEnabled(!0)}},onselectratio:function(){this.focuspointtool.setEnabled(!1);var t,e,o,s=this.selectRatio.getSelected(),n=this.model.get("sizes"),r=this,a=this.model.get("width"),c=this.model.get("height");if(this.current_ratio=this.image_ratios[s],o={aspectRatio:this.current_ratio.ratio+":1",minWidth:this.current_ratio.min_width,minHeight:this.current_ratio.min_height},_.each(this.current_ratio.sizes,function(t){!e&&n[t]&&n[t].cropdata&&(e=n[t].cropdata),i[t].width<=a&&i[t].height<=c&&(o.minWidth=Math.max(o.minWidth,i[t].width),o.minHeight=Math.max(o.minHeight,i[t].height))}),e)t={},_.extend(t,e);else{var h=Math.min(this.model.get("width")/this.current_ratio.ratio,this.model.get("height"));t={x:0,y:0,width:h*this.current_ratio.ratio,height:h},t.x=(this.model.get("width")-t.width)/2,t.y=(this.model.get("height")-t.height)/2}return this.$areaSelect().setOptions(o),this.image.$el.get(0).complete?this.selectCrop(t):this.image.$el.on("load",function(){r.selectCrop(t)}),this},autocrop:function(e){var o,i={width:this.model.get("width"),height:this.model.get("height"),focuspoint:this.model.get("focuspoint")};return o=t.media.robocrop.cropFromFocusPoint(i,this.current_ratio),o=t.media.robocrop.relToAbsCoords(o,i),this._setCropSizes(o),this.selectCrop(o),this},autocropAll:function(e){var o=this,i={width:this.model.get("width"),height:this.model.get("height"),focuspoint:this.model.get("focuspoint")};return _.each(this.image_ratios,function(e){var s;s=t.media.robocrop.cropFromFocusPoint(i,e),s=t.media.robocrop.relToAbsCoords(s,i),o._setCropSizes(s,e)}),this},selectCrop:function(e){var o=(this._image_scale_factor(),t.media.robocrop.rectToPointCoords(e)),i=this.$areaSelect();return i.setSelection(o.x1,o.y1,o.x2,o.y2,!1),i.setOptions({show:!0}),i.update(),this},$areaSelect:function(){return this.image.$el.data("imgAreaSelect")},_image_scale_factor:function(){var t=this.image.$el.closest(".robocrop-image-box"),e=Math.min(this.model.get("width"),t.width()),o=Math.min(this.model.get("height"),t.height());return Math.min(e/this.model.get("width"),o/this.model.get("height"))},updateFocusPoint:function(){this.model.set("focuspoint",this.focuspointtool.getFocuspoint())},_setCropSizes:function(t,e){var o=this.model.get("sizes");e=e||this.current_ratio,_.each(e.sizes,function(e){!o[e]&&(o[e]={}),o[e].cropdata=t}),this.model.set("sizes",o)},_getRelativeCoords:function(t){var e=this.model.get("width"),o=this.model.get("height");for(var i in t)if("number"==typeof t[i])switch(i){case"x":case"x1":case"x2":case"width":case"minX":case"maxX":t[i]/=e;break;default:t[i]/=o}},_getAbsoluteCoords:function(t){var e=this.model.get("width"),o=this.model.get("height");for(var i in t)if("number"==typeof t[i])switch(i){case"x":case"x1":case"x2":case"width":case"minX":case"maxX":t[i]*=e;break;default:t[i]*=o}}}),t.media.robocrop.view.Frame=t.media.view.MediaFrame.extend({template:t.template("robocrop-modal"),regions:["title","content","instructions","buttons"]}),t.media.robocrop.view.Frame.Crop=t.media.robocrop.view.Frame.extend({events:{"click .robocrop-save":"save","click .robocrop-cancel":"close"},save:function(){this.$(".robocrop-save, .robocrop-cancel").prop("disabled",!0),this._content.save()},initialize:function(e){t.media.robocrop.view.Frame.prototype.initialize.apply(this,arguments),this.createTitle(),this.createContent(),this.createButtons(),this.on("close",this.dismiss,this),this.listenTo(this._content,"saved",this.modelSync)},modelSync:function(){this.$(".robocrop-save, .robocrop-cancel").prop("disabled",!1)},dismiss:function(){this._content.dismiss()},createTitle:function(){this._title=new t.media.View({tagName:"h1"}),this._title.$el.text(s.AttachmentDetails),this.title.set([this._title])},createContent:function(){var e=_.extend({controller:this.controller,model:this.model},this.options);this._content=new t.media.robocrop.view.RobocropImage(e),this.content.set([this._content])},createButtons:function(){this.buttons.set([new t.media.view.Button({text:s.Close,className:"button-secondary robocrop-cancel"}),new t.media.view.Button({text:s.SaveChanges,className:"button-primary robocrop-save"})])}})}(wp,jQuery),function(t,e){var o,i,s=window.wp_robocrop.image_ratios,n=(window.wp_robocrop.image_sizes,window.wp_robocrop.l10n),r=t.media.View;t.media.view.MediaFrame;t.media.robocrop.view.focuspoint={},i=t.media.robocrop.view.focuspoint.CropRect=r.extend({template:t.template("croprect"),className:"tool-croprect",controller:null,initialize:function(){r.prototype.initialize.apply(this,arguments),_.defaults(this.options,{focuspoint:null,ratio:1}),this.controller=this.options.controller,this.listenTo(this.controller.image,"load",this.imageLoaded)},imageLoaded:function(t){this.$el.attr("data-ratio-name",this.options.ratio.name+" : 1"),this.$el.attr("data-dir",this.options.ratio.ratio>t.ratio?"w":"h"),this.$el.css("width",100*Math.min(1,this.options.ratio.ratio/t.ratio)+"%"),this.setFocuspoint(this.options.focuspoint)},setFocuspoint:function(e){var o={width:this.controller.image.$el.width(),height:this.controller.image.$el.height(),focuspoint:e},i=t.media.robocrop.cropFromFocusPoint(o,this.options.ratio),s=t.media.robocrop.relToAbsCoords(i,o);this.$el.css("left",s.x+"px"),this.$el.css("top",s.y+"px")}}),o=t.media.robocrop.view.focuspoint.FocusPoint=r.extend({className:"tool-focuspoint",template:t.template("focuspoint"),initialize:function(){var t=this;_.defaults(this.options,{focuspoint:{x:0,y:0},enabled:!1}),this.$el.on("click",function(e){t.clickFocuspoint(e)})},setEnabled:function(t){var e=this.options.enabled;return this.options.enabled=t,this.$el.attr("data-enabled",t.toString()),e},clickFocuspoint:function(t){var e;this.options.enabled&&(e=this.$el.offset(),this.setFocuspoint({x:2*(t.pageX-e.left)/this.$el.width()-1,y:-2*(t.pageY-e.top)/this.$el.height()+1}))},getFocuspoint:function(){return this.focuspoint},setFocuspoint:function(t){return this.focuspoint=t,this.$el.find(".focuspoint").css({left:50*(t.x+1)+"%",bottom:50*(t.y+1)+"%"}),this.options.enabled&&this.trigger("change:focuspoint",this.focuspoint),this}}),t.media.robocrop.view.focuspoint.ImageFocusPointSelect=r.extend({className:"robocrop-image-box",cropRects:[],initialize:function(){_.defaults(this.options,{controller:this,focuspoint:{x:0,y:0},src:!1,image:!1,enabled:!1});var e=this;!1!==this.options.image&&this.options.image.constructor.prototype==t.media.robocrop.view.Img.prototype?this.image=this.options.image:!1!==this.options.src?this.image=new t.media.robocrop.view.Img({src:this.options.src}):this.image=new t.media.robocrop.view.Img({src:""},this.options.image),this.focuspoint=new o({controller:this.controller,focuspoint:this.options.focuspoint,enabled:this.options.enabled}),_.each(s,function(t,o){e.cropRects.push(new i({controller:e,focuspoint:e.options.focuspoint,ratio:t}))}),this.listenTo(this.focuspoint,"change:focuspoint",this.valueChanged)},setEnabled:function(t){return this.focuspoint.setEnabled(t)},render:function(){r.prototype.render.apply(this,arguments);var t=this;this.views.set([this.image,this.focuspoint]),_.each(this.cropRects,function(e){e.render(),t.focuspoint.$el.append(e.$el)})},getFocuspoint:function(){return this.focuspoint.getFocuspoint()},setFocuspoint:function(t){return this.focuspoint&&this.focuspoint.setFocuspoint(t),this},getImageWidth:function(){return this.image.$el.get(0).naturalWidth},getImageHeight:function(){return this.image.$el.get(0).naturalHeight},setSrc:function(t){return this.image.$el.attr("src",t),this},valueChanged:function(){var t=this;_.each(this.cropRects,function(e){e.setFocuspoint(t.focuspoint.getFocuspoint())}),this.trigger("changed")}}),t.media.robocrop.view.Frame.Focuspoint=t.media.robocrop.view.Frame.extend({className:"ask-focuspoint media-frame",events:{"click .reset":"reset","click .proceed":"proceed","click .cancel-upload":"cancelUpload"},initialize:function(){_.defaults(this.options,{uploader:!1,title:n.SetFocusPoint,modal:!!this.options&&this.options.modal,src:""}),t.media.robocrop.view.Frame.prototype.initialize.apply(this,arguments),this.modal&&this.modal.on("escape",this.cancelUpload,this),this.createTitle(),this.createContent(),this.createInstructions(),this.createButtons()},createTitle:function(){this._title=new t.media.View({tagName:"h1"}),this._title.$el.text(this.options.title),this.title.set([this._title])},createContent:function(){this._content=new t.media.robocrop.view.focuspoint.ImageFocusPointSelect({src:"",focuspoint:{x:0,y:0},controller:this,enabled:!0}),this.content.set([this._content])},createInstructions:function(){this.instructions.set([new t.media.View({el:e('<div class="instructions">'+n.FocusPointInstructions+"</div>")[0],priority:-40})])},createButtons:function(){this.buttons.set([new t.media.view.Button({text:n.CancelUpload,className:"cancel-upload"}),new t.media.view.Button({text:n.Reset,className:"reset"}),new t.media.view.Button({text:n.Okay,className:"button-primary proceed"})])},setSrc:function(t){this._content.setSrc(t)},setFile:function(t){var e=this,o=new FileReader;o.onload=function(t){e.setSrc(o.result)},o.readAsDataURL(t)},setFocuspoint:function(t){this._content.setFocuspoint(t)},getFocuspoint:function(){return this._content.getFocuspoint()},getImageWidth:function(){return this._content.getImageWidth()},getImageHeight:function(){return this._content.getImageHeight()},reset:function(t){this.setFocuspoint({x:0,y:0})},proceed:function(t){this.trigger("proceed")},cancelUpload:function(t){this.trigger("cancel-upload"),this.close()}})}(wp,jQuery),function(t,e){var o=(window.wp_robocrop.image_ratios,window.wp_robocrop.image_sizes,window.wp_robocrop.l10n),i=(window.wp_robocrop.options,'<button type="button" class="button robocrop-open">'+o.EditImageSizes+"</button>"),s='<button type="button" class="button-link robocrop-open">'+o.EditImageSizes+"</button>",n={createStates:function(){this._parentCreateStates.apply(this,arguments),this.states.add(new t.media.robocrop.controller.RobocropImage({model:this.model,selection:this.options.selection}))}};_.extend(t.media.view.ImageDetails.prototype,{_parentPostRender:t.media.view.ImageDetails.prototype.postRender,postRender:function(){this._parentPostRender.apply(this,arguments),this.$el.find(".actions").append(i)},robocropOpen:function(e){console.log();var o=this.model.get("size");new t.media.robocrop.view.Frame.Crop({controller:this.controller,model:this.controller.image.attachment,sizeToSelect:o}).open()}}),t.media.view.ImageDetails.prototype.events["click .robocrop-open"]="robocropOpen",_.extend(t.media.view.Attachment.Details.prototype,{_parentRender:t.media.view.Attachment.Details.prototype.render,render:function(){this._parentRender.apply(this,arguments),"image"===this.model.get("type")&&(this.$(".attachment-actions").append(i),e(s).insertAfter(this.$el.find("a.edit-attachment")))},robocropOpen:function(e){new t.media.robocrop.view.Frame.Crop({controller:this.controller,model:this.model}).open()},_parentCreateStates:t.media.view.Attachment.Details.prototype.createStates},n),t.media.view.Attachment.Details.prototype.events["click .robocrop-open"]="robocropOpen"}(wp,jQuery),function(t){var e=window.wp_robocrop.image_ratios,o=(window.wp_robocrop.image_sizes,window.wp_robocrop.options),i={};o.ask_for_focuspoint&&_.extend(wp.media.view.UploaderWindow.prototype,{_parentReady:wp.media.view.UploaderWindow.prototype.ready,didReady:!1,ready:function(){function o(e){var s;r&&r.close().dispose(),a.length?(s=a.shift(),r=new wp.media.robocrop.view.Frame.Focuspoint({controller:t(this)}),r.on("proceed",function(){i[s.file.name]={focuspoint:r.getFocuspoint(),width:r.getImageWidth(),height:r.getImageHeight()},o(e)}).on("cancel-upload",function(){s.file.attachment.destroy()}),r.setFocuspoint({x:0,y:0}),r.setFile(s.blob),r.open()):e.start()}function s(t,e){a.push(t)}function n(t){var e={file:t,blob:t.getNative()};return e.blob||(e.blob=t.getSource()),e}var r,a=[];return this.didReady?this._parentReady.apply(this,arguments):(this.didReady=!0,ret=this._parentReady.apply(this,arguments),this.uploader.uploader.bind("FilesAdded",function(t,e){for(var i,r=0;r<e.length;r++)"image/png"!=e[r].type&&"image/jpeg"!=e[r].type||(i=n(e[r]),i.blob instanceof Blob&&s(i,t));a.length&&(t.stop(),t.refresh(),o(t),console.log("askfocus"))}),this.uploader.uploader.bind("BeforeUpload",function(t,o){var s,n;if(i[o.name]){imageinfo=i[o.name],n={};for(s in e)n[e[s].name]=wp.media.robocrop.cropFromFocusPoint(imageinfo,e[s]);t.settings.multipart_params.focuspoint=JSON.stringify(imageinfo.focuspoint),t.settings.multipart_params.cropdata=JSON.stringify(n),delete i[o.name]}}),ret)}})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvYm9jcm9wLWJhc2UuanMiLCJyb2JvY3JvcC1tZWRpYS12aWV3LmpzIiwicm9ib2Nyb3AtZm9jdXNwb2ludC1tZWRpYS12aWV3LmpzIiwicm9ib2Nyb3Atd3AtbWVkaWEtdmlldy5qcyIsInJvYm9jcm9wLWZvY3VzcG9pbnQtd3AtdXBsb2FkZXIuanMiXSwibmFtZXMiOlsiZXhwb3J0cyIsInJvYm9jcm9wIiwiY3JvcEZyb21Gb2N1c1BvaW50IiwiaW1hZ2VpbmZvIiwiY3JvcGluZm8iLCJmcF94IiwiZm9jdXNwb2ludCIsIngiLCJ3aWR0aCIsImZwX3kiLCJ5IiwiaGVpZ2h0Iiwic2NhbGUiLCJNYXRoIiwibWluIiwibWluX3dpZHRoIiwibWluX2hlaWdodCIsImNyb3BfdyIsImNyb3BfaCIsImNyb3BfeCIsIm1heCIsImNyb3BfeSIsIm5hbWVzIiwic2l6ZXMiLCJyZWxUb0Fic0Nvb3JkcyIsImNyb3BkYXRhIiwicyIsInJldCIsImFic1RvUmVsQ29vcmRzIiwicG9pbnRUb1JlY3RDb29yZHMiLCJwb2ludHMiLCJ4MSIsInkxIiwieDIiLCJ5MiIsInJlY3RUb1BvaW50Q29vcmRzIiwicmVjdCIsIm1heFgiLCJtYXhZIiwidmlldyIsImNvbnRyb2xsZXIiLCJtZWRpYSIsIndwIiwiJCIsImltYWdlX3JhdGlvcyIsIndpbmRvdyIsIndwX3JvYm9jcm9wIiwiaW1hZ2Vfc2l6ZXMiLCJsMTBuIiwib3B0aW9ucyIsIkltZyIsIlZpZXciLCJleHRlbmQiLCJjbGFzc05hbWUiLCJ0YWdOYW1lIiwiaWQiLCJpbml0aWFsaXplIiwic2VsZiIsInRoaXMiLCJfIiwiZGVmYXVsdHMiLCJzcmMiLCIkZWwiLCJvbiIsImdldCIsIm5hdHVyYWxXaWR0aCIsIm5hdHVyYWxIZWlnaHQiLCJyYXRpbyIsInRyaWdnZXIiLCJhdHRyIiwiZ2V0U3JjIiwic2V0U3JjIiwiUm9ib2Nyb3BSYXRpb1NlbGVjdCIsInRlbXBsYXRlIiwiZXZlbnRzIiwiY2xpY2sgW25hbWU9XCJyb2JvY3JvcC1zZWxlY3QtcmF0aW9cIl0iLCJCYWNrYm9uZSIsInByb3RvdHlwZSIsImFwcGx5IiwiYXJndW1lbnRzIiwicmF0aW9zIiwidG9vbHMiLCJyZW5kZXIiLCJlYWNoIiwidG9vbCIsImtleSIsInZpZXdzIiwiYWRkIiwiUm9ib2Nyb3BSYXRpb1NlbGVjdEl0ZW0iLCJyYXRpb2tleSIsInNpemVuYW1lcyIsInRpdGxlIiwiZW5hYmxlZCIsIm5hbWVfdHBsIiwic2l6ZW5hbWUiLCJzaXplIiwiY2FuY3JvcCIsIm1vZGVsIiwiY3JvcCIsInB1c2giLCJqb2luIiwic2V0U2VsZWN0ZWQiLCJmaW5kIiwicHJvcCIsInNlbGVjdFJhdGlvIiwiZ2V0U2VsZWN0ZWQiLCJ2YWwiLCJldmVudCIsInNpemVrZXkiLCJSb2JvY3JvcEltYWdlIiwiX2Nyb3BwZXJzIiwiY2xpY2sgLnJvYm9jcm9wLWF1dG9jcm9wLWN1cnJlbnQiLCJjbGljayAucm9ib2Nyb3AtYXV0b2Nyb3AtYWxsIiwiaW1hZ2UiLCJmb2N1c3BvaW50dG9vbCIsIkltYWdlRm9jdXNQb2ludFNlbGVjdCIsImxpc3RlblRvIiwidXBkYXRlRm9jdXNQb2ludCIsImRpc21pc3MiLCJhcmVhU2VsZWN0IiwiJGFyZWFTZWxlY3QiLCJyZW1vdmUiLCJjcmVhdGVTZWxlY3QiLCJzZWxlY3QiLCJjaG9pY2VzIiwiaGFzQ2hhbmdlZCIsInNldCIsInNldEZvY3VzcG9pbnQiLCJpbWdBcmVhU2VsZWN0IiwicGFyZW50IiwiY2xvc2VzdCIsImluc3RhbmNlIiwiaGFuZGxlcyIsImtleXMiLCJwZXJzaXN0ZW50IiwibW92YWJsZSIsInJlc2l6YWJsZSIsImltYWdlSGVpZ2h0IiwiaW1hZ2VXaWR0aCIsIm9uU2VsZWN0RW5kIiwiY29vcmRzIiwiX3NldENyb3BTaXplcyIsIlNldEZvY3VzUG9pbnQiLCJvbnNlbGVjdHJhdGlvIiwib25zZWxlY3R0b29sIiwidXBkYXRlQnV0dG9ucyIsIiRhdXRvQnV0dG9uIiwiJGF1dG9BbGxCdXR0b24iLCJyZWFkeSIsImN1cnJlbnRSYXRpbyIsImZvdW5kIiwiRWRpdEltYWdlIiwiaXNVbmRlZmluZWQiLCJzaXplVG9TZWxlY3QiLCJpbmRleE9mIiwibmFtZSIsInNhdmUiLCJkYXRhIiwiYXR0YWNobWVudHMiLCIkYnRucyIsInNhdmVDb21wYXQiLCJkb25lIiwicmVzcCIsImQiLCJEYXRlIiwiYXR0cmlidXRlcyIsInNlbGVjdG9yIiwidXJsIiwicmVmcmVzaCIsInJlbW92ZUF0dHIiLCJnZXRUaW1lIiwicmVmcmVzaF9tY2UiLCJkb2N1bWVudCIsImNvbnRlbnRzIiwidG9vbGtleSIsInRvZ2dsZUNsYXNzIiwiY2FuY2VsU2VsZWN0aW9uIiwic2V0RW5hYmxlZCIsImFyZWFTZWxlY3RPcHRpb25zIiwiaW1nV2lkdGgiLCJpbWdIZWlnaHQiLCJjdXJyZW50X3JhdGlvIiwiYXNwZWN0UmF0aW8iLCJtaW5XaWR0aCIsIm1pbkhlaWdodCIsInNldE9wdGlvbnMiLCJjb21wbGV0ZSIsInNlbGVjdENyb3AiLCJhdXRvY3JvcCIsImF1dG9jcm9wQWxsIiwiX2ltYWdlX3NjYWxlX2ZhY3RvciIsInNldFNlbGVjdGlvbiIsInNob3ciLCJ1cGRhdGUiLCIkY29udGFpbmVyIiwidyIsImgiLCJnZXRGb2N1c3BvaW50IiwibW9kZWxTaXplcyIsIl9nZXRSZWxhdGl2ZUNvb3JkcyIsIl9nZXRBYnNvbHV0ZUNvb3JkcyIsIkZyYW1lIiwiTWVkaWFGcmFtZSIsInJlZ2lvbnMiLCJDcm9wIiwiY2xpY2sgLnJvYm9jcm9wLXNhdmUiLCJjbGljayAucm9ib2Nyb3AtY2FuY2VsIiwiX2NvbnRlbnQiLCJjcmVhdGVUaXRsZSIsImNyZWF0ZUNvbnRlbnQiLCJjcmVhdGVCdXR0b25zIiwibW9kZWxTeW5jIiwiX3RpdGxlIiwidGV4dCIsIkF0dGFjaG1lbnREZXRhaWxzIiwib3B0cyIsImNvbnRlbnQiLCJidXR0b25zIiwiQnV0dG9uIiwiQ2xvc2UiLCJTYXZlQ2hhbmdlcyIsImpRdWVyeSIsIkZvY3VzUG9pbnQiLCJDcm9wUmVjdCIsImltYWdlTG9hZGVkIiwiY3NzIiwicmVzIiwiY29vcmQiLCJjbGlja0ZvY3VzcG9pbnQiLCJwcmV2IiwidG9TdHJpbmciLCJvZmZzIiwib2Zmc2V0IiwicGFnZVgiLCJsZWZ0IiwicGFnZVkiLCJ0b3AiLCJib3R0b20iLCJjcm9wUmVjdHMiLCJjb25zdHJ1Y3RvciIsInZhbHVlQ2hhbmdlZCIsImFwcGVuZCIsImdldEltYWdlV2lkdGgiLCJnZXRJbWFnZUhlaWdodCIsIkZvY3VzcG9pbnQiLCJjbGljayAucmVzZXQiLCJjbGljayAucHJvY2VlZCIsImNsaWNrIC5jYW5jZWwtdXBsb2FkIiwidXBsb2FkZXIiLCJtb2RhbCIsImNhbmNlbFVwbG9hZCIsImNyZWF0ZUluc3RydWN0aW9ucyIsImluc3RydWN0aW9ucyIsImVsIiwiRm9jdXNQb2ludEluc3RydWN0aW9ucyIsInByaW9yaXR5IiwiQ2FuY2VsVXBsb2FkIiwiUmVzZXQiLCJPa2F5Iiwic2V0RmlsZSIsImZpbGUiLCJmciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJyZXN1bHQiLCJyZWFkQXNEYXRhVVJMIiwicmVzZXQiLCJwcm9jZWVkIiwiY2xvc2UiLCJjcm9wQnRuSFRNTCIsIkVkaXRJbWFnZVNpemVzIiwiY3JvcExpbmtIVE1MIiwicm9ib2Nyb3BTdGF0ZUV4dGVuZCIsImNyZWF0ZVN0YXRlcyIsIl9wYXJlbnRDcmVhdGVTdGF0ZXMiLCJzdGF0ZXMiLCJzZWxlY3Rpb24iLCJJbWFnZURldGFpbHMiLCJfcGFyZW50UG9zdFJlbmRlciIsInBvc3RSZW5kZXIiLCJyb2JvY3JvcE9wZW4iLCJjb25zb2xlIiwibG9nIiwiYXR0YWNobWVudCIsIm9wZW4iLCJBdHRhY2htZW50IiwiRGV0YWlscyIsIl9wYXJlbnRSZW5kZXIiLCJpbnNlcnRBZnRlciIsImltYWdlSW5mb3MiLCJhc2tfZm9yX2ZvY3VzcG9pbnQiLCJVcGxvYWRlcldpbmRvdyIsIl9wYXJlbnRSZWFkeSIsImRpZFJlYWR5IiwiYXNrRm9jdXMiLCJmaWxlSXRlbSIsImFza01vZGFsIiwiZGlzcG9zZSIsImFza0ZvY3VzSW1hZ2VzIiwibGVuZ3RoIiwic2hpZnQiLCJkZXN0cm95IiwiYmxvYiIsInN0YXJ0IiwiYWRkQXNrRm9jdXMiLCJmaWxlRGF0YSIsInJlc29sdmVGaWxlIiwiX3JldCIsImdldE5hdGl2ZSIsImdldFNvdXJjZSIsImJpbmQiLCJ1cCIsImZpbGVzIiwiaSIsInR5cGUiLCJCbG9iIiwic3RvcCIsInNldHRpbmdzIiwibXVsdGlwYXJ0X3BhcmFtcyIsIkpTT04iLCJzdHJpbmdpZnkiXSwibWFwcGluZ3MiOiJDQUlBLFNBQUFBLEdBQ0EsR0FBQUMsRUFFQUEsSUFDQUMsbUJBQUEsU0FBQUMsRUFBQUMsR0FFQSxHQUFBQyxJQUFBRixFQUFBRyxXQUFBQyxFQUFBLEdBQUEsRUFBQUosRUFBQUssTUFDQUMsR0FBQSxFQUFBTixFQUFBRyxXQUFBSSxHQUFBLEVBQUFQLEVBQUFRLE9BQ0FDLEVBQUFDLEtBQUFDLElBQUFYLEVBQUFLLE1BQUFKLEVBQUFXLFVBQUFaLEVBQUFRLE9BQUFQLEVBQUFZLFlBQ0FDLEVBQUFiLEVBQUFXLFVBQUFILEVBQ0FNLEVBQUFkLEVBQUFZLFdBQUFKLEVBQ0FPLEVBQUFOLEtBQUFDLElBQUFELEtBQUFPLElBQUFmLEVBQUFZLEVBQUEsRUFBQSxHQUFBZCxFQUFBSyxNQUFBUyxHQUNBSSxFQUFBUixLQUFBQyxJQUFBRCxLQUFBTyxJQUFBWCxFQUFBUyxFQUFBLEVBQUEsR0FBQWYsRUFBQVEsT0FBQU8sRUFDQSxRQUNBSSxNQUFBbEIsRUFBQW1CLE1BQ0FoQixFQUFBWSxFQUFBaEIsRUFBQUssTUFDQUUsRUFBQVcsRUFBQWxCLEVBQUFRLE9BQ0FILE1BQUFTLEVBQUFkLEVBQUFLLE1BQ0FHLE9BQUFPLEVBQUFmLEVBQUFRLFNBSUFhLGVBQUEsU0FBQUMsRUFBQXRCLEdBQ0EsR0FBQXVCLEdBQUFDLElBQ0EsS0FBQUQsSUFBQUQsR0FDQSxPQUFBQyxHQUNBLElBQUEsSUFDQSxJQUFBLEtBQ0EsSUFBQSxLQUNBLElBQUEsUUFDQUMsRUFBQUQsR0FBQUQsRUFBQUMsR0FBQXZC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USxJQUFBK0IsS0FBQTBPLGFBQUF0TixNQUFBcEIsS0FBQXFCLFdBK0NBckIsS0FBQThMLFNBQUFBLFNBQUE4RCxLQUFBLGFBQUEsU0FBQUMsRUFBQUMsR0FJQSxJQUFBLEdBSEFQLEdBR0FRLEVBQUEsRUFBQUEsRUFBQUQsRUFBQWIsT0FBQWMsSUFDQSxhQUFBRCxFQUFBQyxHQUFBQyxNQUFBLGNBQUFGLEVBQUFDLEdBQUFDLE9BQ0FULEVBQUFDLEVBQUFNLEVBQUFDLElBQ0FSLEVBQUFILGVBQUFhLE9BQ0FYLEVBQUFDLEVBQUFNLEdBSUFiLEdBQUFDLFNBQ0FZLEVBQUFLLE9BQ0FMLEVBQUEvSSxVQUNBOEgsRUFBQWlCLEdBQ0E5QixRQUFBQyxJQUFBLGVBSUFoTyxLQUFBOEwsU0FBQUEsU0FBQThELEtBQUEsZUFBQSxTQUFBQyxFQUFBbkQsR0FDQSxHQUFBMU8sR0FBQUQsQ0FFQSxJQUFBd1EsRUFBQTdCLEVBQUF6RyxNQUFBLENBR0F4SixVQUFBOFIsRUFBQTdCLEVBQUF6RyxNQUNBbEksSUFDQSxLQUFBQyxJQUFBa0IsR0FDQW5CLEVBQUFtQixFQUFBbEIsR0FBQWlJLE1BQUFqSCxHQUFBRCxNQUFBeEMsU0FBQUMsbUJBQUFDLFVBQUF5QyxFQUFBbEIsR0FHQTZSLEdBQUFNLFNBQUFDLGlCQUFBeFQsV0FBQXlULEtBQUFDLFVBQUE3VCxVQUFBRyxZQUNBaVQsRUFBQU0sU0FBQUMsaUJBQUFyUyxTQUFBc1MsS0FBQUMsVUFBQXZTLFNBRUF3USxHQUFBN0IsRUFBQXpHLFNBR0FoSSxTQUlBa00iLCJmaWxlIjoid3Atcm9ib2Nyb3AubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAcHJlc2VydmUgKGMpIDIwMTYgYnkgSm9lcm4gTHVuZFxuICogQGxpY2Vuc2UgR1BMM1xuICovXG4oZnVuY3Rpb24oIGV4cG9ydHMgKXtcblx0dmFyIHJvYm9jcm9wO1xuXG5cdHJvYm9jcm9wID0ge1xuXHRcdGNyb3BGcm9tRm9jdXNQb2ludDogZnVuY3Rpb24oIGltYWdlaW5mbywgY3JvcGluZm8gKSB7XG5cdFx0XHQvLyBub3JtYWxpemUgXG5cdFx0XHR2YXIgZnBfeCA9ICAgKCAgaW1hZ2VpbmZvLmZvY3VzcG9pbnQueCArIDEpIC8gMiAqIGltYWdlaW5mby53aWR0aCxcblx0XHRcdFx0ZnBfeSA9ICAgKCAtaW1hZ2VpbmZvLmZvY3VzcG9pbnQueSArIDEpIC8gMiAqIGltYWdlaW5mby5oZWlnaHQsXG5cdFx0XHRcdHNjYWxlID0gTWF0aC5taW4oIGltYWdlaW5mby53aWR0aCAvIGNyb3BpbmZvLm1pbl93aWR0aCwgaW1hZ2VpbmZvLmhlaWdodCAvIGNyb3BpbmZvLm1pbl9oZWlnaHQgKSxcblx0XHRcdFx0Y3JvcF93ID0gY3JvcGluZm8ubWluX3dpZHRoICogc2NhbGUsXG5cdFx0XHRcdGNyb3BfaCA9IGNyb3BpbmZvLm1pbl9oZWlnaHQgKiBzY2FsZSxcblx0XHRcdFx0Y3JvcF94ID0gTWF0aC5taW4oIE1hdGgubWF4KCBmcF94IC0gY3JvcF93IC8gMiwgMCApICwgaW1hZ2VpbmZvLndpZHRoIC0gY3JvcF93KSxcblx0XHRcdFx0Y3JvcF95ID0gTWF0aC5taW4oIE1hdGgubWF4KCBmcF95IC0gY3JvcF9oIC8gMiwgMCApICwgaW1hZ2VpbmZvLmhlaWdodCAtIGNyb3BfaCk7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRuYW1lczogY3JvcGluZm8uc2l6ZXMsXG5cdFx0XHRcdHg6IGNyb3BfeCAvIGltYWdlaW5mby53aWR0aCxcblx0XHRcdFx0eTogY3JvcF95IC8gaW1hZ2VpbmZvLmhlaWdodCxcblx0XHRcdFx0d2lkdGg6IGNyb3BfdyAvIGltYWdlaW5mby53aWR0aCxcblx0XHRcdFx0aGVpZ2h0OiBjcm9wX2ggLyBpbWFnZWluZm8uaGVpZ2h0XG5cdFx0XHR9O1xuXHRcdH0sXG5cblx0XHRyZWxUb0Fic0Nvb3JkczogZnVuY3Rpb24oIGNyb3BkYXRhLCBpbWFnZWluZm8gKSB7XG5cdFx0XHR2YXIgcywgcmV0ID0ge307XG5cdFx0XHRmb3IgKCBzIGluIGNyb3BkYXRhICkge1xuXHRcdFx0XHRzd2l0Y2ggKCBzICkge1xuXHRcdFx0XHRcdGNhc2UgJ3gnOlxuXHRcdFx0XHRcdGNhc2UgJ3gxJzpcblx0XHRcdFx0XHRjYXNlICd4Mic6XG5cdFx0XHRcdFx0Y2FzZSAnd2lkdGgnOlxuXHRcdFx0XHRcdFx0cmV0W3NdID0gY3JvcGRhdGFbc10gKiBpbWFnZWluZm8ud2lkdGhcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3knOlxuXHRcdFx0XHRcdGNhc2UgJ3kxJzpcblx0XHRcdFx0XHRjYXNlICd5Mic6XG5cdFx0XHRcdFx0Y2FzZSAnaGVpZ2h0Jzpcblx0XHRcdFx0XHRcdHJldFtzXSA9IGNyb3BkYXRhW3NdICogaW1hZ2VpbmZvLmhlaWdodFxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdHJldFtzXSA9IGNyb3BkYXRhW3NdO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fSxcblx0XHRhYnNUb1JlbENvb3JkczogZnVuY3Rpb24oIGNyb3BkYXRhLCBpbWFnZWluZm8gKSB7XG5cdFx0XHR2YXIgcywgcmV0ID0ge307XG5cdFx0XHRmb3IgKCBzIGluIGNyb3BkYXRhICkge1xuXHRcdFx0XHRzd2l0Y2ggKCBzICkge1xuXHRcdFx0XHRcdGNhc2UgJ3gnOlxuXHRcdFx0XHRcdGNhc2UgJ3gxJzpcblx0XHRcdFx0XHRjYXNlICd4Mic6XG5cdFx0XHRcdFx0Y2FzZSAnd2lkdGgnOlxuXHRcdFx0XHRcdFx0cmV0W3NdID0gY3JvcGRhdGFbc10gLyBpbWFnZWluZm8ud2lkdGhcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3knOlxuXHRcdFx0XHRcdGNhc2UgJ3kxJzpcblx0XHRcdFx0XHRjYXNlICd5Mic6XG5cdFx0XHRcdFx0Y2FzZSAnaGVpZ2h0Jzpcblx0XHRcdFx0XHRcdHJldFtzXSA9IGNyb3BkYXRhW3NdIC8gaW1hZ2VpbmZvLmhlaWdodFxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdHJldFtzXSA9IGNyb3BkYXRhW3NdO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fSxcblxuXHRcdHBvaW50VG9SZWN0Q29vcmRzOmZ1bmN0aW9uKCBwb2ludHMgKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHR4OiBwb2ludHMueDEsXG5cdFx0XHRcdHk6IHBvaW50cy55MSxcblx0XHRcdFx0d2lkdGg6ICBwb2ludHMueDIgLSBwb2ludHMueDEsXG5cdFx0XHRcdGhlaWdodDogcG9pbnRzLnkyIC0gcG9pbnRzLnkxXG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdHJlY3RUb1BvaW50Q29vcmRzOmZ1bmN0aW9uKCByZWN0ICkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0eDE6IHJlY3QueCxcblx0XHRcdFx0eTE6IHJlY3QueSxcblx0XHRcdFx0eDI6IChyZWN0Lm1heFggPyByZWN0Lm1heFggOiByZWN0LngrcmVjdC53aWR0aCksXG5cdFx0XHRcdHkyOiAocmVjdC5tYXhZID8gcmVjdC5tYXhZIDogcmVjdC55K3JlY3QuaGVpZ2h0KSxcblx0XHRcdH07XG5cdFx0fSxcblxuXHRcdHZpZXcgOiB7fSxcblx0XHRjb250cm9sbGVyIDoge31cblx0fTtcblxuXHRleHBvcnRzLm1lZGlhLnJvYm9jcm9wID0gcm9ib2Nyb3A7XG59KSggd3AgKTsiLCIoZnVuY3Rpb24od3AsJCkge1xuXG5cdHZhciBpbWFnZV9yYXRpb3NcdFx0PSB3aW5kb3cud3Bfcm9ib2Nyb3AuaW1hZ2VfcmF0aW9zLFxuXHRcdGltYWdlX3NpemVzXHRcdFx0PSB3aW5kb3cud3Bfcm9ib2Nyb3AuaW1hZ2Vfc2l6ZXMsXG5cdFx0bDEwblx0XHRcdFx0PSB3aW5kb3cud3Bfcm9ib2Nyb3AubDEwbixcblx0XHRvcHRpb25zXHRcdFx0XHQ9IHdpbmRvdy53cF9yb2JvY3JvcC5vcHRpb25zO1xuXG5cblx0LyoqXG5cdCAqXHRBbiBJbWFnZVxuXHQgKi9cblx0d3AubWVkaWEucm9ib2Nyb3Audmlldy5JbWcgPSB3cC5tZWRpYS5WaWV3LmV4dGVuZCh7XG5cdFx0Y2xhc3NOYW1lOidhdHRhY2htZW50LWltYWdlJyxcblx0XHR0YWdOYW1lOidpbWcnLFxuXHRcdGlkOidyb2JvY3JvcC1pbWFnZScsXG5cdFx0aW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHRfLmRlZmF1bHRzKCB0aGlzLm9wdGlvbnMsIHtzcmM6Jyd9ICk7XG5cdFx0XHR0aGlzLiRlbC5vbignbG9hZCcsZnVuY3Rpb24oKXtcblx0XHRcdFx0c2VsZi53aWR0aCA9IHNlbGYuJGVsLmdldCgwKS5uYXR1cmFsV2lkdGg7XG5cdFx0XHRcdHNlbGYuaGVpZ2h0ID0gc2VsZi4kZWwuZ2V0KDApLm5hdHVyYWxIZWlnaHQ7XG5cdFx0XHRcdHNlbGYucmF0aW8gPSBzZWxmLndpZHRoIC8gc2VsZi5oZWlnaHQ7XG5cdFx0XHRcdHNlbGYudHJpZ2dlcignbG9hZCcsc2VsZik7XG5cdFx0XHR9KTtcblx0XHRcdHRoaXMuJGVsLmF0dHIoJ3NyYycsIHRoaXMub3B0aW9ucy5zcmMgKTtcblx0XHR9LFxuXHRcdGdldFNyYzogZnVuY3Rpb24oc3JjKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy4kZWwuYXR0ciggJ3NyYycgKTtcblx0XHR9LFxuXHRcdHNldFNyYzogZnVuY3Rpb24oc3JjKSB7XG5cdFx0XHQhIXNyYyAmJiB0aGlzLiRlbC5hdHRyKCAnc3JjJywgc3JjICk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH0pO1xuXG5cblx0LyoqXG5cdCAqXHRSYXRpbyBzZWxlY3QgbGlzdFxuXHQgKi9cblx0d3AubWVkaWEucm9ib2Nyb3Audmlldy5Sb2JvY3JvcFJhdGlvU2VsZWN0ID0gd3AubWVkaWEuVmlldy5leHRlbmQoe1xuXHRcdGNsYXNzTmFtZTogJ3JvYm9jcm9wLXNlbGVjdCcsXG5cdFx0dGVtcGxhdGU6IHdwLnRlbXBsYXRlKCdyb2JvY3JvcC1zZWxlY3QnKSxcblx0XHRldmVudHM6IHtcblx0XHRcdCdjbGljayBbbmFtZT1cInJvYm9jcm9wLXNlbGVjdC1yYXRpb1wiXSc6ICdzZWxlY3RSYXRpbycsXG5cdFx0fSxcblx0XHRpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcblx0XHRcdHdwLkJhY2tib25lLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0Xy5kZWZhdWx0cyh7XG5cdFx0XHRcdHJhdGlvczp7fSxcblx0XHRcdFx0dG9vbHM6e31cblx0XHRcdH0sdGhpcy5vcHRpb25zKTtcblx0XHRcdHRoaXMub3B0aW9ucy5sMTBuID0gbDEwbjtcblx0XHRcdFxuXHRcdH0sXG5cdFx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRcdHdwLkJhY2tib25lLlZpZXcucHJvdG90eXBlLnJlbmRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHRcblx0XHRcdF8uZWFjaCggdGhpcy5vcHRpb25zLnRvb2xzLCBmdW5jdGlvbiggdG9vbCwga2V5ICkge1xuXHRcdFx0XHRzZWxmLnZpZXdzLmFkZChuZXcgd3AubWVkaWEucm9ib2Nyb3Audmlldy5Sb2JvY3JvcFJhdGlvU2VsZWN0SXRlbSh7XG5cdFx0XHRcdFx0cmF0aW9rZXk6XHRrZXksXG5cdFx0XHRcdFx0c2l6ZW5hbWVzOlx0ZmFsc2UsXG5cdFx0XHRcdFx0cmF0aW86IFx0XHRrZXksXG5cdFx0XHRcdFx0dGl0bGU6XHRcdHRvb2wudGl0bGUsXG5cdFx0XHRcdFx0ZW5hYmxlZDogXHR0cnVlXG5cdFx0XHRcdH0pKVxuXHRcdFx0XHRcblx0XHRcdH0pO1xuXHRcdFx0Xy5lYWNoKCB0aGlzLm9wdGlvbnMucmF0aW9zLCBmdW5jdGlvbiggcmF0aW8sIGtleSApIHtcblx0XHRcdFx0dmFyIG5hbWVzID0gW10sXG5cdFx0XHRcdFx0dHBsX3N0ciA9ICc8c3BhbiBjbGFzcz1cInNpemVuYW1lPCU9IGNhbmNyb3AgPyBcIlwiIDogXCIgZGlzYWJsZWRcIiAlPlwiPjwlPSBuYW1lICU+ICg8JT0gd2lkdGggJT7DlzwlPSBoZWlnaHQgJT4pPC9zcGFuPicsXG5cdFx0XHRcdFx0bmFtZV90cGwgPSBfLnRlbXBsYXRlKHRwbF9zdHIpO1xuXHRcdFx0XHRfLmVhY2goIHJhdGlvLnNpemVzLCBmdW5jdGlvbihzaXplbmFtZSxrZXkpIHtcblx0XHRcdFx0XHR2YXIgc2l6ZSA9ICQuZXh0ZW5kKCB0cnVlLCB7XG5cdFx0XHRcdFx0XHRjYW5jcm9wIDpcdChzZWxmLm1vZGVsLmdldCgnd2lkdGgnKSA+PSBpbWFnZV9zaXplc1tzaXplbmFtZV0ud2lkdGgpICYmXG5cdFx0XHRcdFx0XHRcdFx0XHQoc2VsZi5tb2RlbC5nZXQoJ2hlaWdodCcpID49IGltYWdlX3NpemVzW3NpemVuYW1lXS5oZWlnaHQpXG5cdFx0XHRcdFx0fSwgaW1hZ2Vfc2l6ZXNbc2l6ZW5hbWVdKTtcblx0XHRcdFx0XHRpZiAoIHNpemUuY3JvcCApIHtcblx0XHRcdFx0XHRcdG5hbWVzLnB1c2goIG5hbWVfdHBsKCBzaXplICkgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRzZWxmLnZpZXdzLmFkZChuZXcgd3AubWVkaWEucm9ib2Nyb3Audmlldy5Sb2JvY3JvcFJhdGlvU2VsZWN0SXRlbSh7XG5cdFx0XHRcdFx0cmF0aW9rZXk6XHRrZXksXG5cdFx0XHRcdFx0c2l6ZW5hbWVzOlx0bmFtZXMuam9pbignJyksXG5cdFx0XHRcdFx0cmF0aW86IFx0XHRrZXksXG5cdFx0XHRcdFx0dGl0bGU6XHRcdGtleSArICcgOiAxJyxcblx0XHRcdFx0XHRlbmFibGVkOiBcdChzZWxmLm1vZGVsLmdldCgnd2lkdGgnKSAgPj0gcmF0aW8ubWluX3dpZHRoKSAmJlxuXHRcdFx0XHRcdFx0XHRcdChzZWxmLm1vZGVsLmdldCgnaGVpZ2h0JykgPj0gcmF0aW8ubWluX2hlaWdodClcblx0XHRcdFx0fSkpXG5cdFx0XHR9ICk7XG5cdFx0XHRcblx0XHRcdFxuXHRcdH0sXG5cdFx0c2V0U2VsZWN0ZWQ6IGZ1bmN0aW9uKCByYXRpb2tleSApIHtcblx0XHRcdHRoaXMuJGVsLmZpbmQoJ1tuYW1lPVwicm9ib2Nyb3Atc2VsZWN0LXJhdGlvXCJdW3ZhbHVlPVwiJytyYXRpb2tleSsnXCJdJykucHJvcCgnY2hlY2tlZCcsdHJ1ZSk7XG5cdFx0XHR0aGlzLnNlbGVjdFJhdGlvKCk7XG5cdFx0fSxcblx0XHRnZXRTZWxlY3RlZDogZnVuY3Rpb24oICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuJGVsLmZpbmQoJ1tuYW1lPVwicm9ib2Nyb3Atc2VsZWN0LXJhdGlvXCJdOmNoZWNrZWQnKS52YWwoKTtcblx0XHR9LFxuXHRcdHNlbGVjdFJhdGlvOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5yYXRpb3NbIHRoaXMuZ2V0U2VsZWN0ZWQoKSBdICkge1xuXHRcdFx0XHR0aGlzLnRyaWdnZXIoJ3NlbGVjdC1yYXRpbycpO1xuXHRcdFx0fSBlbHNlIGlmICggdGhpcy5vcHRpb25zLnRvb2xzWyB0aGlzLmdldFNlbGVjdGVkKCkgXSApIHtcblx0XHRcdFx0dGhpcy50cmlnZ2VyKCdzZWxlY3QtdG9vbCcpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy50cmlnZ2VyKCdzZWxlY3QnKTtcblx0XHR9XG5cdH0pO1xuXG5cdC8qKlxuXHQgKlx0UmF0aW8gc2VsZWN0IGxpc3QgSXRlbVxuXHQgKi9cblx0d3AubWVkaWEucm9ib2Nyb3Audmlldy5Sb2JvY3JvcFJhdGlvU2VsZWN0SXRlbSA9IHdwLm1lZGlhLlZpZXcuZXh0ZW5kKHtcblx0XHRjbGFzc05hbWU6ICdyb2JvY3JvcC1zZWxlY3QtaXRlbScsXG5cdFx0dGVtcGxhdGU6IHdwLnRlbXBsYXRlKCdyb2JvY3JvcC1zZWxlY3QtaXRlbScpLFxuXHRcdHNpemVrZXk6JycsXG5cdFx0c2l6ZW5hbWVzOicnLFxuXHRcdHJhdGlvOjAsXG5cdFx0ZW5hYmxlZDpudWxsLFxuXHRcdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHR3cC5CYWNrYm9uZS5WaWV3LnByb3RvdHlwZS5yZW5kZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0dGhpcy4kZWwuZmluZCgnaW5wdXRbdHlwZT1cInJhZGlvXCJdJykucHJvcCgnZGlzYWJsZWQnLCAhIHRoaXMub3B0aW9ucy5lbmFibGVkIClcblx0XHR9XG5cdH0pO1xuXG5cdHdwLm1lZGlhLnJvYm9jcm9wLnZpZXcuUm9ib2Nyb3BJbWFnZSA9IHdwLm1lZGlhLlZpZXcuZXh0ZW5kKHtcblx0XHRjbGFzc05hbWU6XHRcdCdpbWFnZS1yb2JvY3JvcCcsXG5cdFx0dGVtcGxhdGU6XHRcdHdwLnRlbXBsYXRlKCdyb2JvY3JvcCcpLFxuXHRcdGltYWdlX3JhdGlvczpcdGltYWdlX3JhdGlvcyxcblx0XHRpbWFnZV9zaXplczpcdGltYWdlX3NpemVzLFxuXHRcdF9jcm9wcGVyczpcdFx0bnVsbCxcblx0XHRldmVudHM6IHtcblx0XHRcdCdjbGljayAucm9ib2Nyb3AtYXV0b2Nyb3AtY3VycmVudCdcdDogJ2F1dG9jcm9wJyxcblx0XHRcdCdjbGljayAucm9ib2Nyb3AtYXV0b2Nyb3AtYWxsJ1x0XHQ6ICdhdXRvY3JvcEFsbCcsXG5cdFx0fSxcblx0XHRpbml0aWFsaXplOiBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0XHQvL1x0d3AubWVkaWEudmlldy5FZGl0SW1hZ2UucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0dGhpcy5fY3JvcHBlcnMgXHRcdD0ge307XG5cdFx0XHR0aGlzLmltYWdlIFx0XHRcdD0gbmV3IHdwLm1lZGlhLnJvYm9jcm9wLnZpZXcuSW1nKCB7c3JjOiB0aGlzLm1vZGVsLmdldCgndXJsJykgfSApO1xuXG5cdFx0XHR0aGlzLmNvbnRyb2xsZXIgXHQ9IG9wdGlvbnMuY29udHJvbGxlcjtcblx0XHRcdHRoaXMuZm9jdXNwb2ludHRvb2xcdD0gbmV3IHdwLm1lZGlhLnJvYm9jcm9wLnZpZXcuZm9jdXNwb2ludC5JbWFnZUZvY3VzUG9pbnRTZWxlY3QoeyBpbWFnZTogdGhpcy5pbWFnZSwgZm9jdXNwb2ludDoge3g6MCx5OjB9LCBzcmM6IHRoaXMubW9kZWwuZ2V0KCd1cmwnKSB9KTtcblx0XHRcdHRoaXMubGlzdGVuVG8oIHRoaXMuZm9jdXNwb2ludHRvb2wsICdjaGFuZ2VkJywgdGhpcy51cGRhdGVGb2N1c1BvaW50ICk7XG5cdFx0XHRcblx0XHRcdHdwLm1lZGlhLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH0sXG5cdFx0ZGlzbWlzczpmdW5jdGlvbigpIHtcblx0XHRcdHZhciBhcmVhU2VsZWN0ID0gdGhpcy4kYXJlYVNlbGVjdCgpXG5cdFx0XHRhcmVhU2VsZWN0ICYmIGFyZWFTZWxlY3QucmVtb3ZlKCk7XG5cdFx0XHR0aGlzLiRlbC5yZW1vdmUoKTtcblx0XHR9LFxuXHRcdGNyZWF0ZVNlbGVjdDogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnNlbGVjdCA9IG5ldyB3cC5tZWRpYS5yb2JvY3JvcC52aWV3LlJvYm9jcm9wUmF0aW9TZWxlY3Qoe1xuXHRcdFx0XHRjaG9pY2VzOiBjaG9pY2VzXG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcdGhhc0NoYW5nZWQ6IGZ1bmN0aW9uKCl7XG5cdFx0XHR0aGlzLnRyaWdnZXIoICdjaGFuZ2VkJyApO1xuXHRcdH0sXG5cdFx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0d3AubWVkaWEuVmlldy5wcm90b3R5cGUucmVuZGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblxuXHRcdFx0dGhpcy52aWV3cy5zZXQoJy5yb2JvY3JvcC1jb250ZW50JywgdGhpcy5mb2N1c3BvaW50dG9vbCApO1xuXG5cdFx0XHR0aGlzLmZvY3VzcG9pbnR0b29sLnNldEZvY3VzcG9pbnQoIHRoaXMubW9kZWwuZ2V0KCAnZm9jdXNwb2ludCcgKSApO1xuXG5cdFx0XHR0aGlzLmltYWdlLiRlbC5pbWdBcmVhU2VsZWN0KHtcblx0XHRcdFx0cGFyZW50OiBcdFx0dGhpcy5pbWFnZS4kZWwuY2xvc2VzdCgnLnJvYm9jcm9wLWltYWdlLWJveCcpLFxuXHRcdFx0XHRpbnN0YW5jZTpcdCBcdHRydWUsXG5cdFx0XHRcdGhhbmRsZXM6IFx0XHR0cnVlLFxuXHRcdFx0XHRrZXlzOiBcdFx0XHR0cnVlLFxuXHRcdFx0XHRwZXJzaXN0ZW50Olx0XHR0cnVlLFxuXHRcdFx0XHRlbmFibGVkOlx0XHR0cnVlLFxuXHRcdFx0XHRtb3ZhYmxlOlx0XHR0cnVlLFxuXHRcdFx0XHRyZXNpemFibGU6XHRcdHRydWUsXG5cdFx0XHRcdGltYWdlSGVpZ2h0Olx0dGhpcy5tb2RlbC5nZXQoJ2hlaWdodCcpLFxuXHRcdFx0XHRpbWFnZVdpZHRoOlx0XHR0aGlzLm1vZGVsLmdldCgnd2lkdGgnKSxcblx0XHRcdFx0b25TZWxlY3RFbmQ6IGZ1bmN0aW9uKCBpbWFnZSwgY29vcmRzICkge1xuXHRcdFx0XHRcdHZhciBjcm9wZGF0YSA9IHdwLm1lZGlhLnJvYm9jcm9wLnBvaW50VG9SZWN0Q29vcmRzKCBjb29yZHMgKVxuXHRcdFx0XHRcdHNlbGYuX3NldENyb3BTaXplcyhjcm9wZGF0YSk7XG5cdFx0XHRcdFx0c2VsZi5oYXNDaGFuZ2VkKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBzZXQgcmF0aW8gc2VlbGN0XG5cdFx0XHR0aGlzLnNlbGVjdFJhdGlvID0gbmV3IHdwLm1lZGlhLnJvYm9jcm9wLnZpZXcuUm9ib2Nyb3BSYXRpb1NlbGVjdCh7XG5cdFx0XHRcdHRvb2xzOiB7XG5cdFx0XHRcdFx0Zm9jdXNwb2ludCA6IHtcblx0XHRcdFx0XHRcdHRpdGxlOiBsMTBuLlNldEZvY3VzUG9pbnQsXG5cdFx0XHRcdFx0XHR0cmlnZ2VyOiAnZm9jdXNwb2ludCdcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHJhdGlvczp0aGlzLmltYWdlX3JhdGlvcyxcblx0XHRcdFx0bW9kZWw6dGhpcy5tb2RlbFxuXHRcdFx0fSk7XG5cdFx0XHR0aGlzLnNlbGVjdFJhdGlvXG5cdFx0XHRcdC5vbignc2VsZWN0LXJhdGlvJywgdGhpcy5vbnNlbGVjdHJhdGlvLCB0aGlzIClcblx0XHRcdFx0Lm9uKCdzZWxlY3QtdG9vbCcsIHRoaXMub25zZWxlY3R0b29sLCB0aGlzIClcblx0XHRcdFx0Lm9uKCdzZWxlY3QnLCB0aGlzLnVwZGF0ZUJ1dHRvbnMsIHRoaXMgKTtcblxuXHRcdFx0dGhpcy52aWV3cy5zZXQoJy5zZWxlY3QtcmF0aW8nLCB0aGlzLnNlbGVjdFJhdGlvICk7XHRcblx0XHRcdC8vIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCl7IH0sMjApO1xuXHRcdFx0XG5cdFx0XHQvLyBidXR0b25zXG5cdFx0XHR0aGlzLiRhdXRvQnV0dG9uXHQ9IHRoaXMuJGVsLmZpbmQoJy5yb2JvY3JvcC1hdXRvY3JvcC1jdXJyZW50Jyk7XG5cdFx0XHR0aGlzLiRhdXRvQWxsQnV0dG9uXHQ9IHRoaXMuJGVsLmZpbmQoJy5yb2JvY3JvcC1hdXRvY3JvcC1hbGwnKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0cmVhZHk6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGN1cnJlbnRSYXRpbywgZm91bmQ7XG5cdFx0XHR3cC5tZWRpYS52aWV3LkVkaXRJbWFnZS5wcm90b3R5cGUucmVhZHkuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXG5cdFx0XHRpZiAoICEgXy5pc1VuZGVmaW5lZCggdGhpcy5vcHRpb25zLnNpemVUb1NlbGVjdCApICkge1xuXHRcdFx0XHRmb3VuZCA9IF8uZmluZCggdGhpcy5pbWFnZV9yYXRpb3MsIGZ1bmN0aW9uKCByYXRpbyApe1xuXHRcdFx0XHRcdHJldHVybiByYXRpby5zaXplcy5pbmRleE9mKCB0aGlzLm9wdGlvbnMuc2l6ZVRvU2VsZWN0ICkgPiAtMTtcblx0XHRcdFx0fSwgdGhpcyApO1xuXHRcdFx0XHRpZiAoIGZvdW5kICkge1xuXHRcdFx0XHRcdGN1cnJlbnRSYXRpbyA9IGZvdW5kLm5hbWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBfLmlzVW5kZWZpbmVkKCBjdXJyZW50UmF0aW8gKSApIHtcblx0XHRcdFx0Y3VycmVudFJhdGlvID0gJ2ZvY3VzcG9pbnQnOy8vXy5maXJzdChfLmtleXMoIHRoaXMuaW1hZ2VfcmF0aW9zICkpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5zZWxlY3RSYXRpby5zZXRTZWxlY3RlZCggY3VycmVudFJhdGlvICk7IFxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRzYXZlOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBkYXRhID0ge1xuXHRcdFx0XHRcdGF0dGFjaG1lbnRzOnt9XG5cdFx0XHRcdH0sIGlkID0gdGhpcy5tb2RlbC5nZXQoJ2lkJyksXG5cdFx0XHRcdCRidG5zID0gdGhpcy4kYXV0b0FsbEJ1dHRvbi5hZGQoIHRoaXMuJGF1dG9CdXR0b24gKS5wcm9wKCAnZGlzYWJsZWQnLCB0cnVlICksXG5cdFx0XHRcdHNlbGYgPSB0aGlzO1xuXHRcdFx0ZGF0YS5hdHRhY2htZW50c1tpZF0gPSB7IFxuXHRcdFx0XHRzaXplczpcdFx0dGhpcy5tb2RlbC5nZXQoJ3NpemVzJyksIFxuXHRcdFx0XHRmb2N1c3BvaW50OiB0aGlzLm1vZGVsLmdldCgnZm9jdXNwb2ludCcpXG5cdFx0XHR9O1xuXHRcdFx0dGhpcy5tb2RlbC5zYXZlQ29tcGF0KCBkYXRhLCB7fSApLmRvbmUoIGZ1bmN0aW9uKCByZXNwICkge1xuXHRcdFx0XHR2YXIgZCA9IG5ldyBEYXRlKCk7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBmb3JjZSByZWxvYWQgaW1hZ2UgLi4uXG5cdFx0XHRcdF8uZWFjaCggc2VsZi5tb2RlbC5hdHRyaWJ1dGVzLnNpemVzLCBmdW5jdGlvbiggc2l6ZSwgc2l6ZW5hbWUgKSB7XG5cdFx0XHRcdFx0dmFyIHNlbGVjdG9yID0gICdpbWdbc3JjXj1cIicrc2l6ZS51cmwrJ1wiXScsXG5cdFx0XHRcdFx0XHRyZWZyZXNoID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0JCh0aGlzKS5yZW1vdmVBdHRyKCdzcmMnKS5hdHRyKCAnc3JjJywgc2l6ZS51cmwrJz8nK2QuZ2V0VGltZSgpICk7XG5cdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRyZWZyZXNoX21jZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdCQodGhpcykucmVtb3ZlQXR0cignZGF0YS1tY2Utc3JjJykuYXR0ciggJ2RhdGEtbWNlLXNyYycsIHNpemUudXJsKyc/JytkLmdldFRpbWUoKSApO1xuXHRcdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0Ly8gLi4uIHVubGVzcyBpdCdzIGZ1bGxzaXplIC4uLlxuXHRcdFx0XHRcdGlmICggc2l6ZW5hbWUgIT09ICdmdWxsJyApIHtcblxuXHRcdFx0XHRcdFx0JChkb2N1bWVudCkuYWRkKCAkKCdpZnJhbWUnKS5jb250ZW50cygpIClcblx0XHRcdFx0XHRcdFx0LmZpbmQoIHNlbGVjdG9yIClcblx0XHRcdFx0XHRcdFx0LmVhY2goIHJlZnJlc2ggKTtcblxuXHRcdFx0XHRcdFx0Ly8gLi4uIGluc2lkZSB0aW55bWNlIGlmcmFtZXNcblx0XHRcdFx0XHRcdCQoJy5tY2UtZWRpdC1hcmVhIGlmcmFtZScpLmVhY2goZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRcdFx0JCh0aGlzKS5jb250ZW50cygpXG5cdFx0XHRcdFx0XHRcdFx0LmZpbmQoIHNlbGVjdG9yIClcblx0XHRcdFx0XHRcdFx0XHQuZWFjaCggcmVmcmVzaCApXG5cdFx0XHRcdFx0XHRcdFx0LmVhY2goIHJlZnJlc2hfbWNlICk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sIHNlbGYgKTtcblx0XHRcdFx0JGJ0bnMucHJvcCggJ2Rpc2FibGVkJywgZmFsc2UgKTtcblx0XHRcdFx0c2VsZi50cmlnZ2VyKCAnc2F2ZWQnICk7XG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0dXBkYXRlQnV0dG9uczogZnVuY3Rpb24oKXtcblx0XHRcdHZhciB0b29sa2V5ID0gdGhpcy5zZWxlY3RSYXRpby5nZXRTZWxlY3RlZCgpO1xuXHRcdFx0dGhpcy4kYXV0b0J1dHRvbi50b2dnbGVDbGFzcyggJ2hpZGRlbicsIHRvb2xrZXkgPT09ICdmb2N1c3BvaW50JyApO1xuXHRcdFx0dGhpcy4kYXV0b0FsbEJ1dHRvbi50b2dnbGVDbGFzcyggJ2hpZGRlbicsIHRvb2xrZXkgIT09ICdmb2N1c3BvaW50JyApO1xuXHRcdH0sXG5cdFx0b25zZWxlY3R0b29sOiBmdW5jdGlvbigpe1xuXHRcdFx0dmFyIHRvb2xrZXkgPSB0aGlzLnNlbGVjdFJhdGlvLmdldFNlbGVjdGVkKCk7XG5cdFx0XHR0aGlzLiRhcmVhU2VsZWN0KCkuY2FuY2VsU2VsZWN0aW9uKCk7XG5cblx0XHRcdHN3aXRjaCAoIHRvb2xrZXkgKSB7XG5cdFx0XHRcdGNhc2UgJ2ZvY3VzcG9pbnQnOlxuXHRcdFx0XHRcdC8vIHdyYXAgYXJvdW5kXG5cdFx0XHRcdFx0dGhpcy5mb2N1c3BvaW50dG9vbC5zZXRFbmFibGVkKCB0cnVlICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRvbnNlbGVjdHJhdGlvOiBmdW5jdGlvbiggKSB7XG5cdFx0XHR0aGlzLmZvY3VzcG9pbnR0b29sLnNldEVuYWJsZWQoIGZhbHNlICk7XG5cblx0XHRcdC8qKlxuXHRcdFx0ICpcdE9uIHN3aXRjaCByYXRpb1xuXHRcdFx0ICovXG5cdFx0XHR2YXIgcmF0aW9rZXkgPSB0aGlzLnNlbGVjdFJhdGlvLmdldFNlbGVjdGVkKCksXG5cdFx0XHRcdHNpemVzID0gdGhpcy5tb2RlbC5nZXQoJ3NpemVzJyksXG5cdFx0XHRcdGZhY3RvciwgcmVjdCwgY3JvcGRhdGEsIHNlbGYgPSB0aGlzLCBcblx0XHRcdFx0cywgYXJlYVNlbGVjdE9wdGlvbnMsXG5cdFx0XHRcdGltZ1dpZHRoICA9IHRoaXMubW9kZWwuZ2V0KCd3aWR0aCcpLCBcblx0XHRcdFx0aW1nSGVpZ2h0ID0gdGhpcy5tb2RlbC5nZXQoJ2hlaWdodCcpO1xuXG5cdFx0XHR0aGlzLmN1cnJlbnRfcmF0aW8gPSB0aGlzLmltYWdlX3JhdGlvc1tyYXRpb2tleV07XG5cblx0XHRcdGFyZWFTZWxlY3RPcHRpb25zID0ge1xuXHRcdFx0XHRhc3BlY3RSYXRpbzpcdHRoaXMuY3VycmVudF9yYXRpby5yYXRpbyArICc6MScsXG5cdFx0XHRcdG1pbldpZHRoOlx0XHR0aGlzLmN1cnJlbnRfcmF0aW8ubWluX3dpZHRoLFxuXHRcdFx0XHRtaW5IZWlnaHQ6XHRcdHRoaXMuY3VycmVudF9yYXRpby5taW5faGVpZ2h0XG5cdFx0XHR9O1xuXG5cdFx0XHRfLmVhY2godGhpcy5jdXJyZW50X3JhdGlvLnNpemVzLCBmdW5jdGlvbihzaXplKXtcblx0XHRcdFx0aWYgKCAhIGNyb3BkYXRhICYmICEhIHNpemVzW3NpemVdICYmICEhIHNpemVzW3NpemVdLmNyb3BkYXRhICkge1xuXHRcdFx0XHRcdGNyb3BkYXRhID0gc2l6ZXNbc2l6ZV0uY3JvcGRhdGE7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBpbWFnZV9zaXplc1tzaXplXS53aWR0aCA8PSBpbWdXaWR0aCAmJiBpbWFnZV9zaXplc1tzaXplXS5oZWlnaHQgPD0gaW1nSGVpZ2h0ICkge1xuXHRcdFx0XHRcdGFyZWFTZWxlY3RPcHRpb25zLm1pbldpZHRoICA9IE1hdGgubWF4KCBhcmVhU2VsZWN0T3B0aW9ucy5taW5XaWR0aCwgIGltYWdlX3NpemVzW3NpemVdLndpZHRoICk7XG5cdFx0XHRcdFx0YXJlYVNlbGVjdE9wdGlvbnMubWluSGVpZ2h0ID0gTWF0aC5tYXgoIGFyZWFTZWxlY3RPcHRpb25zLm1pbkhlaWdodCwgaW1hZ2Vfc2l6ZXNbc2l6ZV0uaGVpZ2h0ICk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRpZiAoICFjcm9wZGF0YSApIHtcblx0XHRcdFx0Ly8gd3AgZGVmYXVsdCBjcm9wZGF0YVxuXHRcdFx0XHR2YXIgc2NhbGUgPSBNYXRoLm1pbiggdGhpcy5tb2RlbC5nZXQoJ3dpZHRoJykgLyB0aGlzLmN1cnJlbnRfcmF0aW8ucmF0aW8sIHRoaXMubW9kZWwuZ2V0KCdoZWlnaHQnKSk7XG5cdFx0XHRcdFxuXHRcdFx0XHRyZWN0ID0ge1xuXHRcdFx0XHRcdHg6MCxcblx0XHRcdFx0XHR5OjAsXG5cdFx0XHRcdFx0d2lkdGg6ICBzY2FsZSAqIHRoaXMuY3VycmVudF9yYXRpby5yYXRpbyxcblx0XHRcdFx0XHRoZWlnaHQ6IHNjYWxlXG5cdFx0XHRcdH07XG5cdFx0XHRcdHJlY3QueCA9ICh0aGlzLm1vZGVsLmdldCgnd2lkdGgnKSAtIHJlY3Qud2lkdGgpLzI7XG5cdFx0XHRcdHJlY3QueSA9ICh0aGlzLm1vZGVsLmdldCgnaGVpZ2h0JykgLSByZWN0LmhlaWdodCkvMjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJlY3QgPSB7fTtcblx0XHRcdFx0XG5cdFx0XHRcdF8uZXh0ZW5kKHJlY3QsY3JvcGRhdGEpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLiRhcmVhU2VsZWN0KCkuc2V0T3B0aW9ucyggYXJlYVNlbGVjdE9wdGlvbnMgKTtcblx0XHRcdGlmICggISB0aGlzLmltYWdlLiRlbC5nZXQoMCkuY29tcGxldGUgKSB7XG5cdFx0XHRcdHRoaXMuaW1hZ2UuJGVsLm9uKCdsb2FkJyxmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRzZWxmLnNlbGVjdENyb3AocmVjdCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5zZWxlY3RDcm9wKHJlY3QpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRhdXRvY3JvcDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0Ly8gY3JvcCBieSBmb2N1cyBwb2ludFxuXHRcdFx0XG5cdFx0XHR2YXIgY3JvcGRhdGEsIGltYWdlaW5mbyA9IHtcblx0XHRcdFx0XHR3aWR0aDpcdFx0dGhpcy5tb2RlbC5nZXQoJ3dpZHRoJyksXG5cdFx0XHRcdFx0aGVpZ2h0Olx0XHR0aGlzLm1vZGVsLmdldCgnaGVpZ2h0JyksXG5cdFx0XHRcdFx0Zm9jdXNwb2ludDpcdHRoaXMubW9kZWwuZ2V0KCdmb2N1c3BvaW50Jylcblx0XHRcdFx0fTtcblx0XHRcdGNyb3BkYXRhID0gd3AubWVkaWEucm9ib2Nyb3AuY3JvcEZyb21Gb2N1c1BvaW50KCBpbWFnZWluZm8sIHRoaXMuY3VycmVudF9yYXRpbyApO1xuXHRcdFx0Y3JvcGRhdGEgPSB3cC5tZWRpYS5yb2JvY3JvcC5yZWxUb0Fic0Nvb3JkcyggY3JvcGRhdGEsIGltYWdlaW5mbyApO1xuXG5cdFx0XHR0aGlzLl9zZXRDcm9wU2l6ZXMoIGNyb3BkYXRhICk7XG5cdFx0XHR0aGlzLnNlbGVjdENyb3AoIGNyb3BkYXRhICk7XG5cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0YXV0b2Nyb3BBbGw6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdFx0aW1hZ2VpbmZvID0ge1xuXHRcdFx0XHRcdHdpZHRoOlx0XHR0aGlzLm1vZGVsLmdldCgnd2lkdGgnKSxcblx0XHRcdFx0XHRoZWlnaHQ6XHRcdHRoaXMubW9kZWwuZ2V0KCdoZWlnaHQnKSxcblx0XHRcdFx0XHRmb2N1c3BvaW50Olx0dGhpcy5tb2RlbC5nZXQoJ2ZvY3VzcG9pbnQnKVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRfLmVhY2goIHRoaXMuaW1hZ2VfcmF0aW9zLCBmdW5jdGlvbiggcmF0aW8gKSB7XG5cdFx0XHRcdHZhciBjcm9wZGF0YTtcblx0XHRcdFx0Y3JvcGRhdGEgPSB3cC5tZWRpYS5yb2JvY3JvcC5jcm9wRnJvbUZvY3VzUG9pbnQoIGltYWdlaW5mbywgcmF0aW8gKTtcblx0XHRcdFx0Y3JvcGRhdGEgPSB3cC5tZWRpYS5yb2JvY3JvcC5yZWxUb0Fic0Nvb3JkcyggY3JvcGRhdGEsIGltYWdlaW5mbyApO1xuXHRcdFx0XHRzZWxmLl9zZXRDcm9wU2l6ZXMoIGNyb3BkYXRhLCByYXRpbyApO1xuXHRcdFx0fSApO1xuXG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHNlbGVjdENyb3A6ZnVuY3Rpb24oIHJlY3QgKSB7XG5cdFx0XHQvLyBkcmF3IGNyb3AgVUkgZWxlbWVudC5cblx0XHRcdHZhciBmYWN0b3IgPSB0aGlzLl9pbWFnZV9zY2FsZV9mYWN0b3IoKSxcblx0XHRcdFx0cG9pbnRzID0gd3AubWVkaWEucm9ib2Nyb3AucmVjdFRvUG9pbnRDb29yZHMoIHJlY3QgKSxcblx0XHRcdFx0JGFyZWFTZWxlY3QgPSB0aGlzLiRhcmVhU2VsZWN0KCk7XG5cdFx0XHRcblx0XHRcdCRhcmVhU2VsZWN0LnNldFNlbGVjdGlvbiggcG9pbnRzLngxLCBwb2ludHMueTEsIHBvaW50cy54MiwgcG9pbnRzLnkyLCBmYWxzZSApO1xuXHRcdFx0JGFyZWFTZWxlY3Quc2V0T3B0aW9ucygge3Nob3c6dHJ1ZX0gKTtcblx0XHRcdCRhcmVhU2VsZWN0LnVwZGF0ZSgpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHQkYXJlYVNlbGVjdCA6IGZ1bmN0aW9uKCl7XG5cdFx0XHRyZXR1cm4gdGhpcy5pbWFnZS4kZWwuZGF0YSgnaW1nQXJlYVNlbGVjdCcpO1xuXHRcdH0sXG5cdFx0X2ltYWdlX3NjYWxlX2ZhY3RvciA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyICRjb250YWluZXIgPSB0aGlzLmltYWdlLiRlbC5jbG9zZXN0KCcucm9ib2Nyb3AtaW1hZ2UtYm94JyksXG5cdFx0XHRcdHcgPSBNYXRoLm1pbih0aGlzLm1vZGVsLmdldCgnd2lkdGgnKSwkY29udGFpbmVyLndpZHRoKCkpLFxuXHRcdFx0XHRoID0gTWF0aC5taW4odGhpcy5tb2RlbC5nZXQoJ2hlaWdodCcpLCRjb250YWluZXIuaGVpZ2h0KCkpO1xuXHRcdFx0XG5cdFx0XHRyZXR1cm4gTWF0aC5taW4oIHcgLyB0aGlzLm1vZGVsLmdldCgnd2lkdGgnKSwgaCAvIHRoaXMubW9kZWwuZ2V0KCdoZWlnaHQnKSApO1xuXHRcdH0sXG5cdFx0dXBkYXRlRm9jdXNQb2ludDogZnVuY3Rpb24oICkge1xuXHRcdFx0dGhpcy5tb2RlbC5zZXQoICdmb2N1c3BvaW50JywgdGhpcy5mb2N1c3BvaW50dG9vbC5nZXRGb2N1c3BvaW50KCkgKTtcblx0XHR9LFxuXHRcdF9zZXRDcm9wU2l6ZXMgOiBmdW5jdGlvbiggY3JvcGRhdGEsIHJhdGlvICkge1xuXHRcdFx0dmFyIG1vZGVsU2l6ZXMgPSB0aGlzLm1vZGVsLmdldCgnc2l6ZXMnKVxuXHRcdFx0XHRyYXRpbyA9IHJhdGlvIHx8IHRoaXMuY3VycmVudF9yYXRpbztcblx0XHRcdF8uZWFjaChyYXRpby5zaXplcywgZnVuY3Rpb24oIHNpemVuYW1lICkge1xuXHRcdFx0XHQhIG1vZGVsU2l6ZXNbIHNpemVuYW1lIF0gJiYgKCBtb2RlbFNpemVzWyBzaXplbmFtZSBdID0ge30gKTtcblx0XHRcdFx0bW9kZWxTaXplc1sgc2l6ZW5hbWUgXS5jcm9wZGF0YSA9IGNyb3BkYXRhO1xuXHRcdFx0fSk7XG5cdFx0XHR0aGlzLm1vZGVsLnNldCggJ3NpemVzJywgbW9kZWxTaXplcyApO1xuXHRcdH0sXG5cdFx0X2dldFJlbGF0aXZlQ29vcmRzOiBmdW5jdGlvbiggY29vcmRzICkge1xuXHRcdFx0dmFyIHcgPSB0aGlzLm1vZGVsLmdldCgnd2lkdGgnKSxcblx0XHRcdFx0aCA9IHRoaXMubW9kZWwuZ2V0KCdoZWlnaHQnKTtcblx0XHRcdGZvciAoIHZhciBzIGluIGNvb3JkcyApIHtcblx0XHRcdFx0aWYgKCAnbnVtYmVyJz09PXR5cGVvZihjb29yZHNbc10pICkge1xuXHRcdFx0XHRcdHN3aXRjaCAocykge1xuXHRcdFx0XHRcdFx0Y2FzZSAneCc6XG5cdFx0XHRcdFx0XHRjYXNlICd4MSc6XG5cdFx0XHRcdFx0XHRjYXNlICd4Mic6XG5cdFx0XHRcdFx0XHRjYXNlICd3aWR0aCc6XG5cdFx0XHRcdFx0XHRjYXNlICdtaW5YJzpcblx0XHRcdFx0XHRcdGNhc2UgJ21heFgnOlxuXHRcdFx0XHRcdFx0XHRjb29yZHNbc10gLz0gdztcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0XHRjb29yZHNbc10gLz0gaDtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRfZ2V0QWJzb2x1dGVDb29yZHM6IGZ1bmN0aW9uKCBjb29yZHMgKSB7XG5cdFx0XHR2YXIgdyA9IHRoaXMubW9kZWwuZ2V0KCd3aWR0aCcpLFxuXHRcdFx0XHRoID0gdGhpcy5tb2RlbC5nZXQoJ2hlaWdodCcpO1xuXHRcdFx0Zm9yICggdmFyIHMgaW4gY29vcmRzICkge1xuXHRcdFx0XHRpZiAoICdudW1iZXInPT09dHlwZW9mKGNvb3Jkc1tzXSkgKSB7XG5cdFx0XHRcdFx0c3dpdGNoIChzKSB7XG5cdFx0XHRcdFx0XHRjYXNlICd4Jzpcblx0XHRcdFx0XHRcdGNhc2UgJ3gxJzpcblx0XHRcdFx0XHRcdGNhc2UgJ3gyJzpcblx0XHRcdFx0XHRcdGNhc2UgJ3dpZHRoJzpcblx0XHRcdFx0XHRcdGNhc2UgJ21pblgnOlxuXHRcdFx0XHRcdFx0Y2FzZSAnbWF4WCc6XG5cdFx0XHRcdFx0XHRcdGNvb3Jkc1tzXSAqPSB3O1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRcdGNvb3Jkc1tzXSAqPSBoO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXG5cblxuXG5cdHdwLm1lZGlhLnJvYm9jcm9wLnZpZXcuRnJhbWUgPSB3cC5tZWRpYS52aWV3Lk1lZGlhRnJhbWUuZXh0ZW5kKHtcblx0XHR0ZW1wbGF0ZTogIHdwLnRlbXBsYXRlKCdyb2JvY3JvcC1tb2RhbCcpLFxuXHRcdHJlZ2lvbnM6ICAgWyd0aXRsZScsJ2NvbnRlbnQnLCdpbnN0cnVjdGlvbnMnLCdidXR0b25zJ11cblx0fSk7XG5cblx0d3AubWVkaWEucm9ib2Nyb3Audmlldy5GcmFtZS5Dcm9wID0gd3AubWVkaWEucm9ib2Nyb3Audmlldy5GcmFtZS5leHRlbmQoe1xuXHRcdGV2ZW50czoge1xuXHRcdFx0J2NsaWNrIC5yb2JvY3JvcC1zYXZlJ1x0XHQ6ICdzYXZlJyxcblx0XHRcdCdjbGljayAucm9ib2Nyb3AtY2FuY2VsJ1x0OiAnY2xvc2UnLFxuXHRcdH0sXG5cdFx0c2F2ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLiQoJy5yb2JvY3JvcC1zYXZlLCAucm9ib2Nyb3AtY2FuY2VsJykucHJvcCggJ2Rpc2FibGVkJywgdHJ1ZSApO1xuXHRcdFx0dGhpcy5fY29udGVudC5zYXZlKCk7XG5cdFx0fSxcblx0XHRpbml0aWFsaXplOiBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0XHRcdHdwLm1lZGlhLnJvYm9jcm9wLnZpZXcuRnJhbWUucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXG5cdFx0XHR0aGlzLmNyZWF0ZVRpdGxlKCk7XG5cdFx0XHR0aGlzLmNyZWF0ZUNvbnRlbnQoKTtcblx0XHRcdHRoaXMuY3JlYXRlQnV0dG9ucygpO1xuXG5cdFx0XHR0aGlzLm9uKCdjbG9zZScsIHRoaXMuZGlzbWlzcywgdGhpcyApO1xuXHRcdFx0dGhpcy5saXN0ZW5UbyggdGhpcy5fY29udGVudCwgJ3NhdmVkJywgdGhpcy5tb2RlbFN5bmMgKTtcblx0XHR9LFxuXHRcdG1vZGVsU3luYzogZnVuY3Rpb24oKXtcblx0XHRcdHRoaXMuJCgnLnJvYm9jcm9wLXNhdmUsIC5yb2JvY3JvcC1jYW5jZWwnKS5wcm9wKCAnZGlzYWJsZWQnLCBmYWxzZSApO1xuXHRcdH0sXG5cdFx0ZGlzbWlzczpmdW5jdGlvbigpe1xuXHRcdFx0dGhpcy5fY29udGVudC5kaXNtaXNzKCk7XG5cdFx0fSxcblx0XHRjcmVhdGVUaXRsZTogZnVuY3Rpb24oICkge1xuXHRcdFx0dGhpcy5fdGl0bGUgPSBuZXcgd3AubWVkaWEuVmlldyh7XG5cdFx0XHRcdHRhZ05hbWU6ICdoMSdcblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5fdGl0bGUuJGVsLnRleHQoIGwxMG4uQXR0YWNobWVudERldGFpbHMgKTtcblx0XHRcdHRoaXMudGl0bGUuc2V0KCBbIHRoaXMuX3RpdGxlIF0gKTtcblx0XHR9LFxuXHRcdGNyZWF0ZUNvbnRlbnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG9wdHMgPSBfLmV4dGVuZCh7XG5cdFx0XHRcdGNvbnRyb2xsZXI6IHRoaXMuY29udHJvbGxlcixcblx0XHRcdFx0bW9kZWw6IHRoaXMubW9kZWxcblx0XHRcdH0sIHRoaXMub3B0aW9ucyApO1xuXHRcdFx0dGhpcy5fY29udGVudCA9IG5ldyB3cC5tZWRpYS5yb2JvY3JvcC52aWV3LlJvYm9jcm9wSW1hZ2UoIG9wdHMgKTtcblx0XHRcdHRoaXMuY29udGVudC5zZXQoIFsgdGhpcy5fY29udGVudCBdICk7XG5cdFx0fSxcblx0XHRjcmVhdGVCdXR0b25zOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpbmZvLCBidG47XG5cblx0XHRcdHRoaXMuYnV0dG9ucy5zZXQoIFtcblx0XHRcdFx0bmV3IHdwLm1lZGlhLnZpZXcuQnV0dG9uKHtcblx0XHRcdFx0XHR0ZXh0OiBsMTBuLkNsb3NlLFxuXHRcdFx0XHRcdGNsYXNzTmFtZTogJ2J1dHRvbi1zZWNvbmRhcnkgcm9ib2Nyb3AtY2FuY2VsJ1xuXHRcdFx0XHR9KSxcblx0XHRcdFx0bmV3IHdwLm1lZGlhLnZpZXcuQnV0dG9uKHtcblx0XHRcdFx0XHR0ZXh0OiBsMTBuLlNhdmVDaGFuZ2VzLFxuXHRcdFx0XHRcdGNsYXNzTmFtZTogJ2J1dHRvbi1wcmltYXJ5IHJvYm9jcm9wLXNhdmUnXG5cdFx0XHRcdH0pXG5cdFx0XHRdICk7XG5cdFx0fVxuXHR9KTtcblxuXG5cblxufSkod3AsalF1ZXJ5KTtcbiIsIihmdW5jdGlvbih3cCwkKSB7XG5cblx0dmFyIGltYWdlX3JhdGlvcyA9IHdpbmRvdy53cF9yb2JvY3JvcC5pbWFnZV9yYXRpb3MsXG5cdFx0aW1hZ2Vfc2l6ZXMgID0gd2luZG93LndwX3JvYm9jcm9wLmltYWdlX3NpemVzLFxuXHRcdGwxMG4gPSB3aW5kb3cud3Bfcm9ib2Nyb3AubDEwbjtcblxuXHR2YXIgVmlld1x0XHQ9IHdwLm1lZGlhLlZpZXcsXG5cdFx0TWVkaWFGcmFtZVx0PSB3cC5tZWRpYS52aWV3Lk1lZGlhRnJhbWUsXG5cdFx0Rm9jdXNQb2ludCxcblx0XHRDcm9wUmVjdDtcblx0XG5cdHdwLm1lZGlhLnJvYm9jcm9wLnZpZXcuZm9jdXNwb2ludCA9IHt9O1xuXG5cdENyb3BSZWN0ID0gd3AubWVkaWEucm9ib2Nyb3Audmlldy5mb2N1c3BvaW50LkNyb3BSZWN0ID0gVmlldy5leHRlbmQoe1xuLy9cdFx0dGFnTmFtZTogJ2RpdicsXG5cdFx0dGVtcGxhdGU6IHdwLnRlbXBsYXRlKCdjcm9wcmVjdCcpLFxuXHRcdGNsYXNzTmFtZTpcdCd0b29sLWNyb3ByZWN0Jyxcblx0XHRjb250cm9sbGVyOm51bGwsXG5cdFx0aW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRWaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblxuXHRcdFx0Xy5kZWZhdWx0cyggdGhpcy5vcHRpb25zLCB7IFxuXHRcdFx0XHRmb2N1c3BvaW50OiBudWxsLCAvLyBmb2N1c3BvaW50IGNvb3Jkc1xuXHRcdFx0XHRyYXRpbzogMVxuXHRcdFx0fSApO1xuXHRcdFx0dGhpcy5jb250cm9sbGVyID0gdGhpcy5vcHRpb25zLmNvbnRyb2xsZXI7XG5cdFx0XHR0aGlzLmxpc3RlblRvKCB0aGlzLmNvbnRyb2xsZXIuaW1hZ2UsICdsb2FkJywgdGhpcy5pbWFnZUxvYWRlZCApO1xuXHRcdH0sXG4vLyBcdFx0cmVuZGVyOiBmdW5jdGlvbigpIHtcbi8vXHRcdFx0Vmlldy5wcm90b3R5cGUucmVuZGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcbi8vXHRcdFx0dGhpcy4kZWwuY3NzKCAncGFkZGluZy1ib3R0b20nLCAoIHRoaXMub3B0aW9ucy5yYXRpbyAqIDEwMCApICsgJyUnICk7XG4vLyBcdFx0XHR0aGlzLiRlbC5hdHRyKCAnZGF0YS1kaXInLCB0aGlzLm9wdGlvbnMucmF0aW8gPiB0aGlzLmNvbnRyb2xsZXIuaW1hZ2UucmF0aW8gPyAndycgOiAnaCcgKTtcbi8vIFx0XHRcdHJldHVybiB0aGlzO1xuLy8gXHRcdH0sXG5cdFx0aW1hZ2VMb2FkZWQ6ZnVuY3Rpb24oIGltYWdlICkge1xuXHRcdFx0dGhpcy4kZWwuYXR0ciggJ2RhdGEtcmF0aW8tbmFtZScsIHRoaXMub3B0aW9ucy5yYXRpby5uYW1lICsgJyA6IDEnICk7XG5cdFx0XHR0aGlzLiRlbC5hdHRyKCAnZGF0YS1kaXInLCB0aGlzLm9wdGlvbnMucmF0aW8ucmF0aW8gPiBpbWFnZS5yYXRpbyA/ICd3JyA6ICdoJyApO1xuXHRcdFx0dGhpcy4kZWwuY3NzKCAnd2lkdGgnLCBNYXRoLm1pbiggMSwgdGhpcy5vcHRpb25zLnJhdGlvLnJhdGlvIC8gaW1hZ2UucmF0aW8gKSAqIDEwMCArJyUnICk7XG5cdFx0XHR0aGlzLnNldEZvY3VzcG9pbnQoIHRoaXMub3B0aW9ucy5mb2N1c3BvaW50ICk7XG5cdFx0XHQvLyBzZXQgcG9zaXRpb24gZnJvbSBmb3N1c3BvaW50XG5cdFx0fSxcblx0XHRzZXRGb2N1c3BvaW50OmZ1bmN0aW9uKCBmb2N1c3BvaW50ICkge1xuXHRcdFx0dmFyIGltYWdlaW5mbyA9IHtcblx0XHRcdFx0XHR3aWR0aDp0aGlzLmNvbnRyb2xsZXIuaW1hZ2UuJGVsLndpZHRoKCksXG5cdFx0XHRcdFx0aGVpZ2h0OnRoaXMuY29udHJvbGxlci5pbWFnZS4kZWwuaGVpZ2h0KCksXG5cdFx0XHRcdFx0Zm9jdXNwb2ludDpmb2N1c3BvaW50LFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRyZXMgPSB3cC5tZWRpYS5yb2JvY3JvcC5jcm9wRnJvbUZvY3VzUG9pbnQoIGltYWdlaW5mbywgdGhpcy5vcHRpb25zLnJhdGlvICksXG5cdFx0XHRcdGNvb3JkID0gd3AubWVkaWEucm9ib2Nyb3AucmVsVG9BYnNDb29yZHMoIHJlcywgaW1hZ2VpbmZvICk7XG4gXHRcdFx0dGhpcy4kZWwuY3NzKCdsZWZ0Jyxjb29yZC54ICsgJ3B4JyApO1xuIFx0XHRcdHRoaXMuJGVsLmNzcygndG9wJyxjb29yZC55ICsgJ3B4JyApO1xuIFx0XHRcdFxuXHRcdH1cblx0fSk7XG5cblx0Rm9jdXNQb2ludCA9IHdwLm1lZGlhLnJvYm9jcm9wLnZpZXcuZm9jdXNwb2ludC5Gb2N1c1BvaW50ID0gVmlldy5leHRlbmQoe1xuXHRcdGNsYXNzTmFtZTpcdCd0b29sLWZvY3VzcG9pbnQnLFxuXHRcdHRlbXBsYXRlOlx0d3AudGVtcGxhdGUoJ2ZvY3VzcG9pbnQnKSxcblx0XHRpbml0aWFsaXplOiBmdW5jdGlvbigpe1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0Xy5kZWZhdWx0cyggdGhpcy5vcHRpb25zLCB7IFxuXHRcdFx0XHRmb2N1c3BvaW50Ont4OjAseTowfSwgXG5cdFx0XHRcdGVuYWJsZWQ6IGZhbHNlIFxuXHRcdFx0fSApO1xuXG5cdFx0XHR0aGlzLiRlbC5vbignY2xpY2snLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdHNlbGYuY2xpY2tGb2N1c3BvaW50KCBldmVudCApO1xuXHRcdFx0fSk7XG5cdFx0fSxcblx0XHRzZXRFbmFibGVkOiBmdW5jdGlvbiggZW5hYmxlZCApIHtcblx0XHRcdHZhciBwcmV2ID0gdGhpcy5vcHRpb25zLmVuYWJsZWQ7XG5cdFx0XHR0aGlzLm9wdGlvbnMuZW5hYmxlZCA9IGVuYWJsZWQ7XG5cdFx0XHR0aGlzLiRlbC5hdHRyKCdkYXRhLWVuYWJsZWQnLGVuYWJsZWQudG9TdHJpbmcoKSk7XG5cdFx0XHRyZXR1cm4gcHJldjtcblx0XHR9LFxuXHRcdGNsaWNrRm9jdXNwb2ludDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0dmFyIG9mZnM7XG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5lbmFibGVkICkge1xuXHRcdFx0XHRvZmZzID0gdGhpcy4kZWwub2Zmc2V0KCk7XG5cdFx0XHRcdHRoaXMuc2V0Rm9jdXNwb2ludCgge1xuXHRcdFx0XHRcdHg6ICAyICogKGV2ZW50LnBhZ2VYIC0gb2Zmcy5sZWZ0ICkgLyB0aGlzLiRlbC53aWR0aCgpICAtIDEsXG5cdFx0XHRcdFx0eTogLTIgKiAoZXZlbnQucGFnZVkgLSBvZmZzLnRvcCApIC8gdGhpcy4kZWwuaGVpZ2h0KCkgKyAxLFxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRnZXRGb2N1c3BvaW50OiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB0aGlzLmZvY3VzcG9pbnQ7XG5cdFx0fSxcblx0XHRzZXRGb2N1c3BvaW50OiBmdW5jdGlvbiggZm9jdXNwb2ludCApIHtcblx0XHRcdHRoaXMuZm9jdXNwb2ludCA9IGZvY3VzcG9pbnQ7XG5cblx0XHRcdHRoaXMuJGVsLmZpbmQoJy5mb2N1c3BvaW50JykuY3NzKHtcblx0XHRcdFx0bGVmdDogXHQoKGZvY3VzcG9pbnQueCArIDEpICogNTApKyclJyxcblx0XHRcdFx0Ym90dG9tOlx0KChmb2N1c3BvaW50LnkgKyAxKSAqIDUwKSsnJSdcblx0XHRcdH0pO1xuXHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMuZW5hYmxlZCApIHtcblx0XHRcdFx0dGhpcy50cmlnZ2VyKCdjaGFuZ2U6Zm9jdXNwb2ludCcsIHRoaXMuZm9jdXNwb2ludCApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0fSk7XG5cblx0d3AubWVkaWEucm9ib2Nyb3Audmlldy5mb2N1c3BvaW50LkltYWdlRm9jdXNQb2ludFNlbGVjdCA9IFZpZXcuZXh0ZW5kKHtcblx0XHRjbGFzc05hbWU6XHQncm9ib2Nyb3AtaW1hZ2UtYm94Jyxcblx0XHRjcm9wUmVjdHM6IFtdLFxuXHRcdGluaXRpYWxpemU6IGZ1bmN0aW9uKCApe1xuXG5cdFx0XHRfLmRlZmF1bHRzKCB0aGlzLm9wdGlvbnMsIHsgXG5cdFx0XHRcdGNvbnRyb2xsZXI6IHRoaXMsIFxuXHRcdFx0XHRmb2N1c3BvaW50OiB7eDowLHk6MH0sIFxuXHRcdFx0XHRzcmM6IGZhbHNlLCBcblx0XHRcdFx0aW1hZ2U6IGZhbHNlLCBcblx0XHRcdFx0ZW5hYmxlZDogZmFsc2UsXG5cdFx0XHR9ICk7XG5cdFx0XHR2YXIgc2VsZiBcdFx0PSB0aGlzO1xuXHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMuaW1hZ2UgIT09IGZhbHNlICYmICh0aGlzLm9wdGlvbnMuaW1hZ2UuY29uc3RydWN0b3IucHJvdG90eXBlID09IHdwLm1lZGlhLnJvYm9jcm9wLnZpZXcuSW1nLnByb3RvdHlwZSApICkge1xuXHRcdFx0XHR0aGlzLmltYWdlID0gdGhpcy5vcHRpb25zLmltYWdlO1xuXHRcdFx0fSBlbHNlIGlmICggdGhpcy5vcHRpb25zLnNyYyAhPT0gZmFsc2UgKSB7XG5cdFx0XHRcdHRoaXMuaW1hZ2VcdD0gbmV3IHdwLm1lZGlhLnJvYm9jcm9wLnZpZXcuSW1nKCB7IHNyYzogdGhpcy5vcHRpb25zLnNyYyB9KTtcblx0XHRcdH0gZWxzZSAge1xuXHRcdFx0XHR0aGlzLmltYWdlID0gbmV3IHdwLm1lZGlhLnJvYm9jcm9wLnZpZXcuSW1nKCB7IHNyYzogJycgfSwgdGhpcy5vcHRpb25zLmltYWdlKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5mb2N1c3BvaW50XHQ9IG5ldyBGb2N1c1BvaW50KHsgXG5cdFx0XHRcdGNvbnRyb2xsZXI6IHRoaXMuY29udHJvbGxlcixcblx0XHRcdFx0Zm9jdXNwb2ludDogdGhpcy5vcHRpb25zLmZvY3VzcG9pbnQsXG5cdFx0XHRcdGVuYWJsZWQ6IFx0dGhpcy5vcHRpb25zLmVuYWJsZWRcblx0XHRcdH0pO1xuXG5cdFx0XHRfLmVhY2goIGltYWdlX3JhdGlvcywgZnVuY3Rpb24oIHJhdGlvLCBrZXkgKSB7XG5cdFx0XHRcdHNlbGYuY3JvcFJlY3RzLnB1c2goIG5ldyBDcm9wUmVjdCgge1xuXHRcdFx0XHRcdGNvbnRyb2xsZXI6IHNlbGYsXG5cdFx0XHRcdFx0Zm9jdXNwb2ludDogc2VsZi5vcHRpb25zLmZvY3VzcG9pbnQsXG5cdFx0XHRcdFx0cmF0aW86IHJhdGlvXG5cdFx0XHRcdH0gKSApO1xuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMubGlzdGVuVG8oIHRoaXMuZm9jdXNwb2ludCwgJ2NoYW5nZTpmb2N1c3BvaW50JywgdGhpcy52YWx1ZUNoYW5nZWQgKTtcblx0XHR9LFxuXHRcdHNldEVuYWJsZWQ6IGZ1bmN0aW9uKCBlbmFibGVkICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZm9jdXNwb2ludC5zZXRFbmFibGVkKCBlbmFibGVkIClcblx0XHR9LFxuXHRcdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRWaWV3LnByb3RvdHlwZS5yZW5kZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dGhpcy52aWV3cy5zZXQoIFsgdGhpcy5pbWFnZSwgdGhpcy5mb2N1c3BvaW50IF0gKTtcblx0XHRcdF8uZWFjaCggdGhpcy5jcm9wUmVjdHMsIGZ1bmN0aW9uKCByZWN0ICl7XG5cdFx0XHRcdHJlY3QucmVuZGVyKClcblx0XHRcdFx0c2VsZi5mb2N1c3BvaW50LiRlbC5hcHBlbmQoIHJlY3QuJGVsICk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcdGdldEZvY3VzcG9pbnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZm9jdXNwb2ludC5nZXRGb2N1c3BvaW50KCk7XG5cdFx0fSxcblx0XHRzZXRGb2N1c3BvaW50OiBmdW5jdGlvbiggZm9jdXNwb2ludCApIHtcblx0XHRcdHRoaXMuZm9jdXNwb2ludCAmJiB0aGlzLmZvY3VzcG9pbnQuc2V0Rm9jdXNwb2ludCggZm9jdXNwb2ludCApO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRnZXRJbWFnZVdpZHRoOiBmdW5jdGlvbiggKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5pbWFnZS4kZWwuZ2V0KDApLm5hdHVyYWxXaWR0aDtcblx0XHR9LFxuXHRcdGdldEltYWdlSGVpZ2h0OiBmdW5jdGlvbiggKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5pbWFnZS4kZWwuZ2V0KDApLm5hdHVyYWxIZWlnaHQ7XG5cdFx0fSxcblx0XHRzZXRTcmM6IGZ1bmN0aW9uKCBzcmMgKSB7XG5cdFx0XHR0aGlzLmltYWdlLiRlbC5hdHRyKCAnc3JjJywgc3JjICk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHZhbHVlQ2hhbmdlZDogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHRfLmVhY2goIHRoaXMuY3JvcFJlY3RzLCBmdW5jdGlvbihyZWN0KXtcblx0XHRcdFx0cmVjdC5zZXRGb2N1c3BvaW50KCBzZWxmLmZvY3VzcG9pbnQuZ2V0Rm9jdXNwb2ludCgpICk7XG5cdFx0XHR9KTtcblx0XHRcdHRoaXMudHJpZ2dlcignY2hhbmdlZCcpO1xuXHRcdH1cblx0fSk7XG5cblx0d3AubWVkaWEucm9ib2Nyb3Audmlldy5GcmFtZS5Gb2N1c3BvaW50ID0gd3AubWVkaWEucm9ib2Nyb3Audmlldy5GcmFtZS5leHRlbmQoe1xuXHRcdGNsYXNzTmFtZTogJ2Fzay1mb2N1c3BvaW50IG1lZGlhLWZyYW1lJyxcblx0XHRldmVudHM6IHtcblx0XHRcdCdjbGljayAucmVzZXQnOiAncmVzZXQnLFxuXHRcdFx0J2NsaWNrIC5wcm9jZWVkJzogJ3Byb2NlZWQnLFxuXHRcdFx0J2NsaWNrIC5jYW5jZWwtdXBsb2FkJzogJ2NhbmNlbFVwbG9hZCcsXG5cdFx0fSxcblx0XHRpbml0aWFsaXplOiBmdW5jdGlvbiggKSB7XG5cblx0XHRcdF8uZGVmYXVsdHMoIHRoaXMub3B0aW9ucywge1xuXHRcdFx0XHR1cGxvYWRlcjpcdGZhbHNlLFxuXHRcdFx0XHR0aXRsZTpcdFx0bDEwbi5TZXRGb2N1c1BvaW50LFxuXHRcdFx0XHRtb2RhbDogdGhpcy5vcHRpb25zID8gdGhpcy5vcHRpb25zLm1vZGFsIDogZmFsc2UsXG5cdFx0XHRcdHNyYzogJycgLy8gZXhwZWN0aW5nIGFuIGltZyBlbGVtZW50XG5cdFx0XHR9KTtcblxuXHRcdFx0d3AubWVkaWEucm9ib2Nyb3Audmlldy5GcmFtZS5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cblx0XHRcdGlmICggdGhpcy5tb2RhbCApIHtcblx0XHRcdFx0dGhpcy5tb2RhbC5vbignZXNjYXBlJywgdGhpcy5jYW5jZWxVcGxvYWQsIHRoaXMgKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuY3JlYXRlVGl0bGUoKTtcblx0XHRcdHRoaXMuY3JlYXRlQ29udGVudCgpO1xuXHRcdFx0dGhpcy5jcmVhdGVJbnN0cnVjdGlvbnMoKTtcblx0XHRcdHRoaXMuY3JlYXRlQnV0dG9ucygpO1xuXHRcdH0sXG4vLyBcdFx0cmVuZGVyOiBmdW5jdGlvbigpIHtcbi8vIFx0XHRcdC8vIGZyYW1lIGxheW91dFxuLy8gXG4vLyBcdFx0XHR3cC5tZWRpYS5yb2JvY3JvcC52aWV3Lk1vZGFsLnByb3RvdHlwZS5yZW5kZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuLy8gXHRcdH0sXG5cdFx0Y3JlYXRlVGl0bGU6IGZ1bmN0aW9uKCApIHtcblx0XHRcdHRoaXMuX3RpdGxlID0gbmV3IHdwLm1lZGlhLlZpZXcoe1xuXHRcdFx0XHR0YWdOYW1lOiAnaDEnXG5cdFx0XHR9KTtcblx0XHRcdHRoaXMuX3RpdGxlLiRlbC50ZXh0KCB0aGlzLm9wdGlvbnMudGl0bGUgKTtcblx0XHRcdHRoaXMudGl0bGUuc2V0KCBbIHRoaXMuX3RpdGxlIF0gKTtcblx0XHR9LFxuXHRcdGNyZWF0ZUNvbnRlbnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5fY29udGVudCA9IG5ldyB3cC5tZWRpYS5yb2JvY3JvcC52aWV3LmZvY3VzcG9pbnQuSW1hZ2VGb2N1c1BvaW50U2VsZWN0KHtcblx0XHRcdFx0c3JjOiAnJyxcblx0XHRcdFx0Zm9jdXNwb2ludDp7IHg6MCwgeTowIH0sXG5cdFx0XHRcdGNvbnRyb2xsZXI6IHRoaXMsXG5cdFx0XHRcdGVuYWJsZWQ6IHRydWVcblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5jb250ZW50LnNldCggWyB0aGlzLl9jb250ZW50IF0gKTtcblx0XHR9LFxuXHRcdGNyZWF0ZUluc3RydWN0aW9uczogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgaW5mbywgYnRuO1xuXHRcdFx0dGhpcy5pbnN0cnVjdGlvbnMuc2V0KCBbXG5cdFx0XHRcdG5ldyB3cC5tZWRpYS5WaWV3KHtcblx0XHRcdFx0XHRlbDogJCggJzxkaXYgY2xhc3M9XCJpbnN0cnVjdGlvbnNcIj4nICsgbDEwbi5Gb2N1c1BvaW50SW5zdHJ1Y3Rpb25zICsgJzwvZGl2PicgKVswXSxcblx0XHRcdFx0XHRwcmlvcml0eTogLTQwXG5cdFx0XHRcdH0pXG5cdFx0XHRdICk7XG5cdFx0fSxcblx0XHRjcmVhdGVCdXR0b25zOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpbmZvLCBidG47XG5cblx0XHRcdHRoaXMuYnV0dG9ucy5zZXQoIFtcblx0XHRcdFx0bmV3IHdwLm1lZGlhLnZpZXcuQnV0dG9uKHtcblx0XHRcdFx0XHR0ZXh0OiBsMTBuLkNhbmNlbFVwbG9hZCxcblx0XHRcdFx0XHRjbGFzc05hbWU6ICdjYW5jZWwtdXBsb2FkJ1xuXHRcdFx0XHR9KSxcblx0XHRcdFx0bmV3IHdwLm1lZGlhLnZpZXcuQnV0dG9uKHtcblx0XHRcdFx0XHR0ZXh0OiBsMTBuLlJlc2V0LFxuXHRcdFx0XHRcdGNsYXNzTmFtZTogJ3Jlc2V0J1xuXHRcdFx0XHR9KSxcblx0XHRcdFx0bmV3IHdwLm1lZGlhLnZpZXcuQnV0dG9uKHtcblx0XHRcdFx0XHR0ZXh0OiBsMTBuLk9rYXksXG5cdFx0XHRcdFx0Y2xhc3NOYW1lOiAnYnV0dG9uLXByaW1hcnkgcHJvY2VlZCdcblx0XHRcdFx0fSlcblx0XHRcdF0gKTtcblx0XHR9LFxuXG5cdFx0c2V0U3JjOiBmdW5jdGlvbiggc3JjICkge1xuXHRcdFx0dGhpcy5fY29udGVudC5zZXRTcmMoIHNyYyApO1xuXHRcdH0sXG5cdFx0c2V0RmlsZTogZnVuY3Rpb24oIGZpbGUgKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXMsIGZyID0gbmV3IEZpbGVSZWFkZXIoKTtcblx0XHRcdGZyLm9ubG9hZCA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0c2VsZi5zZXRTcmMoIGZyLnJlc3VsdCApO1xuXHRcdFx0fVxuXHRcdFx0ZnIucmVhZEFzRGF0YVVSTCggZmlsZSApO1xuXHRcdH0sXG5cdFx0c2V0Rm9jdXNwb2ludDogZnVuY3Rpb24oIGZvY3VzcG9pbnQgKSB7XG5cdFx0XHR0aGlzLl9jb250ZW50LnNldEZvY3VzcG9pbnQoIGZvY3VzcG9pbnQgKTtcblx0XHR9LFxuXHRcdGdldEZvY3VzcG9pbnQ6IGZ1bmN0aW9uKCApIHtcblx0XHRcdHJldHVybiB0aGlzLl9jb250ZW50LmdldEZvY3VzcG9pbnQoKTtcblx0XHR9LFxuXHRcdGdldEltYWdlV2lkdGg6IGZ1bmN0aW9uKCApIHtcblx0XHRcdHJldHVybiB0aGlzLl9jb250ZW50LmdldEltYWdlV2lkdGgoKTtcblx0XHR9LFxuXHRcdGdldEltYWdlSGVpZ2h0OiBmdW5jdGlvbiggKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fY29udGVudC5nZXRJbWFnZUhlaWdodCgpO1xuXHRcdH0sXG5cdFx0cmVzZXQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHRoaXMuc2V0Rm9jdXNwb2ludCggeyB4OjAsIHk6MCB9IClcblx0XHR9LFxuXHRcdHByb2NlZWQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHRoaXMudHJpZ2dlcigncHJvY2VlZCcpO1xuXHRcdH0sXG5cdFx0Y2FuY2VsVXBsb2FkOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHQvLyByZW1vdmUgZnJvbSBxdWV1ZSFcblx0XHRcdHRoaXMudHJpZ2dlcignY2FuY2VsLXVwbG9hZCcpO1xuXHRcdFx0dGhpcy5jbG9zZSgpO1xuXHRcdH1cblx0fSk7XG5cbn0pKHdwLGpRdWVyeSk7XG4iLCIoZnVuY3Rpb24od3AsJCkge1xuXG5cdHZhciBpbWFnZV9yYXRpb3NcdFx0PSB3aW5kb3cud3Bfcm9ib2Nyb3AuaW1hZ2VfcmF0aW9zLFxuXHRcdGltYWdlX3NpemVzXHRcdFx0PSB3aW5kb3cud3Bfcm9ib2Nyb3AuaW1hZ2Vfc2l6ZXMsXG5cdFx0bDEwblx0XHRcdFx0PSB3aW5kb3cud3Bfcm9ib2Nyb3AubDEwbixcblx0XHRvcHRpb25zXHRcdFx0XHQ9IHdpbmRvdy53cF9yb2JvY3JvcC5vcHRpb25zLFxuXHRcdGNyb3BCdG5IVE1MXHRcdFx0PSAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidXR0b24gcm9ib2Nyb3Atb3BlblwiPicrbDEwbi5FZGl0SW1hZ2VTaXplcysnPC9idXR0b24+Jyxcblx0XHRjcm9wTGlua0hUTUxcdFx0PSAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidXR0b24tbGluayByb2JvY3JvcC1vcGVuXCI+JytsMTBuLkVkaXRJbWFnZVNpemVzKyc8L2J1dHRvbj4nO1xuIFxuXHR2YXIgcm9ib2Nyb3BTdGF0ZUV4dGVuZCA9IHtcblx0XHRjcmVhdGVTdGF0ZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5fcGFyZW50Q3JlYXRlU3RhdGVzLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblx0XHRcdHRoaXMuc3RhdGVzLmFkZChcblx0XHRcdFx0bmV3IHdwLm1lZGlhLnJvYm9jcm9wLmNvbnRyb2xsZXIuUm9ib2Nyb3BJbWFnZSgge1xuXHRcdFx0XHRcdG1vZGVsOiB0aGlzLm1vZGVsLFxuXHRcdFx0XHRcdHNlbGVjdGlvbjogdGhpcy5vcHRpb25zLnNlbGVjdGlvblxuXHRcdFx0XHR9IClcblx0XHRcdCk7XG5cdFx0fVxuXHR9O1xuXG5cdC8vIHBvc3QgaW5saW5lIGltYWdlIGVkaXRvclxuXHRfLmV4dGVuZCggd3AubWVkaWEudmlldy5JbWFnZURldGFpbHMucHJvdG90eXBlLCB7XG5cdFx0X3BhcmVudFBvc3RSZW5kZXI6IHdwLm1lZGlhLnZpZXcuSW1hZ2VEZXRhaWxzLnByb3RvdHlwZS5wb3N0UmVuZGVyLFxuXHRcdHBvc3RSZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5fcGFyZW50UG9zdFJlbmRlci5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHR0aGlzLiRlbC5maW5kKCcuYWN0aW9ucycpLmFwcGVuZChjcm9wQnRuSFRNTCk7XG5cdFx0fSxcblx0XHRyb2JvY3JvcE9wZW46IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdGNvbnNvbGUubG9nKCk7XG5cdFx0XHR2YXIgc2l6ZSA9IHRoaXMubW9kZWwuZ2V0KCdzaXplJyksXG5cdFx0XHRcdGNyb3B0b29sID0gbmV3IHdwLm1lZGlhLnJvYm9jcm9wLnZpZXcuRnJhbWUuQ3JvcCggeyBcblx0XHRcdFx0XHRjb250cm9sbGVyOiB0aGlzLmNvbnRyb2xsZXIsIFxuXHRcdFx0XHRcdG1vZGVsOiB0aGlzLmNvbnRyb2xsZXIuaW1hZ2UuYXR0YWNobWVudCxcblx0XHRcdFx0XHRzaXplVG9TZWxlY3Q6IHNpemVcblx0XHRcdFx0fSApO1xuXHRcdFx0Y3JvcHRvb2wub3BlbigpO1xuXHRcdH1cblx0fSk7XG5cdHdwLm1lZGlhLnZpZXcuSW1hZ2VEZXRhaWxzLnByb3RvdHlwZS5ldmVudHNbJ2NsaWNrIC5yb2JvY3JvcC1vcGVuJ10gPSAncm9ib2Nyb3BPcGVuJztcblxuXG5cdC8vIElubGluZSBNZWRpYUxpYnJhcnksIEdyaWQgdmlldyBNZWRpYUxpYnJhcnlcblx0Xy5leHRlbmQoIHdwLm1lZGlhLnZpZXcuQXR0YWNobWVudC5EZXRhaWxzLnByb3RvdHlwZSwge1xuXHRcdF9wYXJlbnRSZW5kZXI6IHdwLm1lZGlhLnZpZXcuQXR0YWNobWVudC5EZXRhaWxzLnByb3RvdHlwZS5yZW5kZXIsXG5cdFx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuX3BhcmVudFJlbmRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cdFx0XHQvLyBtZWRpYSBsaWJyYXJ5IHNjcmVlblxuXHRcdFx0aWYgKCB0aGlzLm1vZGVsLmdldCgndHlwZScpID09PSAnaW1hZ2UnICkge1xuXHRcdFx0XHR0aGlzLiQoJy5hdHRhY2htZW50LWFjdGlvbnMnKS5hcHBlbmQoY3JvcEJ0bkhUTUwpO1xuXHRcdFx0XHQkKCBjcm9wTGlua0hUTUwgKS5pbnNlcnRBZnRlciggdGhpcy4kZWwuZmluZCggJ2EuZWRpdC1hdHRhY2htZW50JyApICk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRyb2JvY3JvcE9wZW46IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHZhciBjcm9wdG9vbCA9IG5ldyB3cC5tZWRpYS5yb2JvY3JvcC52aWV3LkZyYW1lLkNyb3AoIHsgXG5cdFx0XHRcdFx0Y29udHJvbGxlcjogdGhpcy5jb250cm9sbGVyLCBcblx0XHRcdFx0XHRtb2RlbDogdGhpcy5tb2RlbFxuXHRcdFx0XHR9KTtcblx0XHRcdGNyb3B0b29sLm9wZW4oKTtcblx0XHR9LFxuXHRcdF9wYXJlbnRDcmVhdGVTdGF0ZXM6IHdwLm1lZGlhLnZpZXcuQXR0YWNobWVudC5EZXRhaWxzLnByb3RvdHlwZS5jcmVhdGVTdGF0ZXNcblx0fSwgcm9ib2Nyb3BTdGF0ZUV4dGVuZCApO1xuXG5cdHdwLm1lZGlhLnZpZXcuQXR0YWNobWVudC5EZXRhaWxzLnByb3RvdHlwZS5ldmVudHNbJ2NsaWNrIC5yb2JvY3JvcC1vcGVuJ10gPSAncm9ib2Nyb3BPcGVuJztcblxuXG59KSh3cCxqUXVlcnkpO1xuIiwiKGZ1bmN0aW9uKCAkICkge1xuXG5cdHZhciBpbWFnZV9yYXRpb3MgPSB3aW5kb3cud3Bfcm9ib2Nyb3AuaW1hZ2VfcmF0aW9zLFxuXHRcdGltYWdlX3NpemVzICA9IHdpbmRvdy53cF9yb2JvY3JvcC5pbWFnZV9zaXplcyxcblx0XHRvcHRpb25zID0gd2luZG93LndwX3JvYm9jcm9wLm9wdGlvbnMsXG5cdFx0aW1hZ2VJbmZvcyA9IHt9O1xuXG5cdC8qKlxuXHQgKlx0RWFybHkgcmV0dXJuIGlmIGF1dG9jcm9wIGlzIGRpc2FibGVkXG5cdCAqL1xuXHRpZiAoICEgb3B0aW9ucy5hc2tfZm9yX2ZvY3VzcG9pbnQgKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Xy5leHRlbmQoIHdwLm1lZGlhLnZpZXcuVXBsb2FkZXJXaW5kb3cucHJvdG90eXBlLCB7XG5cdFx0X3BhcmVudFJlYWR5OiB3cC5tZWRpYS52aWV3LlVwbG9hZGVyV2luZG93LnByb3RvdHlwZS5yZWFkeSxcblx0XHRkaWRSZWFkeTpmYWxzZSxcblxuXHRcdHJlYWR5OmZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGFza0ZvY3VzSW1hZ2VzID0gW10sXG5cdFx0XHRcdGFza01vZGFsLCBzZWxmID0gdGhpcztcblxuXHRcdFx0Ly8gcHJldmVudCBkb3VibGUgaW5pdFxuXHRcdFx0aWYgKCB0aGlzLmRpZFJlYWR5ICkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5fcGFyZW50UmVhZHkuYXBwbHkoIHRoaXMgLCBhcmd1bWVudHMgKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuZGlkUmVhZHkgPSB0cnVlO1xuXG5cdFx0XHRyZXQgPSB0aGlzLl9wYXJlbnRSZWFkeS5hcHBseSggdGhpcyAsIGFyZ3VtZW50cyApO1xuXG5cdFx0XHRmdW5jdGlvbiBhc2tGb2N1cyggdXBsb2FkZXIgKSB7XG5cdFx0XHRcdHZhciBmaWxlSXRlbSwgc3JjO1xuXHRcdFx0XHRpZiAoIGFza01vZGFsICkge1xuXHRcdFx0XHRcdGFza01vZGFsLmNsb3NlKCkuZGlzcG9zZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggISEgYXNrRm9jdXNJbWFnZXMubGVuZ3RoICkge1xuXHRcdFx0XHRcdGZpbGVJdGVtID0gYXNrRm9jdXNJbWFnZXMuc2hpZnQoKTtcblx0XHRcdFx0XHRhc2tNb2RhbCA9IG5ldyB3cC5tZWRpYS5yb2JvY3JvcC52aWV3LkZyYW1lLkZvY3VzcG9pbnQoeyBjb250cm9sbGVyOiAkKHRoaXMpIH0pO1xuXHRcdFx0XHRcdGFza01vZGFsLm9uKCdwcm9jZWVkJyxmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGltYWdlSW5mb3NbZmlsZUl0ZW0uZmlsZS5uYW1lXSA9IHtcblx0XHRcdFx0XHRcdFx0Zm9jdXNwb2ludDpcdGFza01vZGFsLmdldEZvY3VzcG9pbnQoKSxcblx0XHRcdFx0XHRcdFx0d2lkdGg6XHRcdGFza01vZGFsLmdldEltYWdlV2lkdGgoKSxcblx0XHRcdFx0XHRcdFx0aGVpZ2h0Olx0XHRhc2tNb2RhbC5nZXRJbWFnZUhlaWdodCgpXG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0YXNrRm9jdXMoIHVwbG9hZGVyICk7XG5cdFx0XHRcdFx0fSkub24oJ2NhbmNlbC11cGxvYWQnLGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0ZmlsZUl0ZW0uZmlsZS5hdHRhY2htZW50LmRlc3Ryb3koKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRhc2tNb2RhbC5zZXRGb2N1c3BvaW50KHt4OjAseTowfSk7XG5cdFx0XHRcdFx0YXNrTW9kYWwuc2V0RmlsZSggZmlsZUl0ZW0uYmxvYiApO1xuXHRcdFx0XHRcdGFza01vZGFsLm9wZW4oKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR1cGxvYWRlci5zdGFydCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGZ1bmN0aW9uIGFkZEFza0ZvY3VzKCBmaWxlRGF0YSwgdXBsb2FkZXIgKSB7XG5cdFx0XHRcdGFza0ZvY3VzSW1hZ2VzLnB1c2goIGZpbGVEYXRhICk7XG5cdFx0XHR9XG5cblx0XHRcdC8qKlxuXHRcdFx0ICpcdEByZXR1cm4gbmF0aXZlIGZpbGUgb2JqZWN0IG9yIGJsb2Jcblx0XHRcdCAqL1xuXHRcdFx0ZnVuY3Rpb24gcmVzb2x2ZUZpbGUoIGZpbGUgKSB7XG5cdFx0XHRcdHZhciBfcmV0ID0ge1xuXHRcdFx0XHRcdGZpbGU6IGZpbGUsXG5cdFx0XHRcdFx0YmxvYjpmaWxlLmdldE5hdGl2ZSgpXG5cdFx0XHRcdH0sIF9yZXQyLCBieXRlcywgaTtcblx0XHRcdFx0aWYgKCAhIF9yZXQuYmxvYiApIHtcblx0XHRcdFx0XHRfcmV0LmJsb2IgPSBmaWxlLmdldFNvdXJjZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBfcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBzdG9wIHVwbG9hZGVyIGFuZCBnZW5lcmF0ZSBjcm9wZGF0YSBcblx0XHRcdHRoaXMudXBsb2FkZXIudXBsb2FkZXIuYmluZCgnRmlsZXNBZGRlZCcsZnVuY3Rpb24oIHVwLCBmaWxlcyApIHtcblx0XHRcdFx0dmFyIGZpbGVEYXRhO1xuXG5cdFx0XHRcdC8vIHB1dCBtb2RhbFxuXHRcdFx0XHRmb3IgKHZhciBpPTA7aTxmaWxlcy5sZW5ndGg7aSsrKSB7XG5cdFx0XHRcdFx0aWYgKCBmaWxlc1tpXS50eXBlID09ICdpbWFnZS9wbmcnIHx8IGZpbGVzW2ldLnR5cGUgPT0gJ2ltYWdlL2pwZWcnICkge1xuXHRcdFx0XHRcdFx0ZmlsZURhdGEgPSByZXNvbHZlRmlsZSggZmlsZXNbaV0gKTtcblx0XHRcdFx0XHRcdGlmICggZmlsZURhdGEuYmxvYiBpbnN0YW5jZW9mIEJsb2IgKSB7XG5cdFx0XHRcdFx0XHRcdGFkZEFza0ZvY3VzKCBmaWxlRGF0YSwgdXAgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBhc2tGb2N1c0ltYWdlcy5sZW5ndGggKSB7XG5cdFx0XHRcdFx0dXAuc3RvcCgpO1xuXHRcdFx0XHRcdHVwLnJlZnJlc2goKTtcblx0XHRcdFx0XHRhc2tGb2N1cyggdXAgKTsgLy8gd2lsbCBhc2sgZm9yIGZvY3VzIG9yIHN0YXJ0IHVwbG9hZGVyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCJhc2tmb2N1c1wiKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHQvLyBzZW5kIGNyb3BkYXRhIFxuXHRcdFx0dGhpcy51cGxvYWRlci51cGxvYWRlci5iaW5kKCdCZWZvcmVVcGxvYWQnLGZ1bmN0aW9uKCB1cCwgZmlsZSApIHtcblx0XHRcdFx0dmFyIHMsIGNyb3BkYXRhLCBmb2N1c3BvaW50O1xuXG5cdFx0XHRcdGlmICggaW1hZ2VJbmZvc1tmaWxlLm5hbWVdICkge1xuXG5cdFx0XHRcdFx0Ly8gYWRkIGZvY3VzIHBvaW50IGFuZCBjcm9wZGF0YSB0byBmaWxlXG5cdFx0XHRcdFx0aW1hZ2VpbmZvID0gaW1hZ2VJbmZvc1tmaWxlLm5hbWVdO1xuXHRcdFx0XHRcdGNyb3BkYXRhID0ge307XG5cdFx0XHRcdFx0Zm9yIChzIGluIGltYWdlX3JhdGlvcykge1xuXHRcdFx0XHRcdFx0Y3JvcGRhdGFbIGltYWdlX3JhdGlvc1tzXS5uYW1lIF0gPSB3cC5tZWRpYS5yb2JvY3JvcC5jcm9wRnJvbUZvY3VzUG9pbnQoIGltYWdlaW5mbywgaW1hZ2VfcmF0aW9zW3NdICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dXAuc2V0dGluZ3MubXVsdGlwYXJ0X3BhcmFtcy5mb2N1c3BvaW50XHQ9IEpTT04uc3RyaW5naWZ5KCBpbWFnZWluZm8uZm9jdXNwb2ludCApO1xuXHRcdFx0XHRcdHVwLnNldHRpbmdzLm11bHRpcGFydF9wYXJhbXMuY3JvcGRhdGFcdD0gSlNPTi5zdHJpbmdpZnkoIGNyb3BkYXRhICk7XG5cblx0XHRcdFx0XHRkZWxldGUoaW1hZ2VJbmZvc1tmaWxlLm5hbWVdKVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fVxuXHR9KTtcblxufSkoIGpRdWVyeSApO1xuXG4iXX0=
